<!DOCTYPE html>
<html lang="dv" class="notranslate" translate="no">
  <head>
    <meta name="google" content="notranslate" />
    <!-- CHANGE !!! -->
    <link
      rel="canonical"
      href="https://hadithmv.github.io/page/textEditor.html"
    />
    <title>Hadithmv - Text Editor</title>
    <meta
      name="description"
      content="The Maldivian Platform for Translations of the Sunnah | ސުންނަތުގެ ތަރުޖަމާ މަންސަ"
    />
    <meta
      name="keywords"
      content="hadithmv, hadith mv, hadeeth mv, dhivehi, hadith, hadhees, dhivehi islamic books, ފޮތް, ތަރުޖަމާ, ޤުރްއާން, ޤުރުއާން, ގުރްއާން,ގުރުއާން, އިސްލާމް, ދިވެހި ,ޙަދީޘްއެމްވީ ,ޙަދީޘް އެމްވީ"
    />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta itemprop="name" content="Hadithmv" />
    <meta itemprop="description" content="ޙަދީޘްއެމްވީ" />
    <meta
      itemprop="image"
      content="https://hadithmv.github.io/img/logo/NewLogo7/hadithmv-logo-7.0-whiteBack-512px.png"
    />
    <meta property="og:title" content="Hadithmv" />
    <meta property="og:type" content="website" />
    <meta
      property="og:image"
      content="https://hadithmv.github.io/img/logo/NewLogo7/hadithmv-logo-7.0-whiteBack-512px.png"
    />
    <link rel="icon" href="../img/logo/logo.svg" type="image/svg+xml" />
    <meta name="theme-color" content="#29434e" />
    <link
      rel="stylesheet"
      href="../css/DT-COMB.min.css"
      media="print"
      onload="this.media='all'"
    />
    <!-- CHANGE !!! -->
    <script src="../js/navbar.js"></script>
    <script src="editorResc.js"></script>
    <style>
      /* https://www.webtips.dev/webtips/html/native-html-tooltips */

      .ttClass[data-tooltip] {
        /*position: relative;*/
        /* turning this position relative off seems to fix the z index problem with buttons showing over larger help tooltips
      
      /* added important to override otherwise mouse cursor */
        cursor: help !important;
        /*text-decoration: underline;*/
      }

      .ttClass[data-tooltip]:hover::before {
        transform: translate(0);
        opacity: 1;
        /* added this below otherwise font color fades away*/
        color: initial;
      }

      .ttClass[data-tooltip]::before {
        content: attr(data-tooltip);
        position: absolute;
        /*width: 150px;*/
        display: block;
        background: #fff;
        padding: 10px;
        top: -50px;
        box-shadow: 0px 2px 5px #0000008c;
        border-radius: 3px;
        text-align: center;
        left: 0;
        z-index: 1;
        opacity: 0;
        pointer-events: none;
        transform: translateY(20px);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        /* added */
        font-family: "Quicksand", sans-serif, "mergedFont", "faruma";
        font-size: 16px !important;
        line-height: normal !important;
        /*text-align: right;
        direction: ltr;*/
        /**/
        /*
        line-height: 1.8;
        width: 100%;
        height: 300px;
        border-radius: 4px;
        */
      }

      /*

      */

      /* fixes bottom border line of tab showing */

      .tab {
        /*border-bottom: 0.5px !important;*/
        /*border: 0.25px solid rgba(0, 0, 0, 0.25);*/
        /*border-bottom: 0.25px solid rgba(0, 0, 0, 0.25);*/
        /*border: none;*/
        /*border-top: 0.25px solid rgba(0, 0, 0, 0.25);*/
        border-top: none;
        border-bottom: 1px solid #ccc;
      }

      /* fixes tab button border overlap */
      /*@mixin for-ab0ve-phone-only*/

      /*
    .tab button {
      border: 0.25px solid rgba(0, 0, 0, 0.25);
      border-bottom: none;
    }
    */

      @media (min-width: 599px) {
        .tab button:nth-child(2) {
          border-right: none;
        }
      }

      /*.tabcontent {
        max-width: 1000px;
        margin-left: auto;
        margin-right: auto;
      }*/
      hr {
        width: 90%;
      }

      .wrapper {
        width: 100%;
        max-width: 1200px;
      }

      body {
        padding-left: 20px;
        padding-right: 20px;
      }

      h4 {
        margin: 0;
        margin-bottom: 10px;
      }

      .notranslate {
        padding-top: 0;
      }

      p.buttonHeader {
        margin-top: 15px;
        margin-bottom: 10px;
      }

      /*.editorButtons button.arButton {
      font-size: 17px;
    }*/

      /*p {
              margin-top: 7px;
            }*/

      /*.EditorHeader,
      body {
        margin-top: 0;
        margin-bottom: 5px;
      }*/

      #textMainArea,
      #textSumArea {
        font-family: "mergedFont", "Quicksand", sans-serif, "faruma";
        font-size: 20px;
        line-height: 1.8;
        width: 100%;
        height: 300px;
        border-radius: 4px;
        direction: rtl;
        /**/

        /* box sizing lets me add padding without losing the centering, better than indents or padding on its own */
        padding: 10px;
        box-sizing: border-box;

        /* needed for deanimate effect */
        -webkit-transition: all 0.5s ease;
        -moz-transition: all 0.5s ease;
        -o-transition: all 0.5s ease;
        transition: all 0.5s ease;
      }

      #textSumArea {
        font-family: sans-serif;
        line-height: 1.5;
        direction: ltr;
        max-width: 650px;
        /* centers */
        display: block;
        margin-left: auto;
        margin-right: auto;
      }

      /* fixes button placing evenness */
      .editorButtons {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        /* do i need below? */
        align-items: center;
      }

      /* provides a gap between lines of buttons, on phones only */
      @media (max-width: 599px) {
        .editorButtons {
          column-gap: 1.5%;
        }
      }

      .editorButtons button {
        flex: 0 1 150px;
        /* part of above, Allow buttons to shrink and grow to the specified width */

        font-family: sans-serif, "mergedFont", "Quicksand", "faruma";
        /*font-family: "mergedFont", sans-serif, "Quicksand", "faruma";*/
        font-size: 16px;
        width: 150px;
        height: 47px;
        margin: 5px;
        border-radius: 5px;
        border-width: 0;
        /*padding: 20px;*/
        /* add ease in transition for hover */
        transition: transform 0.2s ease-out;
        /* add border to button*/
        border: 0.25px solid rgba(0, 0, 0, 0.25);
      }

      .editorButtons .inputFieldClass {
        /*font-family: "mergedFont", "Quicksand", sans-serif, "faruma";*/
        direction: ltr;
        font-size: 17px;
        width: 150px;
        height: 47px;
        margin: 5px;
        border-radius: 5px;
        border-width: 0;
        /*padding: 20px;*/
        /* add ease in transition for hover */
        transition: transform 0.2s ease-out;
      }

      .inputFieldClass {
        /* add border to button*/
        border: 0.25px solid rgba(0, 0, 0, 0.25) !important;
      }

      /* @mixin for-phone-only */
      @media (max-width: 599px) {
        .editorButtons button {
          font-size: 13.5px;
          width: 130px;
          height: 50px;
          /*padding: 20px;*/
          margin: 3px;
          padding-right: 0px;
          padding-left: 0px;
          margin-right: 0px;
          margin-left: 0px;
        }

        .editorButtons .inputFieldClass {
          font-size: 13.5px;
          /**/
          width: 130px;
          height: 50px;
          /*padding: 20px;*/
          margin: 3px;
          padding-right: 0px;
          padding-left: 0px;
          margin-right: 0px;
          margin-left: 0px;
        }

        /*.editorButtons button .arButton {
        font-size: 15px;
      }*/

        /*textarea {
                font-size: 17px;
                line-height: 1.6;
              }*/
      }

      .editorButtons button:hover {
        cursor: pointer;
        color: #fff;
        transform: scale(1.15);
        /*z-index: 9999;*/
        background-color: #136296;
        -webkit-font-smoothing: antialiased;
      }

      /* https://stackoverflow.com/questions/38377062/how-to-make-html-button-look-pressed-in-using-css/38377286#38377286 */
      .editorButtons button:active,
      .editorButtons button .pressedButton {
        /*background: #e5e5e5;*/
        -webkit-box-shadow: inset 0px 0px 5px #c1c1c1;
        -moz-box-shadow: inset 0px 0px 5px #c1c1c1;
        box-shadow: inset 0px 0px 5px #c1c1c1;
        /*outline: none;*/
      }

      /* replaced with <u>
    .uLined {
      text-decoration: underline;
    }
    */

      .topContainer {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -webkit-flex-direction: row-reverse;
        -ms-flex-direction: row-reverse;
        flex-direction: row-reverse;
        -webkit-flex-wrap: wrap;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
        /* to spread evenly in the middle */
        justify-content: space-around;
      }
    </style>
  </head>

  <body>
    <div id="navbar-container"></div>
    <div class="dtWrapper">
      <div class="hmvSection leftAlignedText ltrText">
        <div class="centerAlignedText">
          <div class="tab" style="max-width: 1000px; margin: 0 auto">
            <button
              class="tablinks"
              onclick="openTab(event, 'tabOne');"
              id="defaultOpen"
            >
              <!-- id="secondaryOpen"-->
              <!--  focusEditor(); -->
              <!--   -->
              <span class="hideOnPhoneOnly"><u>1</u> </span>Edit އެޑިޓް
            </button>
            <button
              class="tablinks"
              onclick="openTab(event, 'tabTwo')"
              id="secondButton"
            >
              <span class="hideOnPhoneOnly"><u>2</u> </span>Copy ކޮޕީ
            </button>
            <button
              class="tablinks"
              onclick="openTab(event, 'tabThree');"
              id="thirdButton"
            >
              <!--  focusAdder(); -->
              <!--   -->
              <span class="hideOnPhoneOnly"><u>3</u> </span>Calc ހިސާބު
            </button>
            <button
              class="tablinks"
              onclick="openTab(event, 'tabFour')"
              id="fourthButton"
            >
              <!-- id="defaultOpen" -->
              <span class="hideOnPhoneOnly"><u>4</u> </span>Diff ތަފާތު</button
            ><!-- &nbsp;&nbsp; previously put before diff-->
          </div>

          <script>
            function focusEditor() {
              document.getElementById("textMainArea").focus();
            }

            function focusAdder() {
              document.getElementById("textSumArea").focus();
            }
          </script>

          <script>
            // keyboard shortcuts
            // https://www.toptal.com/developers/keycode
            // http://gcctech.org/csc/javascript/javascript_keycodes.htm
            // https://melwinalm.medium.com/crcreating-keyboard-shortcuts-in-javascripteating-keyboard-shortcuts-in-javascript-763ca19beb9e
            // https://stackoverflow.com/questions/31392863/load-external-javascript-on-desktop-only/31392945#31392945
            if (window.innerWidth > 600) {
              //
              // tab number shortcuts
              //

              document.onkeyup = function (e) {
                if (e.altKey && e.which == 49) {
                  // is 1
                  //alert("Ctrl + Alt + Shift + U shortcut combination was pressed");
                  //openTab(event, "tabOne");
                  //focusEditor();
                  // https://bobbyhadz.com/blog/javascript-get-nth-child-of-element#:~:text=Use%20the%20querySelector()%20method,that%20matches%20the%20provided%20position.
                  // https://stackoverflow.com/questions/155188/trigger-a-button-click-with-javascript-on-the-enter-key-in-a-text-box/155263#155263
                  document.querySelector("#defaultOpen").click();
                  //document.querySelector("#secondaryOpen").click();
                }
                if (e.altKey && e.which == 50) {
                  // is 2
                  //alert("Ctrl + Alt + Shift + U shortcut combination was pressed");
                  //openTab(event, "tabTwo");
                  document.querySelector("#secondButton").click();
                }
                if (e.altKey && e.which == 51) {
                  // is 3
                  //alert("Ctrl + Alt + Shift + U shortcut combination was pressed");
                  //openTab(event, "tabThree");
                  //focusAdder();
                  document.querySelector("#thirdButton").click();
                }
                if (e.altKey && e.which == 52) {
                  // is 4
                  //alert("Ctrl + Alt + Shift + U shortcut combination was pressed");
                  //openTab(event, "tabFour");
                  document.querySelector("#fourthButton").click();
                  //document.querySelector("#defaultOpen").click();
                }

                //
                // editor button shortcuts
                //

                if (e.altKey && e.which == 67) {
                  // is c
                  document.querySelector("#copyButton").click();
                  //const mouseoverEvent = new Event("mouseover");
                  //whateverElement.dispatchEvent(mouseoverEvent);
                }
                /*if (e.altKey && e.which == 69) {
      // is e (which opens settings in edge, so leave it)
      document.querySelector("#eraseButton").click();
    }*/
                /*if (e.altKey && e.which == 68) {
      // is d (which selects url in edge, so leave it)
      document.querySelector("#toggleDark").click();
    }*/
                if (e.altKey && e.which == 85) {
                  // is u
                  document.querySelector("#upButton").click();
                }
                if (e.altKey && e.which == 76) {
                  // is l
                  document.querySelector("#ltrButton").click();
                }
                if (e.altKey && e.which == 73) {
                  // is i
                  document.querySelector("#caseChangeTitle").click();
                }
                if (e.altKey && e.which == 86) {
                  // is s
                  document.querySelector("#shuffleButton").click();
                }
                if (e.altKey && e.which == 82) {
                  // is r
                  document.querySelector("#randNoButton").click();
                }
                if (e.altKey && e.which == 87) {
                  // is w
                  document.querySelector("#wrapButton").click();
                }
                if (e.altKey && e.which == 79) {
                  // is o
                  document.querySelector("#lineSort").click();
                }
                if (e.altKey && e.which == 78) {
                  // is n
                  document.querySelector("#downButton").click();
                }
                if (e.altKey && e.which == 77) {
                  // is m
                  document.querySelector("#toggleDark").click();
                }

                if (e.altKey && e.which == 88) {
                  // is x
                  document.querySelector("#extraSpaces").click();
                }
                if (e.altKey && e.which == 80) {
                  // is p
                  document.querySelector("#repPuncButton").click();
                }
                if (e.altKey && e.which == 71) {
                  // is g
                  document.querySelector("#lineNumButton").click();
                }
                if (e.altKey && e.which == 82) {
                  // is r
                  document.querySelector("#eraseButton").click();
                }
                if (e.altKey && e.which == 83) {
                  // is s
                  document.querySelector("#fullScreenB").click();
                }
                //
                //if (evt.keyCode == 27) {
                if (e.which == 27) {
                  // is esc
                  //alert("Esc key pressed.");
                  document
                    .getElementById("compare")
                    .classList.remove("fullScreenClass2");
                  // Function to show the scrollbar
                  document.documentElement.style.overflowY = "auto";
                  document.body.style.overflowY = "auto";

                  //$(".mergely-full-screen-8").css({
                  //height: "80vh",
                  //width: "100%",
                  //position: "relative",
                  //});
                  /*$("#mergely").mergely("resize");*/
                  //
                  // EDITOR only code below
                  //
                  document
                    .getElementById("textMainArea")
                    .classList.remove("fullScreenClass");
                  //$("#textMainArea").css({
                  //height: "300px",
                  //position: "relative",
                  //padding: "10px",
                  //borderWidth: "0",
                  //});
                  //$('.toTop').css('opacity', 1);
                  document.querySelector(".toTop").style.opacity = 0.85;
                }
                //
                //
                //
              };
              // end of function and media query
            }
          </script>

          <style>
            /* body > div.wrapper > div.tab > button:nth-child(4) {
          padding-left: 24px;
        }*/
            /* moves the diff button text a little to the left, to make the button set look more even */
          </style>

          <div id="tabOne" class="tabcontent">
            <div class="mid">
              <!-- https://stackoverflow.com/questions/1473556/using-span-to-add-a-direction-dir-rtl/1473607#1473607 
          https://stackoverflow.com/questions/24379227/how-to-put-a-table-inside-an-inline-block-element-where-cells-have-a-percentage/24379941#24379941 -->

              <style>
                .textInfos {
                  table-layout: fixed;
                  /*width: 400px;*/
                  direction: ltr;
                  display: inline-table;
                  /* prevents being too tight */
                  white-space: nowrap;
                }

                /*@mixin for-phone-only*/
                /*@media (max-width: 599px) {
              .textInfos tr td {
                width: 100%;
              }
            }*/
              </style>
              <table
                class="textInfos"
                style="
                  display: inline-block;
                  margin-bottom: -15px;
                  margin-top: -15px;
                "
                id="lineThruForToggle2"
              >
                <tr
                  class="ttClass"
                  data-tooltip="Shows the number of characters, words, lines and bytes of text"
                >
                  <td width="50px">char:</td>
                  <td width="50px"><span id="characterC">0</span></td>
                  <td width="50px">|</td>
                  <td width="50px">wrd:</td>
                  <td width="50px"><span id="wordC">0</span></td>
                  <td width="50px">|</td>
                  <td width="50px">Ln:</td>
                  <td width="50px"><span id="lineC">0</span></td>
                  <td width="50px">|</td>
                  <td width="50px" style="direction: ltr">
                    <span id="sizeC">0</span>
                  </td>
                  <td width="50px" id="sizeCletter">B</td>
                </tr>
              </table>

              <!-- old code
          <span dir="rtl">
            char:
            <span id="characterC">0</span>&nbsp; | &nbsp;wrd:
            <span id="wordC">0</span>&nbsp; | &nbsp;ln:
            <span id="lineC">0</span>&nbsp; | &nbsp;
            <span id="sizeC">0 B</span>
          </span>
          -->

              <span class="hideOnPhoneOnly"
                >&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span
              >
              <br class="hideOnTabAndUp" />

              <!--   -->

              <!-- https://jsfiddle.net/Meline222/fgpedL0z/1/ 
        https://codepen.io/alexandercastillo/pen/YXrmPE
      -->

              <div
                style="
                  display: inline-block;
                  top: -50px !important;
                  margin-top: -10px;
                "
              >
                <span
                  id="sliderValue"
                  style="
                    display: inline-block;
                    width: 25px;
                    position: relative;
                    top: -2px;
                  "
                  >20</span
                >

                <span class="small-letter">A</span>&nbsp;
                <input
                  id="slider"
                  type="range"
                  min="10"
                  max="100"
                  style="padding: 0"
                  class="ttClass"
                  data-tooltip="Changes the font size of the text"
                  oninput="fontChange()"
                />&nbsp;
                <span class="big-letter">A</span>
              </div>

              <!-- -->
            </div>

            <style>
              .small-letter {
                font-size: 14px;
                margin-bottom: 5px;
                /* 8 */
                display: inline-block;
                vertical-align: middle;
              }

              .big-letter {
                font-size: 24px;
              }

              /*.sliderLetters {
            margin-bottom: -20px;
            display: inline;
          }*/
            </style>

            <script>
              /*
let i = document.getElementById("slider");
i.addEventListener(
"input",
function () {
//var o = document.getElementById("textMainArea");
//o.style.fontSize = val + "px";
*/

              function fontChange() {
                document.getElementById("textMainArea").style.fontSize =
                  document.getElementById("slider").value + "px";

                // added below
                document.getElementById("sliderValue").innerHTML =
                  document.getElementById("slider").value;
              }
            </script>

            <!-- 
        <div class="sliderLetter mid"></div>
        -->

            <!-- rows="10"
      cols="60"-->

            <!-- https://stackoverflow.com/questions/16736198/typing-in-textarea-super-slow-when-lots-of-text-inside/36435920#36435920 -->
            <textarea
              autocomplete="off"
              autocorrect="off"
              autocapitalize="off"
              spellcheck="false"
              id="textMainArea"
              placeholder="އަބޫ ހުރައިރާގެ އަރިހުން ރިވާވެގެންވެއެވެ: ނަބިއްޔާ ﷺ ޙަދީޘް ކުރެއްވިއެވެ: ”..."
              oninput="triggerTheCounts();"
            ></textarea>
            <!-- autofocus="autofocus" -->
            <!-- oninput="triggerTheCounts();triggerTheReplace();" -->
            <!-- autofocus wont work if hidden by another tab -->
            <div id="img-out"></div>

            <script>
              /* localstorage cache of textarea
  https://stackoverflow.com/questions/54897890/how-to-cache-text-area/54897926#54897926 */

              var data;
              window.onload = function () {
                data = localStorage.getItem("data");
              };
              var taid;

              var taid = document.createElement("textarea");
              taid.setAttribute("src", "");
              taid.setAttribute("onkeyup", "a()");
              taid.style.width = "100%";
              taid.style.height = "100%";
              taid.style.border = "0px";
              taid.style.background = "lightblue";
              taid.value = data || "";

              document.getElementById("textMainArea").appendChild(taid);

              function a() {
                localStorage.setItem("data", taid.value);
              }
            </script>

            <p class="buttonHeader dv" style="margin: 0">
              މަތީގައި ލިޔުމަށްފަހު އެލިޔުން ބަދަލުކުރުމަށް:
            </p>

            <div class="mid editorButtons">
              <button
                onclick="copyToClipB();"
                id="copyButton"
                class="ttClass"
                data-tooltip="Copies above text into the clipboard for pasting"
              >
                📋 <u>C</u>opy
              </button>
              <button
                onclick="clearTextArea();
            triggerTheCounts();"
                id="eraseButton"
                class="ttClass"
                data-tooltip="Erases everything above"
              >
                ❌ E<u>r</u>ase
              </button>

              <button
                onclick="changeNumsAr();"
                class="ttClass"
                data-tooltip="Converts all numbers to Arabic numbers"
                style="font-weight: bold"
              >
                1️⃣
                <span
                  style="
                    font-size: 135%;
                    direction: ltr;
                    unicode-bidi: bidi-override;
                  "
                  >١ ٢ ٣</span
                >
              </button>
              <!-- <span style="font-size: 105%">123 ↔ ١٢٣</span> -->

              <button
                onclick="changeNumsNormal();"
                class="ttClass"
                data-tooltip="Converts all numbers to normal numbers"
                style="font-weight: bold"
              >
                <span
                  style="
                    font-size: 120%;
                    direction: ltr;
                    unicode-bidi: bidi-override;
                  "
                  >1 2 3</span
                >
              </button>

              <button
                onclick="replaceArabicFili();triggerTheCounts();"
                class="ttClass"
                data-tooltip="Removes all diacritical marks / tashkeel / haraka of arabic letters"
                style="font-size: 101%; font-weight: bold"
              >
                عربي ފިލި ފޮހެލާ
              </button>

              <button
                onclick="saveTextAsFile();"
                id="downButton"
                class="ttClass"
                data-tooltip="Saves and downloads the text above as a .txt file to your device. Note: Doesn't work on the Android app."
              >
                📩 Dow<u>n</u>load
              </button>

              <script>
                // https://stackoverflow.com/questions/65137434/how-can-i-save-a-txt-file-from-the-value-of-a-textarea/65137650#65137650
                function saveTextAsFile() {
                  var textcontent =
                    document.getElementById("textMainArea").value;

                  var downloadableLink = document.createElement("a");
                  downloadableLink.setAttribute(
                    "href",
                    "data:text/plain;charset=utf-8," +
                      encodeURIComponent(textcontent)
                  );
                  downloadableLink.download = "file" + ".txt";
                  document.body.appendChild(downloadableLink);
                  downloadableLink.click();
                  document.body.removeChild(downloadableLink);
                }
                /* OLD CODE BELOW
    // https://stackoverflow.com/questions/21479107/saving-html5-textarea-contents-to-file/30740104#30740104
    function ssaveTextAsFile() {
      var textToWrite = document.getElementById("textMainArea").value;
      var textFileAsBlob = new Blob([textToWrite], {
        type: "text/plain",
      });
      var fileNameToSaveAs = "file.txt"; //filename.extension
      var downloadLink = document.createElement("a");
      downloadLink.download = fileNameToSaveAs;
      downloadLink.innerHTML = "Download File";
      if (window.webkitURL != null) {
        // Chrome allows the link to be clicked without actually adding it to the DOM.
        downloadLink.href =
          window.webkitURL.createObjectURL(textFileAsBlob);
      } else {
        // Firefox requires the link to be added to the DOM before it can be clicked.
        downloadLink.href = window.URL.createObjectURL(textFileAsBlob);
        downloadLink.onclick = destroyClickedElement;
        downloadLink.style.display = "none";
        document.body.appendChild(downloadLink);
      }
      downloadLink.click();
    }
    var button = document.getElementById("save");
    button.addEventListener("click", saveTextAsFile);
    function destroyClickedElement(event) {
      // remove the link from the DOM
      document.body.removeChild(event.target);
    }
    */
              </script>

              <button
                type="button"
                value="Browse..."
                onclick="document.getElementById('uploadInputFile').click();"
                id="upButton"
                class="ttClass"
                data-tooltip="Uploads the text of a file that you choose on your device. Note: Doesn't work on the Android app."
              >
                📁 <u>U</u>pload
              </button>

              <input type="file" id="uploadInputFile" style="display: none" />

              <script>
                // https://community.splunk.com/t5/Splunk-Search/fill-textarea-from-a-file/td-p/176570
                // https://stackoverflow.com/questions/1084925/input-type-file-show-only-button/14806776#14806776

                //External data file handling starts here, listen for upload completion
                var control = document.getElementById("uploadInputFile");
                control.addEventListener(
                  "change",
                  function (event) {
                    var reader = new FileReader();
                    reader.onload = function (event) {
                      // do this after upload
                      document.getElementById("textMainArea").value =
                        event.target.result;
                      //document.getElementById("textMainArea").value = contents;

                      // added below to do the counts after file loads
                      triggerTheCounts();
                      //
                    };
                    reader.onerror = function (event) {
                      console.error(
                        "File could not be read! Code " +
                          event.target.error.code
                      );
                    };
                    //console.log("Filename: " + control.files[0].name);
                    reader.readAsText(control.files[0]);
                  },
                  false
                );

                //
                //
                //

                // https://stackoverflow.com/questions/58676967/load-textfile-via-drag-and-drop-on-textarea/58677161#58677161
                // edit textarea
                function dropfile(file) {
                  var reader = new FileReader();
                  reader.onload = function (e) {
                    textMainArea.value = e.target.result;
                  };
                  reader.readAsText(file, "UTF-8");
                }

                textMainArea.ondrop = function (e) {
                  e.preventDefault();
                  var file = e.dataTransfer.files[0];
                  dropfile(file);
                };

                // calc textarea | NOT WORKING
                /*function dropfile2(file2) {
    var reader2 = new FileReader();
    reader2.onload = function (e) {
      textSumArea.value = e.target.result;
    };
    reader2.readAsText(file2, "UTF-8");
  }

  textSumArea.ondrop = function (e) {
    e.preventDefault();
    var file2 = e.dataTransfer.files[0];
    dropfile2(file2);
  };*/
              </script>

              <button
                onclick="leftToRight();"
                id="ltrButton"
                class="ttClass"
                data-tooltip="Changes text direction from right to left and left to right"
              >
                <u>L</u>TR ↔️ RTL
              </button>

              <button
                onclick="changeToTitleCase();"
                id="caseChangeTitle"
                class="ttClass"
                data-tooltip="Changes english text to title case, then lower case, then sentence case"
              >
                🔠 T<u>i</u>tle Case
              </button>

              <button
                onclick="changeToOtherCases();"
                id="caseChangeOther"
                class="ttClass"
                data-tooltip="Changes english text to title case, then lower case, then sentence case"
              >
                Sent. Case
              </button>

              <button
                onclick="shuffleText();"
                id="shuffleButton"
                class="ttClass"
                data-tooltip="Randomizes the order of the lines in the text"
              >
                🔀 <u>S</u>huffle Lines
              </button>
              <!-- ބޭތަރުތީބު؟ -->

              <button
                onclick="generateRandomPassword();"
                class="ttClass"
                data-tooltip="Generate a random password"
              >
                Randm Pswrd
              </button>

              <button
                onclick="randomNumber();"
                id="randNoButton"
                class="ttClass"
                data-tooltip="Generate a random number from 1-10, or based on your minimum and maximum input next to this button after you click it"
              >
                🔟 <u>R</u>andm Num
              </button>

              <input
                class="inputFieldClass"
                placeholder="Max eg. 10"
                type="text"
                id="maxNrand"
                style="color: blue; display: none"
              />
              <input
                class="inputFieldClass"
                placeholder=".Enter Min No"
                type="text"
                id="minNrand"
                style="color: red; display: none"
              />

              <button
                onclick="removeNoOfChars();"
                class="ttClass"
                data-tooltip="Removes a number of characters either from beginning or end of each line of text"
              >
                🔟 Rem N Chars
              </button>

              <input
                class="inputFieldClass"
                placeholder="Rem from end"
                type="text"
                id="remFromEnd"
                style="color: red; display: none"
              />
              <input
                class="inputFieldClass"
                placeholder="Rem from begin"
                type="text"
                id="remFromBegin"
                style="color: blue; display: none"
              />

              <button
                onclick="oneLine();triggerTheCounts();"
                class="ttClass"
                data-tooltip="Removes newlines in text, making it one line"
              >
                One Single Line
              </button>

              <button
                id="extraSpaces"
                onclick="replaceSpacesLines();triggerTheCounts();"
                class="ttClass"
                data-tooltip="Removes unneccessary extra spaces and more than one empty line on the first click, and all empty lines on the second"
              >
                Rmv <u>X</u>tra Space
              </button>

              <button
                onclick="orderLines();"
                id="lineSort"
                class="ttClass"
                data-tooltip="Sorts the lines of text in order of ascending on the first click, and in reverse on the second"
              >
                ↕️ <u>O</u>rder Asc
              </button>

              <button
                onclick="reverseText();"
                id="reversedTxt"
                class="ttClass"
                data-tooltip="Reverses text characters of the text horizontally on the first click, then reverses the order vertically on the second"
              >
                ⏪ ReverseTxt
              </button>

              <button
                onclick="sortLineFreq();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Sorts the text lines by highest frequency of occurance"
              >
                📉 SortLineFreq
              </button>

              <button
                onclick="sortWordFreq();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Splits the text into words and then sorts them by highest frequency of occurance"
              >
                SortWordFreq
              </button>

              <button
                onclick="rmvNumbers();triggerTheCounts();"
                class="ttClass"
                data-tooltip="Removes all kinds of numbers"
              >
                ✖️ Rmv Numbrs
              </button>

              <button
                onclick="onlyNumbers();triggerTheCounts();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Keeps only numbers and removes everything else"
              >
                ➖ Only Numbrs
              </button>

              <button
                onclick="remPrecZeros();triggerTheCounts();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Removes preceding zeros in numbers and text"
              >
                0️⃣ Rmv Prec 0s
              </button>

              <button
                onclick="htmlOList();"
                id="htmlNList"
                class="ttClass"
                data-tooltip="Adds ordered list tags to the lines of text on the first click, and unordered tags on the second, and removes them all on the third"
              >
                &lt;HT<u>M</u>L O List&gt;
              </button>

              <button
                onclick="numberedList();triggerTheCounts();"
                class="ttClass"
                id="listNumbers"
                data-tooltip="Adds numbers to the lines of text on the first click, and removes them on the second"
              >
                🔢 <u>N</u>umbrdLines
              </button>

              <button
                onclick="wrapToOneLine();triggerTheCounts();scrollToTopFully();"
                id="wrapButton"
                class="ttClass"
                data-tooltip="Fits everything in the text into one single line"
              >
                ↲ <u>W</u>ordwrap
              </button>

              <button
                onclick="replaceThaanaFili();triggerTheCounts();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Removes all diacritical marks / tashkeel / haraka of dhivehi letters"
                style="font-size: 105%"
              >
                ތާނަފލ ފހލ
              </button>
              <button
                onclick="remThiki();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Replaces most thikijehi thaana letters to those without thiki"
                style="font-size: 105%"
              >
                • ތާނަތިކި ފޮހެލާ
              </button>

              <button
                onclick="kahfBas();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Transliterates Arabic to Thaana. Note that it is not allowed to transliterate the quran."
              >
                🏔️ Arabivehi
              </button>

              <button
                onclick="replacePunct();triggerTheCounts();scrollToTopFully();"
                id="repPuncButton"
                class="ttClass"
                data-tooltip="Removes most punctuation marks from the text"
              >
                !Rmv <u>P</u>uncMarks
              </button>
              <!--<button onclick="takeScreenShot();">ލިޔުން ފޮޓޯއަކަށް</button>-->

              <button
                onclick="listOfNumbers();triggerTheCounts();"
                id="lineNumButton"
                class="ttClass"
                data-tooltip="Generate a list of numbers, each on a new line from 1-10, or based on your minimum and maximum input next to this button after you click it"
              >
                #️⃣ <u>G</u>en NumList
              </button>
              <input
                class="inputFieldClass"
                placeholder="Max eg. 10"
                type="text"
                id="maxNline"
                style="color: blue; display: none"
              />
              <input
                class="inputFieldClass"
                placeholder=".Enter Min No"
                type="text"
                id="minNline"
                style="color: red; display: none"
              />

              <button
                onclick="repeatText();triggerTheCounts();"
                class="ttClass"
                data-tooltip="Repeats the text as many times as you set"
              >
                🔁 RepeatTxt
              </button>
              <input
                class="inputFieldClass"
                placeholder="?How many"
                type="text"
                id="noOfRepeat"
                style="color: blue; display: none"
              />

              <button
                onclick="splitWords();triggerTheCounts();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Splits the text into individual words line by line"
              >
                ✂️ Split Words
              </button>

              <button
                onclick="removeDuplicates();triggerTheCounts();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Removes duplicate lines of text"
              >
                🔂 DuplicateRmv
              </button>

              <button
                onclick="numToBracket();triggerTheCounts();"
                id="bracketedNumber"
                class="ttClass"
                data-tooltip="Places round brackets around numbers on the first click, then square brackets around them on the second, then removes those brackets on the third"
              >
                1 ↔ (1)
              </button>

              <button
                onclick="numToSuperScript();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Changes numbers and round brackets to superscript, like footnotes on the first click, and reverts them on the second"
              >
                (1) ↔ <span style="font-size: 110%">⁽¹⁾</span>
              </button>

              <button
                onclick="replaceFootNos();triggerTheCounts();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Erases all numbers inside any brackets"
              >
                <span style="font-size: 110%">⁽¹⁾</span> / (1) Rmv
              </button>

              <button
                onclick="changeNumsOther();"
                class="ttClass"
                data-tooltip="Converts regular numbers to mathematical sans serif, then full width, then mathematical sans serif bold, then circled, then negative circled, then back to regular numbers again"
                dir="ltr"
              >
                <!-- 1/𝟣/１/𝟭/①/❶ -->
                1/𝟣/１/𝟭/①/❶
              </button>

              <button
                onclick="prefixSuffixLine();triggerTheCounts();"
                class="ttClass"
                data-tooltip="Add a prefix or suffix before and after every line of text"
              >
                ➕ Prefix/Suffix
              </button>

              <input
                class="inputFieldClass"
                placeholder="Enter Suffix"
                type="text"
                id="suffixVal"
                style="color: red; display: none"
              />
              <input
                class="inputFieldClass"
                placeholder="Enter Prefix"
                type="text"
                id="prefixVal"
                style="color: blue; display: none"
              />

              <button
                onclick="shortenSalla();triggerTheCounts();scrollToTopFully()"
                class="ttClass"
                data-tooltip="Converts the long form of the words صَلَّى اللَّهُ عَلَيهِ وَسَلَّم to the short character ﷺ on the first click, and does the reverse on the second"
                style="font-size: 105%"
              >
                صلى… ↔ ﷺ
              </button>
              <button
                onclick="replaceCommaScolonQ();scrollToTopFully()"
                class="ttClass"
                data-tooltip="Converts left facing commas, semicolons and questions marks to the right on the first click, and does the reverse on the second"
                style="font-size: 110%"
              >
                , ; ? ↔ ، ؛ ؟
              </button>
              <button
                onclick="replaceQbracket();scrollToTopFully()"
                class="ttClass"
                data-tooltip="Converts curly braces and asterisks to quranic brackets and ayah stops"
              >
                {*} ↔ ﴿۝﴾
              </button>

              <button
                onclick="removeWaqfStuff();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Removes the following: ۖ	ۗ	ۘ	ۙ	ۚ	ۛ	ۜ	 ۝ ﴿ ﴾ ۞	۟	۠	ۡ	ۢ	ۣ	ۤ	ۥ	ۦ	ۧ	ۨ	۩	۪	۫	۬	ۭ"
              >
                <span style="font-size: 110%"> ۗ&nbsp; ۘ&nbsp; ۚ&nbsp;</span>۝ ﴾
                Rmv
              </button>

              <button
                onclick="shaddaB4Haraka();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Makes all the arabic diacritics / tashkeel / harakas come after the tanweed / shadda and not before it"
                style="font-size: 105%"
              >
                ـَ ـّ ← ـّ ـَ
              </button>

              <button
                onclick="replaceColon();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Replaces all colons with fullstops"
                style="font-size: 105%; font-weight: bold"
              >
                : ← .
              </button>

              <button
                onclick="replaceKashida();triggerTheCounts();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Removes all kashidas, which elongate arabic letters"
                style="font-size: 105%; font-weight: bold"
              >
                ســلاــم ← سلام
              </button>

              <button
                onclick="replaceQuotes();scrollToTopFully()"
                class="ttClass"
                data-tooltip="Replaces all &#39;dumb&#39; &#34;straight&#34; quotes with ‘curly’ “smart” quotes on the first click, and does the reverse on the second"
                style="font-size: 110%"
              >
                ' " ↔ ’ “
              </button>

              <button
                onclick="replaceQtoDoubleAngBrackets();"
                class="ttClass"
                data-tooltip="Replaces all doubles straight quotes or double brackets with angular arabic quotes, and does the reverse on the second"
                style="font-size: 110%"
              >
                " " ↔ « »
              </button>

              <button
                onclick="replaceDoubleBrackets();triggerTheCounts();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Replaces all doubles brackets to single ones"
              >
                (( )) ← ( )
              </button>

              <button
                onclick="replaceHalfBrackets();triggerTheCounts();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Replaces all brackets to half brackets"
                style="font-size: 110%"
              >
                []() ← ⌝⌜
              </button>

              <button
                onclick="dotsToEllipsis();triggerTheCounts();scrollToTopFully()"
                class="ttClass"
                data-tooltip="Converts three dots to proper a ellipsis on first click, and does the reverse on second."
                style="font-size: 110%"
              >
                . . . ↔ …&nbsp;
              </button>
              <button
                onclick="hyphenToEnEmDash();"
                class="ttClass"
                data-tooltip="Converts a hyphen to an en dash on the first click, then to an em dash on the second"
              >
                - ← – ← —
              </button>

              <!-- turned off because it causes crashes on mobile
            <button
            onclick="csvToJson();triggerTheCounts();"
            class="ttClass"
            data-tooltip="Converts CSV data in the text into JSON"
          >
            CSV → JSON
          </button>-->

              <button
                onclick="daysSince();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Counts days or time since the date written in the text area (numbers only, format should be: 8/8/24 or can use 08 and 2024 and . instead of /)"
              >
                📅 Days Since
              </button>

              <script>
                function daysSince() {
                  // ltr switch
                  document.getElementById("textMainArea").style.direction =
                    "ltr";
                  //
                  const textMainArea = document.getElementById("textMainArea");
                  const dateInput = textMainArea.value.trim();
                  const currentDate = new Date();

                  // Define regex patterns for the various date formats
                  const datePatterns = [
                    /^\d{1,2}\/\d{1,2}\/\d{2,4}$/, // DD/MM/YY or DD/MM/YYYY
                    /^\d{1,2}\.\d{1,2}\.\d{2,4}$/, // DD.MM.YY or DD.MM.YYYY
                  ];

                  let parsedDate;

                  for (let pattern of datePatterns) {
                    if (pattern.test(dateInput)) {
                      parsedDate = parseDate(dateInput);
                      break;
                    }
                  }

                  if (!parsedDate) {
                    textMainArea.value =
                      "Invalid date format. Use 8/12/24, or 08, or 2024, or '.' in place of '/'";
                    return;
                  }

                  const dateDifference = getTimeDifference(
                    currentDate,
                    parsedDate
                  );

                  textMainArea.value = `Between: ${formatDate(currentDate)}
To: ${formatDate(parsedDate)}

There were:
${dateDifference}`;

                  function parseDate(dateString) {
                    const parts = dateString.split(/[\/\.]/);
                    let day, month, year;

                    if (parts[2].length === 2) {
                      year = "19" + parts[2]; // Assuming 1900s for two-digit years
                    } else {
                      year = parts[2];
                    }
                    month = parts[1] - 1; // JavaScript months are 0-based
                    day = parts[0];

                    return new Date(year, month, day);
                  }

                  function formatDate(date) {
                    return date.toLocaleDateString("en-GB"); // Use en-GB for DD/MM/YYYY format
                  }

                  function getTimeDifference(date1, date2) {
                    let diff = Math.abs(date1 - date2);
                    let seconds = Math.floor(diff / 1000);
                    let minutes = Math.floor(seconds / 60);
                    let hours = Math.floor(minutes / 60);
                    let days = Math.floor(hours / 24);
                    let weeks = Math.floor(days / 7);
                    let months = Math.floor(days / 30.44); // Approximate month length
                    let years = Math.floor(days / 365.25); // Approximate year length

                    let remainingDays = (days % 365.25) % 30.44;
                    let remainingHours = hours % 24;
                    let remainingMinutes = minutes % 60;
                    let remainingSeconds = seconds % 60;

                    if (years > 0) {
                      const remainingMonths = Math.floor(
                        (days % 365.25) / 30.44
                      );
                      return `${years} years, ${remainingMonths} months, and ${remainingDays} days\nOR ${months} months, ${remainingDays} days\nOR ${weeks} weeks, ${
                        days % 7
                      } days\nOR ${days} days, ${remainingHours} hours\nOR ${hours} hours, ${remainingMinutes} minutes\nOR ${minutes} minutes, ${remainingSeconds} seconds\nOR ${seconds} seconds`;
                    }
                    if (months > 0) {
                      return `${months} months and ${remainingDays} days\nOR ${weeks} weeks, ${
                        days % 7
                      } days\nOR ${days} days, ${remainingHours} hours\nOR ${hours} hours, ${remainingMinutes} minutes\nOR ${minutes} minutes, ${remainingSeconds} seconds\nOR ${seconds} seconds`;
                    }
                    if (weeks > 0) {
                      return `${weeks} weeks and ${
                        days % 7
                      } days\nOR ${days} days, ${remainingHours} hours\nOR ${hours} hours, ${remainingMinutes} minutes\nOR ${minutes} minutes, ${remainingSeconds} seconds\nOR ${seconds} seconds`;
                    }
                    if (days > 0) {
                      return `${days} days, ${remainingHours} hours\nOR ${hours} hours, ${remainingMinutes} minutes\nOR ${minutes} minutes, ${remainingSeconds} seconds\nOR ${seconds} seconds`;
                    }
                    if (hours > 0) {
                      return `${hours} hours, ${remainingMinutes} minutes\nOR ${minutes} minutes, ${remainingSeconds} seconds\nOR ${seconds} seconds`;
                    }
                    if (minutes > 0) {
                      return `${minutes} minutes, ${remainingSeconds} seconds\nOR ${seconds} seconds`;
                    }
                    return `${seconds} seconds`;
                  }
                }
              </script>

              <button
                onclick="toggleLeetSpeak();"
                id="leetSwitch"
                class="ttClass"
                data-tooltip="Translate regular text to leet speak on first click, and does the reverse on second click."
              >
                📔 1337
              </button>

              <script>
                var leetspeak_timesClicked = 0;

                // https://gist.github.com/sbolel/3780e43f0c15679d67ef9974bfaa9746
                // https://github.com/savioxavier/leetspeak/blob/main/src/leetspeak.js
                // https://github.com/floft/leetspeak/blob/master/LeetSpeak.py
                // https://gist.github.com/hinzundcode/1073530

                const leetMap = {
                  /*a: "4",
                e: "3",
                l: "1",
                o: "0",
                s: "5",
                t: "7",*/
                  a: "@",
                  // 4 λ ∂ α æ Λ
                  b: "8",
                  // ß
                  c: "€",
                  // ( ¢ ζ
                  d: "∂",
                  // ð Ð đ δ
                  e: "3",
                  // £ € ə ε ξ ℇ
                  f: "ƒ",
                  // ʃ
                  g: "9",
                  // ℊ
                  h: "#",
                  i: "!",
                  // ι
                  j: "ʝ",
                  // ĵ ¿
                  k: "ɮ",
                  // ₭
                  l: "ʅ",
                  // £ ℓ
                  m: "ണ",
                  // Պ സ ന ൩ ന ണ
                  n: "π",
                  // ₪ η
                  o: "0",
                  // ¤ Ω ø θ σ
                  p: "ρ",
                  // ? ₱ þ ¶
                  q: "ℚ",
                  //
                  r: "₹",
                  // Я
                  s: "$",
                  // §
                  t: "†",
                  // 7 + λ τ
                  u: "µ",
                  // Ü
                  v: "√",
                  // ▼ ѵ υ
                  w: "ω",
                  // Ш ɰ
                  x: "×",
                  // * Ж % χ א
                  y: "γ",
                  // Ψ ¥  Ч ψ
                  z: "2",
                };

                const reverseLeetMap = {};
                for (const [key, value] of Object.entries(leetMap)) {
                  reverseLeetMap[value] = key;
                }

                function leetSpeak() {
                  const textArea = document.getElementById("textMainArea");
                  let text = textArea.value.toLowerCase();

                  const leetText = text.replace(/./g, function (char) {
                    return leetMap[char] || char;
                  });

                  textArea.value = leetText;
                }

                function ltrText() {
                  const textArea = document.getElementById("textMainArea");
                  let text = textArea.value;

                  const ltrText = text.replace(
                    /[@8€∂3ƒ9#!ʝɮʅ^^π0¶ℚ₹$+µ√ω×Ч2]/g,
                    function (char) {
                      return reverseLeetMap[char] || char;
                    }
                  );

                  textArea.value = ltrText;
                }

                function toggleLeetSpeak() {
                  leetspeak_timesClicked++;
                  if (leetspeak_timesClicked % 2 == 0) {
                    ltrText();
                    document.getElementById("leetSwitch").innerHTML = "📔 1337";
                  } else {
                    leetSpeak();
                    document.getElementById("leetSwitch").innerHTML = "unleet";

                    // ltr switch
                    document.getElementById("textMainArea").style.direction =
                      "ltr";
                  }
                }
              </script>

              <input
                class="inputEncryptionKey"
                placeholder="Password"
                type="text"
                id="minNline"
                style="color: red; display: none"
              />

              <button
                onclick="encryptText();"
                class="ttClass"
                data-tooltip="(Web Crypto API, AES-GCM) Write text in the text area, click this button to begin encryption, next write a password in the text area, and click this button again to get the encrypted text."
              >
                🔒 EncryptTxt
              </button>

              <button
                onclick="decryptText();"
                class="ttClass"
                data-tooltip="Paste the encrypted text in the text area, click this button, then write the password in the text area, and click this button again to get the decrypted text."
              >
                🔓 DecryptTxt
              </button>

              <script>
                // https://github.com/bradyjoslin/webcrypto-example

                // possible alternative?: https://github.com/paulgreg/crypttool

                // for large strings, use this from https://stackoverflow.com/a/49124600
                const buff_to_base64 = (buff) =>
                  btoa(
                    new Uint8Array(buff).reduce(
                      (data, byte) => data + String.fromCharCode(byte),
                      ""
                    )
                  );

                const base64_to_buf = (b64) =>
                  Uint8Array.from(atob(b64), (c) => c.charCodeAt(null));

                const enc = new TextEncoder();
                const dec = new TextDecoder();

                let encryptionStage = "data"; // Tracks the stage of the encryption process
                let decryptionStage = "data"; // Tracks the stage of the decryption process
                let storedData = ""; // Stores the data temporarily during the process

                async function encryptText() {
                  const textArea = document.getElementById("textMainArea");
                  if (encryptionStage === "data") {
                    storedData = textArea.value;
                    textArea.value = "";
                    textArea.placeholder =
                      "Write password and press button again";
                    encryptionStage = "password";
                    scrollToTopFully(); // scrolls to top
                    textArea.focus(); // Focus on textarea to write password
                  } else if (encryptionStage === "password") {
                    const password = textArea.value;
                    const encryptedData = await encryptData(
                      storedData,
                      password
                    );
                    textArea.value = encryptedData;
                    textArea.placeholder = "";
                    encryptionStage = "data";
                    scrollToTopFully(); // Scroll to top after en/decryption is finished
                  }
                }

                async function decryptText() {
                  const textArea = document.getElementById("textMainArea");
                  if (decryptionStage === "data") {
                    storedData = textArea.value;
                    textArea.value = "";
                    textArea.placeholder =
                      "Write password and press button again";
                    decryptionStage = "password";
                    scrollToTopFully(); // scrolls to top
                    textArea.focus(); // Focus on textarea to write password
                  } else if (decryptionStage === "password") {
                    const password = textArea.value;
                    const decryptedData = await decryptData(
                      storedData,
                      password
                    );
                    textArea.value = decryptedData
                      ? decryptedData
                      : `Decryption failed\n${storedData}`;
                    textArea.placeholder = "";
                    decryptionStage = "data";
                    scrollToTopFully(); // Scroll to top after en/decryption is finished
                  }
                }

                const getPasswordKey = (password) =>
                  window.crypto.subtle.importKey(
                    "raw",
                    enc.encode(password),
                    "PBKDF2",
                    false,
                    ["deriveKey"]
                  );

                const deriveKey = (passwordKey, salt, keyUsage) =>
                  window.crypto.subtle.deriveKey(
                    {
                      name: "PBKDF2",
                      salt: salt,
                      iterations: 250000,
                      hash: "SHA-256",
                    },
                    passwordKey,
                    { name: "AES-GCM", length: 256 },
                    false,
                    keyUsage
                  );

                async function encryptData(secretData, password) {
                  try {
                    const salt = window.crypto.getRandomValues(
                      new Uint8Array(16)
                    );
                    const iv = window.crypto.getRandomValues(
                      new Uint8Array(12)
                    );
                    const passwordKey = await getPasswordKey(password);
                    const aesKey = await deriveKey(passwordKey, salt, [
                      "encrypt",
                    ]);
                    const encryptedContent = await window.crypto.subtle.encrypt(
                      {
                        name: "AES-GCM",
                        iv: iv,
                      },
                      aesKey,
                      enc.encode(secretData)
                    );

                    const encryptedContentArr = new Uint8Array(
                      encryptedContent
                    );
                    let buff = new Uint8Array(
                      salt.byteLength +
                        iv.byteLength +
                        encryptedContentArr.byteLength
                    );
                    buff.set(salt, 0);
                    buff.set(iv, salt.byteLength);
                    buff.set(
                      encryptedContentArr,
                      salt.byteLength + iv.byteLength
                    );
                    const base64Buff = buff_to_base64(buff);
                    return base64Buff;
                  } catch (e) {
                    console.log(`Error - ${e}`);
                    return "";
                  }
                }

                async function decryptData(encryptedData, password) {
                  try {
                    const encryptedDataBuff = base64_to_buf(encryptedData);
                    const salt = encryptedDataBuff.slice(0, 16);
                    const iv = encryptedDataBuff.slice(16, 16 + 12);
                    const data = encryptedDataBuff.slice(16 + 12);
                    const passwordKey = await getPasswordKey(password);
                    const aesKey = await deriveKey(passwordKey, salt, [
                      "decrypt",
                    ]);
                    const decryptedContent = await window.crypto.subtle.decrypt(
                      {
                        name: "AES-GCM",
                        iv: iv,
                      },
                      aesKey,
                      data
                    );
                    return dec.decode(decryptedContent);
                  } catch (e) {
                    console.log(`Error - ${e}`);
                    return "";
                  }
                }
              </script>

              <button
                onclick="handleEncryptFile();"
                class="ttClass"
                data-tooltip="(Web Crypto API, AES-GCM) After clicking this button, select a file to encrypt, then write a password in the text area, then click this button again to download the encrypted file. Note: Doesn't work on the Android app."
              >
                🗃️ FileEncrypt
              </button>

              <button
                onclick="handleDecryptFile();"
                class="ttClass"
                data-tooltip=" After clicking this button, select a file to decrypt, then write the password in the text area, then click this button again to download the decrypted file. Note: Doesn't work on the Android app."
              >
                🔑 FileDecrypt
              </button>

              <!-- there can be only one of this, otherwise password prompt does not show?" -->

              <input
                id="selectFile"
                type="file"
                aria-label="Select a file"
                style="display: none"
              />

              <!-- 
            <tr><td>Select File</td><td><input id="selectFile" type="file" aria-label="Select a file"></td><td id="selectFileHint">Select the File you'd like to process.</td></tr>
          -->

              <!-- -->

              <script>
                // https://github.com/hazelfazel/Web-Browser-Based-AES-GCM-File-Encryption-Decryption

                // possible alternative?, but uses cbc, not gcm: https://github.com/meixler/web-browser-based-file-encryption-decryption

                // for large strings, use this from https://stackoverflow.com/a/49124600

                let operationState = ""; // "encrypt-file", "encrypt-password", "decrypt-file", "decrypt-password"

                function handleEncryptFile() {
                  if (
                    operationState === "" ||
                    operationState === "encrypt-file"
                  ) {
                    showEncryptFileSelection();
                  } else if (operationState === "encrypt-password") {
                    handleEncryptPassword();
                  }
                }

                function handleDecryptFile() {
                  if (
                    operationState === "" ||
                    operationState === "decrypt-file"
                  ) {
                    showDecryptFileSelection();
                  } else if (operationState === "decrypt-password") {
                    handleDecryptPassword();
                  }
                }

                function showEncryptFileSelection() {
                  selectFile.click();
                  selectFile.onchange = () => {
                    textMainArea.focus();
                    textMainArea.value = "";
                    textMainArea.placeholder =
                      "Write password and click the button again";
                    operationState = "encrypt-password";
                  };
                }

                function showDecryptFileSelection() {
                  selectFile.click();
                  selectFile.onchange = () => {
                    textMainArea.focus();
                    textMainArea.value = "";
                    textMainArea.placeholder =
                      "Write password and click the button again";
                    operationState = "decrypt-password";
                  };
                }

                function handleEncryptPassword() {
                  const password = textMainArea.value;
                  /*if (!password) {
                textMainArea.value = "Please enter a password.";
                return;
              }*/
                  encryptFile(password);
                }

                function handleDecryptPassword() {
                  const password = textMainArea.value;
                  /*if (!password) {
                textMainArea.value = "Please enter a password.";
                return;
              }*/
                  decryptFile(password);
                }

                async function encryptFile(password) {
                  if (selectFile.files.length > 0) {
                    try {
                      let pbkdf2salt = window.crypto.getRandomValues(
                        new Uint8Array(16)
                      );
                      let filename = selectFile.files[0].name;
                      let file = await readfile(selectFile.files[0]);
                      let keyIv = await deriveKeyIv(password, pbkdf2salt);
                      let someEncryptedData = await encrypt(
                        file,
                        keyIv.key,
                        keyIv.iv
                      );
                      let concat = await new Blob([
                        pbkdf2salt,
                        someEncryptedData.cipher,
                      ]).arrayBuffer();
                      file = new Blob([concat], {
                        type: "application/download",
                      });
                      let blobUrl = URL.createObjectURL(file);
                      let element = document.createElement("a");
                      element.href = blobUrl;
                      element.download = filename + ".enc";
                      element.click();
                      operationState = "";
                      resetFileSelection();
                    } catch (error) {
                      console.error(error);
                      textMainArea.value = "Encryption failed.";
                      operationState = "";
                      resetFileSelection();
                    }
                  } /*else {
                textMainArea.value = "No file selected.";
              }*/
                }

                async function decryptFile(password) {
                  if (selectFile.files.length > 0) {
                    try {
                      let filename = selectFile.files[0].name;
                      let file = new Uint8Array(
                        await readfile(selectFile.files[0])
                      );
                      let pbkdf2salt = new Uint8Array(file.slice(0, 16));
                      let cipher = file.slice(16);
                      let keyIv = await deriveKeyIv(password, pbkdf2salt);
                      let someDecryptedData = await decrypt(
                        cipher,
                        keyIv.iv,
                        keyIv.key
                      );
                      file = new Blob([someDecryptedData], {
                        type: "application/download",
                      });
                      let blobUrl = URL.createObjectURL(file);
                      let element = document.createElement("a");
                      element.href = blobUrl;
                      element.download = filename.replace(/\.enc$/, "");
                      element.click();
                      operationState = "";
                      resetFileSelection();
                    } catch (error) {
                      console.error(error);
                      textMainArea.value = "Decryption failed";
                      operationState = "";
                      resetFileSelection();
                    }
                  } /*else {
                textMainArea.value = "No file selected.";
              }*/
                }

                async function readfile(file) {
                  return new Promise((resolve, reject) => {
                    let f = new FileReader();
                    f.onload = () => {
                      resolve(f.result);
                    };
                    f.readAsArrayBuffer(file);
                  });
                }

                async function deriveKeyIv(
                  password,
                  salt,
                  iterations = 1000000
                ) {
                  let encodedPassword = new TextEncoder("utf-8").encode(
                    password
                  );
                  let pbkdf2Key = await window.crypto.subtle.importKey(
                    "raw",
                    encodedPassword,
                    { name: "PBKDF2" },
                    false,
                    ["deriveBits", "deriveKey"]
                  );

                  let pbkdf2bytes = await window.crypto.subtle.deriveBits(
                    {
                      name: "PBKDF2",
                      salt: salt,
                      iterations: iterations,
                      hash: "SHA-256",
                    },
                    pbkdf2Key,
                    384 // first 32 bytes = 256 bit AES-GCM key, second 16 bytes = 128 bit IV
                  );

                  let key = await window.crypto.subtle.importKey(
                    "raw",
                    pbkdf2bytes.slice(0, 32),
                    { name: "AES-GCM", length: 256 },
                    false,
                    ["encrypt", "decrypt"]
                  );
                  let iv = pbkdf2bytes.slice(32);

                  return { key: key, iv: iv };
                }

                async function encrypt(data, key, iv = null) {
                  if (iv === null) {
                    iv = crypto.getRandomValues(new Uint8Array(16));
                  }
                  let cipher = await crypto.subtle.encrypt(
                    { name: "AES-GCM", iv: iv, tagLength: 128 },
                    key,
                    data
                  );
                  return { cipher: cipher, iv: iv };
                }

                async function decrypt(data, iv, key) {
                  return await crypto.subtle.decrypt(
                    { name: "AES-GCM", iv: iv, tagLength: 128 },
                    key,
                    data
                  );
                }

                function resetFileSelection() {
                  selectFile.value = "";
                  selectFile.onchange = () => {
                    textMainArea.focus();
                    textMainArea.value = "";
                    textMainArea.placeholder =
                      "Write password and click the button again";
                    if (operationState === "decrypt-file") {
                      operationState = "decrypt-password";
                    } else if (operationState === "encrypt-file") {
                      operationState = "encrypt-password";
                    }
                  };
                }
              </script>

              <button
                onclick="rmvNonAr();triggerTheCounts();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Removes all none arabic text"
              >
                Rmv NonAr
              </button>

              <script>
                function rmvNonAr() {
                  const arabicRegex = /^[\u0600-\u06FF\s]+$/;
                  const textMainArea = document.getElementById("textMainArea");
                  textMainArea.value = textMainArea.value.replace(
                    /[^0-9\u0600-\u06FF\s]/g,
                    ""
                  );
                }
              </script>

              <button
                onclick="htmlRmv();triggerTheCounts();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Removes html tags from the text, but leaves the text as is"
              >
                &lt;Rmv HTML&gt;
              </button>

              <button
                onclick="text2HtmlP()"
                class="ttClass"
                data-tooltip="Converts plain text to html, uses line break tags on the first click, and wraps paragraph tags on the second"
              >
                &lt;txt2HtmlP&gt;
              </button>

              <button
                onclick="text2HtmlBr()"
                class="ttClass"
                data-tooltip="Converts plain text to html, uses line break tags on the first click, and wraps paragraph tags on the second"
              >
                &lt;txt2HtmlBr&gt;
              </button>

              <button
                onclick="outputCodePoints();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Tells you which unicode character codepoints the text is made of"
              >
                whichUniChar
              </button>

              <button
                onclick="decodeUnicode();scrollToTopFully()"
                class="ttClass"
                id="decodeUnicode"
                data-tooltip="Decodes uncode 4-digit hexadecimal code point like \u0061 into readable characters on the first button click, and encodes it on the next"
              >
                Decode Unicode
              </button>

              <button
                onclick="decodeURL();scrollToTopFully()"
                class="ttClass"
                id="encodeURL"
                data-tooltip="Decodes a URL from percent-encoding on the first button click, and encodes it on the next"
              >
                Decode URL
              </button>

              <!--
          <button
            onclick="encSvg();triggerTheCounts();"
            class="ttClass"
            data-tooltip="encodes SVG as background-image url for css"
          >
            Encode SVG
          </button>
          -->

              <!--

          <button
            onclick="jsonToArray();triggerTheCounts();"
            class="ttClass"
            data-tooltip="Converts CSV data in the text into JSON"
          >
            JSON → Array
          </button>

          <script>
            function jsonToArray() {
              var arr = document.getElementById("textMainArea").value;

              var res = arr.map(function (item) {
                return Object.values(item);
              });

              document.getElementById("textMainArea").value = res;
            }
          </script>
          -->

              <button
                id="toggleCandR"
                onclick="toggleCountsReplace();"
                class="ttClass"
                data-tooltip="Turns off the char / word / line / bytes counter as well as the text shortcuts while typing"
              >
                Count/ShrtC. ON
              </button>

              <button
                id="toggleHandT"
                onclick="toggleHelpTips();"
                class="ttClass"
                data-tooltip="Turns on tooltip help, which explains what these buttons do when you point at them"
              >
                ❓Help is OFF
              </button>

              <button
                onclick="findDoubleFilis();"
                class="ttClass"
                data-tooltip="Checks whether your text has repeat fili / diacritics / tashkeel / harakas in arabic or dhivehi"
                style="font-size: 101%"
              >
                ފިލިި ި އިތުރުތޯ
              </button>

              <button
                onclick="findLetterWithoutFilis();"
                class="ttClass"
                data-tooltip="Checks whether your text has letters without filis in dhivehi, except for hus nuunu. It also checks for filis without letters"
                style="font-size: 101%"
              >
                ފިލ/އަކު ު މަދުތޯ
              </button>

              <!--
          <button
            onclick="find();"
            class="ttClass"
            data-tooltip="Checks whether your text has ..."
          >
          ބަނދުވާ ) އިންތޯ
        </button>-->

              <button
                onclick="darkModeTog();scrollToTopFully();"
                id="toggleDark"
                class="ttClass"
                data-tooltip="Toggles between dark and light mode"
              >
                🌓 Dark <u>M</u>ode
              </button>

              <button
                id="fullScreenB"
                class="ttClass"
                data-tooltip="Go fullscreen. Press escape to undo"
              >
                🖥️ Full <u>S</u>creen
              </button>

              <button
                onClick="window.location.reload();scrollToTopFully()"
                class="ttClass"
                data-tooltip="Soft reloads the page"
              >
                🔄 Soft Reload
              </button>

              <!-- other, not truly force reload method?:
            onclick="window.location.href = window.location.href.split('.html')[0] + '.html';" -->
              <button
                class="ttClass"
                data-tooltip="Hard reloads the page"
                onclick="location.reload(true);scrollToTopFully()"
              >
                Hard Reload
              </button>

              <script>
                function scrollToTopFully() {
                  window.scrollTo({
                    top: 0,
                    behavior: "smooth", // Smooth scroll
                  });
                }
                /*// https://stackoverflow.com/questions/3664381/force-page-scroll-position-to-top-at-page-refresh-in-html/60994204#60994204
          function scrollToTopFully() {
            history.scrollRestoration = "manual";
            window.addEventListener("beforeunload", () => {
              window.scrollTo({
                top: 0,
                behavior: "smooth",
              });
            });
          }*/
              </script>

              <style>
                .fullScreenClass {
                  /* 100% height causes jump on remove class deanimate */
                  height: 100vh !important;
                  position: fixed;
                  top: 0;
                  right: 0;
                  /*width: 100%;*/
                  /* padding causes textarea to autoresize on content full scroll, so used borderwidth */
                  border-width: 5rem;
                  /*100px;*/
                  border-bottom-width: 10rem;
                  font-size: 26px !important;

                  /* added for fullscreen animation, otherwise starts off as grey */
                  border-color: white;
                  /* animation effect below */
                  -webkit-transition: all 0.5s ease;
                  -moz-transition: all 0.5s ease;
                  -o-transition: all 0.5s ease;
                  transition: all 0.5s ease;
                }

                @media (max-width: 599px) {
                  .fullScreenClass {
                    border-width: 0px;
                    font-size: 23px;
                    /* for typing on mobile? */
                    position: absolute;
                  }
                }
              </style>

              <script>
                document
                  .getElementById("fullScreenB")
                  .addEventListener("click", function () {
                    document
                      .getElementById("textMainArea")
                      .classList.add("fullScreenClass");
                    //
                    document.getElementById("textMainArea").focus();

                    // turns scroll to top arrow invisible
                    document
                      .querySelectorAll(".toTop")
                      .forEach(function (element) {
                        element.style.opacity = "0";
                      });
                    //$("#textMainArea").removeClass("fullScreenClass");

                    /* $("#fullScreenB").click(function () {
       // listen for multiple clicks
       window.addEventListener("click", function (evt) {
         if (evt.detail === 4) {
           alert("triple click!");
           //var esc = $.Event("keydown", { keyCode: 27 });
           //$("body").trigger(esc); // change body to the element where you'd like to execute the escape key press.
           $("#textMainArea").removeClass("fullScreenClass");
         }
       });*/

                    // for some reason help buttons show if they have relative position, so changed to static
                    document
                      .querySelectorAll(".ttClass[data-tooltip]")
                      .forEach(function (element) {
                        element.style.position = "static";
                      });

                    // prevents buttons from enlargening on hover for a bit even as full screen shows
                    document
                      .querySelectorAll(".editorButtons button")
                      .forEach(function (element) {
                        element.style.transition = "none";
                      });
                  });

                // old onclick js code turned into css later
                /*$("#textMainArea").css({
         height: "100%",
         position: "fixed",
         top: "0",
         right: "0",
         width: "100%",
         borderWidth: "100px",
         borderColor: "white",
         fontSize: "26px",
       });

       if (window.matchMedia("(max-width: 599px)").matches) {
         //alert("This is a mobile device.");
         $("#textMainArea").css({
           borderWidth: "15px",
           borderColor: "white",
           fontSize: "23px",
         });
         //
       }
       */
              </script>

              <p
                class="doubleFiliHolder"
                style="direction: rtl; display: none; margin-bottom: 0"
              >
                އިތުރަށް ޖެހިފައިވާ ފިލި: &nbsp;
                <span id="doubleFilis"></span><br />
                <span id="doubleFilis2"></span>
                <br />
              </p>

              <p
                class="letterWithoutFiliHolder"
                style="direction: rtl; display: none; margin-bottom: 0"
              >
                އަކުރެއް ނެތް ފިލި / ފިއްޔެއް ނެތް އަކުރު: &nbsp;
                <span id="letterWithoutFilis"></span><br />
                <span id="letterWithoutFilis2"></span>
                <br />
              </p>

              <br />

              <div class="replaceTextContainer">
                <style>
                  /* i want to place the replace button and the textarea inputs in a div on the same line at the same height, right now they are not uniform */
                  .replaceTextContainer {
                    display: flex;
                    align-items: stretch;
                    justify-content: center;

                    /* allow wrapping by default */
                    flex-wrap: wrap;
                  }

                  #findThis,
                  #replaceWith {
                    padding: 5px;

                    /* https://stackoverflow.com/questions/271067/how-can-i-make-a-textarea-100-width-without-overflowing-when-padding-is-present/4156343#4156343 */
                    -webkit-box-sizing: border-box;
                    -moz-box-sizing: border-box;
                    box-sizing: border-box;
                  }

                  /* keep them in one line for screens wider than 600px */
                  @media (min-width: 600px) {
                    .replace-container {
                      flex-wrap: nowrap;
                      padding: 0;
                    }
                  }

                  /* otherwise no space between them on mobile */
                  #findThis {
                    margin-right: 5px;
                  }

                  #replaceWith {
                    margin-left: 5px;
                  }
                </style>
                <textarea
                  class="inputFieldClass"
                  placeholder="2 To this"
                  type="text"
                  id="replaceWith"
                  style="color: blue"
                ></textarea>
                <!-- removed input and type="text to make it accept new lines
          <input
            class="inputFieldClass"
            placeholder="2 To this"
            type="text"
            id="replaceWith"
            style="color: blue"
          />-->
                <span
                  id="hiddenFindCount"
                  style="display: none"
                  class="ttClass"
                  data-tooltip="Shows the number of instances the search has matched in the text"
                  >(<span id="findCounted">0</span>)</span
                >
                <textarea
                  class="inputFieldClass"
                  placeholder="1 Change this"
                  type="text"
                  id="findThis"
                  style="color: red"
                  oninput="findCounter();"
                ></textarea>

                <button
                  id="findReplaceButton"
                  onclick="findAndReplace();findCounter();triggerTheCounts();"
                  class="ttClass"
                  data-tooltip="Searches your text and replaces based on your input. Turn on LTR to make Regex searches"
                >
                  Replace Txt
                </button>

                <!--<button onclick="regexFindReplace();triggerTheCounts();">
            Regex Replace
          </button>-->
              </div>
              <!-- <div class="replaceTextContainer"> -->
            </div>
            <!-- <div class="mid"> -->

            <script>
              function findDoubleFilis() {
                // https://stackoverflow.com/questions/13688238/javascript-style-display-none-or-jquery-hide-is-more-efficient/13688269#13688269
                document.getElementsByClassName(
                  "doubleFiliHolder"
                )[0].style.display = "block";
                // https://stackoverflow.com/questions/12194435/cannot-set-property-display-of-undefined/12194465#12194465

                //const string = "something format_abc oanasasd";
                //const regexp = /(?:^|\s)format_(.*?)(?:\s|$)/g;

                //let str = document.getElementById("textMainArea").value;
                //let res = str.match(/\b\w*oana\w*\b/i);
                // https://stackoverflow.com/questions/42535652/regex-match-all-the-words-that-contains-some-word/42535687#42535687

                //let reg = /#([\S]+)/gim; // Get hashtags.
                //let string = 'mi alegría es total! ✌🙌\n#fiestasdefindeaño #PadreHijo #buenosmomentos #france #paris'; // https://stackoverflow.com/questions/432493/how-do-you-access-the-matched-groups-in-a-javascript-regular-expression/41445988#41445988

                //let reg = /(\b[dog]+\b(?![,])+)/gim;
                // https://stackoverflow.com/questions/10713189/regex-to-match-entire-words-containing-only-certain-characters/10713232#10713232
                //let reg = /([dog]+)/gim;
                //let reg = /(\b\w*oana\w*\b)/gim;
                //let reg = /(\b\W*ަި|na\W*\b)/gim;
                /* let reg =
      /(\b\[^\u0000-\u007F]|\w*ަި|na\[^\u0000-\u007F]|\w*\b)/gim; */
                /*
    let reg = \b[dog]+\b(?![,])

      /(\b\[^\u0000-\u007F]|\w*ަި|na\[^\u0000-\u007F]|\w*\b)/gim;
      */

                /*

    let reg = /#([\S]+)/gim; // Get hashtags.

    let string = document.getElementById("textMainArea").value;
    let matches = (string.match(reg) || []).map((e) =>
      e.replace(reg, "$1")
    );
    //console.log(matches);
    */

                /*

    function getMatches(string, regex, index) {
      index || (index = 1); // default to the first capturing group
      var matches = [];
      var match;
      while ((match = regex.exec(string))) {
        matches.push(match[index]);
      }
      return matches;
    }

    // Example :
    var myString = document.getElementById("textMainArea").value;
    var myRegEx = /(?:^|\s)format_(.*?)(?:\s|$)/g;

    // Get an array containing the first capturing group for every match
    var matches = getMatches(myString, myRegEx, 1);
    */

                // https://stackoverflow.com/questions/432493/how-do-you-access-the-matched-groups-in-a-javascript-regular-expression/41445988#41445988

                //let reg = /([ަި]+)/gim; // Get hashtags.
                //let reg = /(\b\w*[a]\w*\b)/gim; // Get hashtags.
                //let reg = /(\b\w*އަި\w*\b)/gim; // Get hashtags.
                let reg =
                  /(\b\w*[\u0787-\u07BF]|ަު|ަެ|ަާ|ަީ|ަޫ|ަޭ|ަް|ަޮ|ަޯ|ިަ|ިި|ިު|ިެ|ިާ|ިީ|ިޫ|ިޭ|ިް|ިޮ|ިޯ|ުަ|ުި|ުު|ުެ|ުާ|ުީ|ުޫ|ުޭ|ުް|ުޮ|ުޯ|ެަ|ެި|ެު|ެެ|ެާ|ެީ|ެޫ|ެޭ|ެް|ެޮ|ެޯ|ާަ|ާި|ާު|ާެ|ާާ|ާީ|ާޫ|ާޭ|ާް|ާޮ|ާޯ|ީަ|ީި|ީު|ީެ|ީާ|ީީ|ީޫ|ީޭ|ީް|ީޮ|ީޯ|ޫަ|ޫި|ޫު|ޫެ|ޫާ|ޫީ|ޫޫ|ޫޭ|ޫް|ޫޮ|ޫޯ|ޭަ|ޭި|ޭު|ޭެ|ޭާ|ޭީ|ޭޫ|ޭޭ|ޭް|ޭޮ|ޭޯ|ްަ|ްި|ްު|ްެ|ްާ|ްީ|ްޫ|ްޭ|ްް|ްޮ|ްޯ|ޮަ|ޮި|ޮު|ޮެ|ޮާ|ޮީ|ޮޫ|ޮޭ|ޮް|ޮޮ|ޮޯ|ޯަ|ޯި|ޯު|ޯެ|ޯާ|ޯީ|ޯޫ|ޯޭ|ޯް|ޯޮ|ޯޯ\w*\b)/gim;

                /*let string =
      " mشi aއިަlegría es އަި total! ✌🙌\n#fiestaشََsde findشََeaño #PadreHijo #buenosއmomentos #franއަިce #parشis";*/
                let string = document.getElementById("textMainArea").value;

                let matches = (string.match(reg) || []).map((e) =>
                  e.replace(reg, " $1")
                );
                //console.log(matches);

                // Log results
                /*document.write(
      matches.length + " matches found: " + JSON.stringify(matches)
    );
    console.log(matches);
    */

                document.getElementById("doubleFilis").innerHTML = matches;

                /* arabic half */

                let reg2 =
                  /(\b[\u0600-\u06FF]|ًَ|َُ|ٌَ|َِ|ٍَ|َْ|َ~|َّ|ًَ|ًً|ًُ|ًٌ|ًِ|ًٍ|ًْ|ً~|ًّ|َُ|ًُ|ُُ|ٌُ|ُِ|ٍُ|ُْ|ُ~|ُّ|ٌَ|ًٌ|ٌُ|ٌٌ|ٌِ|ٌٍ|ٌْ|ٌ~|ٌّ|َِ|ًِ|ُِ|ٌِ|ِِ|ٍِ|ِْ|ِ~|ِّ|ٍَ|ًٍ|ٍُ|ٌٍ|ٍِ|ٍٍ|ٍْ|ٍ~|ٍّ|َْ|ًْ|ُْ|ٌْ|ِْ|ٍْ|ْْ|ْ~|ّْ|~َ|~ً|~ُ|~ٌ|~ِ|~ٍ|~ْ|~~|~ّ|ّْ|ّ~|ّّ\b)/gim;

                /*let string2 =
      " mشi aއިަlegría es އަި total! ✌🙌\n#fiestaشََsde findشََeaño #PadreHijo #buenosއmomentos #franއަިce #parشis";*/
                let string2 = document.getElementById("textMainArea").value;

                let matches2 = (string2.match(reg2) || []).map((e) =>
                  e.replace(reg2, " $1")
                );

                document.getElementById("doubleFilis2").innerHTML = matches2;
              }
              //

              function findLetterWithoutFilis() {
                document.getElementsByClassName(
                  "letterWithoutFiliHolder"
                )[0].style.display = "block";

                //let reg3 = /(?!ނ)[\u0780-\u07A5](?![\u07A6-\u07B0]|$)/gim;
                // https://stackoverflow.com/questions/54688769/javascript-regex-find-words-containing-only-one-dot/54688962#54688962how-to-match-a-whole-word-if-a-specific-character-exists-in-the-word/63155061#63155061
                let reg3 =
                  /(?:^|\s)([^.\s]*(?!ނ)[\u0780-\u07A5](?![\u07A6-\u07B0]|$)[^.\s]*)(?!\S)/gim;

                let string = document.getElementById("textMainArea").value;

                let matches3 = (string.match(reg3) || []).map((e) =>
                  e.replace(reg3, " $1")
                );

                document.getElementById("letterWithoutFilis").innerHTML =
                  matches3;

                /* other half */

                //let reg4 = /(?<![\u0780-\u07A5])[\u07A6-\u07B0]/gim;
                // https://stackoverflow.com/questions/57993609/regex-find-match-one-word-before-and-after-the-string-encapsulated-with/57993731#57993731

                let reg4 =
                  /(?:(\S+)\s+)?((?<![\u0780-\u07A5])[\u07A6-\u07B0])(?=(?:\s+(\S+))?)/gim;

                let string4 = document.getElementById("textMainArea").value;

                // $& This will return a string with the complete match result from the regex.

                let matches4 = (string4.match(reg4) || []).map((e) =>
                  e.replace(reg4, " $&")
                );

                document.getElementById("letterWithoutFilis2").innerHTML =
                  matches4;
              }
              //

              // https://stackoverflow.com/questions/4009756/how-to-count-string-occurrence-in-string/4009768#4009768

              function findCounter() {
                document.getElementById("hiddenFindCount").style.display =
                  "inline";

                var str = document.getElementById("textMainArea").value;
                searchText = document.getElementById("findThis").value;
                ans = 0;

                // https://stackoverflow.com/questions/5280287/count-regular-expression-matches-in-jquery/5280308#5280308

                //var patt1 = /ain/gi; //noticed the g.  g will enable match of all occurance, and without it it'll only match the first occurance

                // https://stackoverflow.com/questions/494035/how-do-you-use-a-variable-in-a-regular-expression/494046#494046
                const patt1 = new RegExp(searchText, "gi");

                //ans = str.match(patt1).length; //4 matched
                ans = (str.match(patt1) || []).length; // https://bobbyhadz.com/blog/javascript-count-regex-matches
                // https://stackoverflow.com/questions/1072765/count-number-of-matches-of-a-regex-in-javascript

                document.getElementById("findCounted").innerHTML = ans;

                if (document.getElementById("findThis").value.length == 0) {
                  document.getElementById("findCounted").innerHTML = 0;
                } // https://stackoverflow.com/questions/3937513/javascript-validation-for-empty-input-field/17128007#17128007

                //var count = (temp.match(/is/g) || []).length;
                //console.log(count);
                //document.getElementById("findCounted").innerHTML = count;
              }

              // i want to the find and replace to work even when the user types in input without escaping regex
              function findAndReplace() {
                var input = document.getElementById("textMainArea").value;
                var replaceWith = document.getElementById("replaceWith").value;

                // Escape special characters in the search string
                var find = document
                  .getElementById("findThis")
                  .value.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");

                var regex = new RegExp(find, "gm");
                // added m to accept newlines

                document.getElementById("textMainArea").value = input.replace(
                  regex,
                  replaceWith
                );
              }
              /* OLD
  // https://stackoverflow.com/questions/50951625/use-html-input-to-replace-information-from-string-using-javascript/50951734#50951734
  function findAndReplace() {
    var input = document.getElementById("textMainArea").value;
    var replaceWith = document.getElementById("replaceWith").value;
    var find = new RegExp(
      document.getElementById("findThis").value,
      "g"
    );
    //var regex = new RegExp("ReGeX" + find + "ReGeX");

    document.getElementById("textMainArea").value = input.replace(
      find,
      replaceWith
    );
  }*/

              //
              //
            </script>

            <div id="lineThruForToggle">
              <p class="buttonHeader">
                ތިރީގައި މިވާ އަކުރުތައް، މަތީގައިވާ ހުސްޖާގައިގައި ލިޔުމާއެކީ
                ވަގުތުން ދެންނެވިފައިވާ ބަސްތަކަށް ބަދަލުވެގެންދާނެއެވެ:
              </p>
              <style>
                /*@mixin for-ABOVEphone-only*/
                @media (min-width: 599px) {
                  .listItems {
                    column-count: 2;
                    font-size: 20px;
                  }
                }
              </style>
              <ul class="listItems">
                <li>ސސ- / صص- / -ss ← ﷺ</li>
                <li>"- ← ” / -" ← “</li>
                <li>'- ← ’ / -' ← ‘</li>
                <li>&#40;&#40;- ← « / &#41;&#41;- ← »</li>
                <li>&#123;-- ← ﴿ / &#125;-- ← ﴾</li>
                <li>ރއ- / رض- / -ra ← رَضِيَ اللَّهُ عَنْهُ</li>
                <li>ރއހ- / رضه- / -rah ← رَضِيَ اللَّهُ عَنْهَا</li>
                <li>ރއ2- / رض2- / -ra2 ← رَضِيَ اللَّهُ عَنْهُمَا</li>
                <li>ރއ3- / رض3- / -ra3 ← رَضِيَ اللَّهُ عَنْهُمْ</li>
                <li>ވދ- ← ވިދާޅުވިއެވެ:</li>
                <li>ދނ- ← ދެންނެވިއެވެ:</li>
                <li>ރވ- ← ރިވާވެގެންވެއެވެ:</li>
                <li>ރކ- ← ރިވާ ކުރެއްވީ</li>
                <li>ރކއ- ← ރިވާ ކުރެއްވިއެވެ:</li>
                <li>ނރ- ← ނެރުެއްވީ</li>
                <li>މހ- ← މި ޙަދީޘް</li>
                <li>ވރ- ← ވިދާޅުވިކަމަށް ރިވާވެގެންވެއެވެ:</li>
                <li>ގރ- ← ގެ އަރިހުން ރިވާވެގެންވެއެވެ:</li>
                <li>އއރ- ← އަދި އެހެން ރިވާޔަތެއްގައި ވެއެވެ:</li>
                <li>ގއ- ← ގެ އަރިހުން</li>
                <li>އހކ- ← އަހަރެންނަށް ކިޔައިދެއްވިއެވެ</li>
                <li>އމކ- ← އަހަރުމެންނަށް ކިޔައިދެއްވިއެވެ</li>
                <li>އޚ- ← އަހަރެންނަށް ޚަބަރުދެއްވިއެވެ</li>
                <li>އމޚ- ← އަހަރެންނަށް ޚަބަރުދެއްވިއެވެ</li>
                <li>ރސ- ← ރަސޫލު ﷲ</li>
                <li>ނބ- ← ނަބިއްޔާ</li>
                <li>ހދ- ← ޙަދީޘް</li>
                <li>ރހކ- ← ރަސޫލު ﷲ ﷺ ޙަދީޘް ކުރެއްވިއެވެ: ”</li>
                <li>ނހކ- ← ނަބިއްޔާ ﷺ ޙަދީޘް ކުރެއްވިއެވެ: ”</li>
                <li>ހކ- ← ޙަދީޘް ކުރެއްވިއެވެ: ”</li>
                <li>ހމ- ← ހަމަކަށަވަރުން</li>
                <li>އހ- ← އެހެނީ ހަމަކަށަވަރުން</li>
                <li>ކލ- ← ކަލޭގެފާނު</li>
                <li>އކ- ← އެކަލޭގެފާނު</li>
                <li>ހކއ- ← ޙަދީޘް ކުރައްވަނިކޮށް ތިމަން އަޑުއެހީމެވެ: ”</li>
                <li>1-- ← ⁽¹⁾ / 9-- ← ⁽⁹⁾</li>
                <li>...- ← …</li>
              </ul>
            </div>

            <!--  -->

            <script type="text/javascript">
              // https://stackoverflow.com/questions/4220126/run-javascript-function-when-user-finishes-typing-instead-of-on-key-up/5926782#5926782

              /*
            //setup before functions
            let typingTimer; //timer identifier
            let doneTypingInterval = 500; //time in ms (5 seconds)
            let myInput = document.getElementById("textMainArea");

            //on keyup, start the countdown
            // CHANGED keyup to input below
            myInput.addEventListener("input", () => {
              clearTimeout(typingTimer);
              if (myInput.value) {
                typingTimer = setTimeout(doneTyping, doneTypingInterval);
              }
            });

            //user is "finished typing," do something
            function doneTyping() {
              //do something
              countChar();
              countWord();
              countLine();
              countSize();
            }

            let taVal = document.getElementById("textMainArea").value;
            if (taVal == "") {
              // alert("This field is required");
              countChar();
              countWord();
              countLine();
              countSize();
              document.getElementById("textMainArea").value = 5;
            } else {
              console.log("success");
            }*/

              //
              //
              /* toggle counter and replace off */

              var toggleCandRState = 1;

              // https://stackoverflow.com/questions/8752541/jquery-delay-after-click/8752555#8752555

              function triggerTheCounts() {
                if (toggleCandRState == 1) {
                  setTimeout(function () {
                    countChar();
                    countWord();
                    countLine();
                    countSize();
                  }, 850);
                } else {
                }
              }
              //

              /*function triggerTheReplace() {
              setTimeout(function () {
                replaceType();
              }, 1000);
            }*/

              // https://www.w3schools.com/cssref/css3_pr_text-decoration-line.asp

              var toggleCountsReplace_timesClicked = 0;
              function toggleCountsReplace() {
                toggleCountsReplace_timesClicked++;
                if (toggleCountsReplace_timesClicked % 2 == 0) {
                  //run second function

                  toggleCandRState = 1;
                  triggerTheCounts();

                  document.getElementById("toggleCandR").innerHTML =
                    "Count/ShrtC. ON";

                  document.getElementById(
                    "lineThruForToggle"
                  ).style.textDecorationLine = "none";
                  document.getElementById(
                    "lineThruForToggle2"
                  ).style.textDecorationLine = "none";

                  //

                  if (
                    window.matchMedia &&
                    window.matchMedia("(prefers-color-scheme: dark)").matches
                  ) {
                    // dark mode
                    document.getElementById(
                      "toggleCandR"
                    ).style.backgroundColor = "#fff";
                  } else {
                    document.getElementById(
                      "toggleCandR"
                    ).style.backgroundColor = "#efefef";
                  }

                  document.getElementById("toggleCandR").style.color =
                    "initial";
                  document.getElementById("toggleCandR").style.boxShadow =
                    "initial";

                  return false;
                } else {
                  //run first function

                  toggleCandRState = 0;

                  document.getElementById("toggleCandR").innerHTML =
                    "Count/ShrtC. OFF";

                  document.getElementById(
                    "lineThruForToggle"
                  ).style.textDecorationLine = "line-through";
                  document.getElementById(
                    "lineThruForToggle2"
                  ).style.textDecorationLine = "line-through";

                  //

                  document.getElementById("toggleCandR").style.backgroundColor =
                    "#136296";
                  document.getElementById("toggleCandR").style.color = "#fff";

                  document.getElementById("toggleCandR").style.boxShadow =
                    "inset 0px 0px 5px #c1c1c1";

                  return false;
                }
              }

              // http://talkerscode.com/webtricks/demo/demo_live-character-count-using-javascript.php

              function countChar() {
                //var total = document.getElementById("textMainArea").value;
                /* this does not count spaces */
                //total = total.replace(/\s/g, "");
                //document.getElementById("characterC").innerHTML = total.length;
                document.getElementById("characterC").innerHTML =
                  document.getElementById("textMainArea").value.length;
                //"ކެރެކްޓާތައް: " + total.length;
                // removed the added string and just kept the total length instead

                // can add below so that less js calculations would happen rather than starting to count size kbs from scratch
                /*s = total.length;
              formatBytes(s);*/
              }

              // https://www.geeksforgeeks.org/how-to-make-a-word-count-in-textarea-using-javascript/

              function countWord() {
                // Get the input text value
                //var words = document.getElementById("textMainArea").value;

                /* doesnt include new lines https://stackoverflow.com/questions/18679576/counting-words-in-string */
                //count = words.split(" ").length;

                /* https://www.reddit.com/r/javascript/comments/57uzul/javascript_word_count_with_line_breaks/ */

                //count = words.split(/\s+/).length;
                document.getElementById("wordC").innerHTML = document
                  .getElementById("textMainArea")
                  .value.replace(/\n/gm, " ")
                  .split(" ")
                  .filter((el) => el !== "").length;

                /* previous old code, above is much simpler
                        var count = 0;

                        var split = words.split(" ");

                        for (var i = 0; i < split.length; i++) {
                          if (split[i] != "") {
                            count += 1;
                          }
                        }
                        */

                // Display it as output
                //document.getElementById("wordC").innerHTML = count;
              }

              // https://stackoverflow.com/questions/8488729/how-to-count-the-number-of-lines-of-a-string-in-javascript/43820645#43820645

              function countLine() {
                // bringing this first, otherwise counted number shows more than zero
                document.getElementById("lineC").innerHTML = 0;
                //

                var el = document.getElementById("textMainArea");

                lineCount = 0;
                var lines = el.value.split("\n");
                for (var i = 0; i < lines.length; i++) {
                  if (lines[i].length > 0) lineCount++;
                }
                console.log(lineCount);

                // or

                el.value.split("\n").length;
                el.value.split(/\r?\n|\r/).length;

                /*
              count2 = document
                .getElementById("textMainArea")
                .value.split(/\r\n|\r|\n/).length;
                */
                /*
              const text2 = document.getElementById("textMainArea").value;
              const lines2 = text2.split("\n");
              const count2 = lines2.length;
              //console.log(count2);
              */
                document.getElementById("lineC").innerHTML = lineCount;
              }

              // https://stackoverflow.com/questions/5515869/string-length-in-bytes-in-javascript/12203648#12203648

              /*function countSize() {
                          stringSize = document.getElementById("textMainArea").value;
                          document.getElementById("sizeC").innerHTML = new Blob([
                            stringSize,
                          ]).size;
                        }*/

              // https://stackoverflow.com/questions/5515869/string-length-in-bytes-in-javascript/23329386#23329386

              function countSize() {
                // bringing this first, otherwise counted number shows more than zero
                document.getElementById("sizeC").innerHTML = 0;
                //

                str = document.getElementById("textMainArea").value;
                var s = str.length;
                for (var i = str.length - 1; i >= 0; i--) {
                  var code = str.charCodeAt(i);
                  if (code > 0x7f && code <= 0x7ff) s++;
                  else if (code > 0x7ff && code <= 0xffff) s += 2;
                  if (code >= 0xdc00 && code <= 0xdfff) i--;
                }

                // https://stackoverflow.com/questions/15900485/correct-way-to-convert-size-in-bytes-to-kb-mb-gb-in-javascript/18650828#18650828

                formatBytes(s);
              }

              function formatBytes(s, decimals = 2) {
                if (s === 0) return "0 B";

                const k = 1024;
                const dm = decimals < 0 ? 0 : decimals;
                const sizes = [
                  "B",
                  "KB",
                  "MB",
                  "GB",
                  "TB",
                  "PB",
                  "EB",
                  "ZB",
                  "YB",
                ];

                const i = Math.floor(Math.log(s) / Math.log(k));

                //return parseFloat((s / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
                /*s2 =
                  parseFloat((s / Math.pow(k, i)).toFixed(dm)) + " " + sizes[i];*/
                s2 = parseFloat((s / Math.pow(k, i)).toFixed(dm));
                document.getElementById("sizeC").innerHTML = s2;
                document.getElementById("sizeCletter").innerHTML = sizes[i];
              }

              //
              //
              //

              // old code for replace below, causes cursor to jump to end upon replace, after moving cursor manually })

              /*function replaceType() {
                        var text = document.getElementById("textMainArea").value;
                        var newText = text
                          .replace(/ސސ-/g, "ﷺ")
                          .replace(/ss-/g, "ﷺ")
                          .replace(/صص-/g, "ﷺ")
                          .replace(/\"-/g, "”")
                          .replace(/-\"/g, "“")
                          .replace(/\'-/g, "’")
                          .replace(/-\'/g, "‘")
                          .replace(/-br/g, "<br><br>")
                          .replace(/ބރ-/g, "<br><br>")
                          .replace(/رض-/g, "رَضِيَ اللَّهُ عَنْهُ")
                          .replace(/ރއ-/g, "رَضِيَ اللَّهُ عَنْهُ")
                          .replace(/ra-/g, "رَضِيَ اللَّهُ عَنْهُ")
                          .replace(/رضه-/g, "رَضِيَ اللَّهُ عَنْهَا")
                          .replace(/ރއހ-/g, "رَضِيَ اللَّهُ عَنْهَا")
                          .replace(/rah-/g, "رَضِيَ اللَّهُ عَنْهَا")
                          .replace(/رض2-/g, "رَضِيَ اللَّهُ عَنْهُمَا")
                          .replace(/ރއ2-/g, "رَضِيَ اللَّهُ عَنْهُمَا")
                          .replace(/ra2-/g, "رَضِيَ اللَّهُ عَنْهُمَا")
                          .replace(/رض3-/g, "رَضِيَ اللَّهُ عَنْهُمْ")
                          .replace(/ރއ3-/g, "رَضِيَ اللَّهُ عَنْهُمْ")
                          .replace(/ra3-/g, "رَضِيَ اللَّهُ عَنْهُمْ")
                          .replace(/ވދ-/g, "ވިދާޅުވިއެވެ: ")
                          .replace(/ދނ-/g, "ދެންނެވިއެވެ: ")
                          .replace(/ރކ-/g, "ރިވާ ކުރެއްވިއެވެ: ")
                          .replace(/އއރ-/g, "އަދި އެހެން ރިވާޔަތެއްގައި ވެއެވެ: ")
                          .replace(/ރސ-/g, "ރަސޫލު ﷲ ﷺ")
                          .replace(/ނސ--/g, "ނަބިއްޔާ ﷺ")
                          .replace(/ނހކ-/g, "ނަބިއްޔާ ﷺ ޙަދީޘް ކުރެއްވިއެވެ: ”")
                          .replace(/ރހކ-/g, "ރަސޫލު ﷲ ﷺ ޙަދީޘް ކުރެއްވިއެވެ: ”")

                          .replace(/ހކ-/g, "ޙަދީޘް ކުރެއްވިއެވެ: ”") // this has to come after the previous two, otherwise overrides them

                          .replace(
                            /ރއޑ-/g,
                            "ރަސޫލު ﷲ ﷺ ޙަދީޘް ކުރައްވަނިކޮށް ތިމަން އަޑު އެހީމެވެ: ”"
                          )
                          .replace(
                            /ނއޑ-/g,
                            "ނަބިއްޔާ ﷺ ޙަދީޘް ކުރައްވަނިކޮށް ތިމަން އަޑު އެހީމެވެ: ”"
                          )
                          .replace(/ސައްހަ-/g, "މި ޙަދީޘް ސައްހަ ކުރެއްވިއެވެ.")
                          .replace(/ޟ-/g, "މި ޙަދީޘް ޟަޢީފު ކުރެއްވިއެވެ.")
                          .replace(/މރވ-/g, "މި ޙަދީޘް ރިވާ ކުރެއްވީ");

                        document.getElementById("textMainArea").value = newText;
                        return false;
                      }*/

              /* solution for above code https://stackoverflow.com/questions/40196467/restore-cursor-position-after-replace/40198673#40198673 */

              var area = document.getElementById("textMainArea");

              var getCount = function (str, search) {
                return str.split(search).length - 1;
              };

              var replaceText = function (search, replaceWith) {
                if (area.value.indexOf(search) >= 0) {
                  var start = area.selectionStart;
                  var end = area.selectionEnd;
                  var textBefore = area.value.substr(0, end);
                  var lengthDiff =
                    (replaceWith.length - search.length) *
                    getCount(textBefore, search);
                  area.value = area.value.replace(search, replaceWith);
                  area.selectionStart = start + lengthDiff;
                  area.selectionEnd = end + lengthDiff;
                }
              };
              /*
            //document.onkeyup = function (e) {
            // https://stackoverflow.com/questions/38989559/jquery-keyup-event-for-mobile-device/49029711#49029711
            document.on("keyup touchend", function () {
  */
              // area.addEventListener("keypress", function (e) {
              // BELOW WAS MOST RECENT REPLACE CODE, before assigned to detect - press
              // document can be area / document.addEventListener
              // e can be evt / (e) / e.keyCode

              /*area.addEventListener("keydown", function (e) {
    if (e.keyCode === 81) {
      console.log('The "Q" key is being held down...?');
    }
  });*/

              //
              // area.addEventListener("input", function (e) {

              // all other os browsers except android
              document
                .getElementById("textMainArea")
                .addEventListener("keydown", function (event) {
                  if (event.keyCode === 189 || event.keyCode === 109) {
                    // 189 is Minus || 109 is NumpadSubtract, they are not the same, need both
                    setTimeout(replacesText, 600);
                  }
                });
              //

              // android fix
              // https://codepen.io/ashconnolly/pen/WyWgPG
              // http://jsfiddle.net/4bcWn/
              var input_field = document.getElementById("textMainArea");
              input_field.addEventListener("textInput", function (e) {
                var char = e.data;
                // If you want the keyCode..
                var keyCode = char.charCodeAt(0);
                if (keyCode == 45) {
                  //alert("The enter key was pressed");
                  setTimeout(replacesText, 600);
                }
              });
              //

              // https://www.freecodecamp.org/news/javascript-settimeout-how-to-set-a-timer-in-javascript-or-sleep-for-n-seconds/#:~:text=The%20JavaScript%20setTimeout()%20method,to%20pass%20one%20thousand%20milliseconds%20.
              function replacesText() {
                replaceText("1--", "⁽¹⁾");
                replaceText("2--", "⁽²⁾");
                replaceText("3--", "⁽³⁾");
                replaceText("4--", "⁽⁴⁾");
                replaceText("5--", "⁽⁵⁾");
                replaceText("6--", "⁽⁶⁾");
                replaceText("7--", "⁽⁷⁾");
                replaceText("8--", "⁽⁸⁾");
                replaceText("9--", "⁽⁹⁾");
                replaceText("0--", "⁰");
                replaceText("ސސ-", "ﷺ");
                replaceText("صص-", "ﷺ");
                replaceText("ss-", "ﷺ");
                replaceText('"-', "”");
                replaceText('-"', "“");
                replaceText("'-", "’");
                replaceText("-'", "‘");
                replaceText("\)\)-", "«");
                replaceText("\(\(-", "»");
                replaceText("\}--", "﴾");
                replaceText("\{--", "﴿");
                replaceText("ރއ-", "رَضِيَ اللَّهُ عَنْهُ");
                replaceText("رض-", "رَضِيَ اللَّهُ عَنْهُ");
                replaceText("ra-", "رَضِيَ اللَّهُ عَنْهُ");
                replaceText("ރއހ-", "رَضِيَ اللَّهُ عَنْهَا");
                replaceText("رضه-", "رَضِيَ اللَّهُ عَنْهَا");
                replaceText("rah-", "رَضِيَ اللَّهُ عَنْهَا");
                replaceText("ރއ2-", "رَضِيَ اللَّهُ عَنْهُمَا");
                replaceText("رض2-", "رَضِيَ اللَّهُ عَنْهُمَا");
                replaceText("ra2-", "رَضِيَ اللَّهُ عَنْهُمَا");
                replaceText("ރއ3-", "رَضِيَ اللَّهُ عَنْهُمْ");
                replaceText("رض3-", "رَضِيَ اللَّهُ عَنْهُمْ");
                replaceText("ra3-", "رَضِيَ اللَّهُ عَنْهُمْ");
                replaceText("ވދ-", "ވިދާޅުވިއެވެ:");
                replaceText("ދނ-", "ދެންނެވިއެވެ:");
                replaceText("ރވ-", "ރިވާވެގެންވެއެވެ:");
                replaceText("ރކ-", "ރިވާ ކުރެއްވީ");
                replaceText("ރކއ-", "ރިވާ ކުރެއްވިއެވެ: ");
                replaceText("ނރ-", "ނެރުއްވީ");
                replaceText("މހ-", "މި ޙަދީޘް");
                replaceText("ވރ-", "ވިދާޅުވިކަމަށް ރިވާވެގެންވެއެވެ:");
                replaceText("ގރ-", "ގެ އަރިހުން ރިވާވެގެންވެއެވެ:");
                replaceText("އއރ-", "އަދި އެހެން ރިވާޔަތެއްގައި ވެއެވެ:");
                replaceText("ގއ-", "ގެ އަރިހުން");
                replaceText("އމކ-", "އަހަރުމެންނަށް ކިޔައިދެއްވިއެވެ.");
                replaceText("އހކ-", "އަހަރެންނަށް ކިޔައިދެއްވިއެވެ.");
                replaceText("އޚ-", "އަހަރެންނަށް ޚަބަރުދެއްވިއެވެ.");
                replaceText("އމޚ-", "އަހަރުމެންނަށް ކިޔައިދެއްވިއެވެ.");
                replaceText("ރސ-", "ރަސޫލު ﷲ");
                replaceText("ނބ-", "ނަބިއްޔާ");
                replaceText("ހދ-", "ޙަދީޘް");
                replaceText("ރހކ-", "ރަސޫލު ﷲ ﷺ ޙަދީޘް ކުރެއްވިއެވެ: ”");
                replaceText("ނހކ-", "ނަބިއްޔާ ﷺ ޙަދީޘް ކުރެއްވިއެވެ: ”");
                replaceText(
                  "ހކއ-",
                  "ޙަދީޘް ކުރައްވަނިކޮށް ތިމަން އަޑުއެހީމެވެ: ”"
                );
                replaceText("ހކ-", "ޙަދީޘް ކުރެއްވިއެވެ: ”");
                replaceText("ހމ-", "ހަމަކަށަވަރުން");
                replaceText("އހ-", "އެހެނީ ހަމަކަށަވަރުން");
                replaceText("ކލ-", "ކަލޭގެފާނު");
                replaceText("އކ-", "އެކަލޭގެފާނު");
                replaceText(
                  "ރއޑ-",
                  "ރަސޫލު ﷲ ﷺ ޙަދީޘް ކުރައްވަނިކޮށް ތިމަން އަޑުއެހީމެވެ: ”"
                );
                replaceText(
                  "ނއޑ-",
                  "ނަބިއްޔާ ﷺ ޙަދީޘް ކުރައްވަނިކޮށް ތިމަން އަޑުއެހީމެވެ: ”"
                );
                replaceText("...-", "…");
                //replaceText("mmm", "mmm");
              }
              //

              //
              //
              //

              // https://stackoverflow.com/questions/39925761/replace-word-user-wrote-in-text-box-with-javascript/39925901#39925901

              function replaceArabicFili() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/[ًٌٍَُِّْ]/g, "")
                  .replace(/[\u0610-\u061e]/g, "") // ؐ  ARABIC SIGN SALLALLAHOU ALAYHE WASSALLAM - ؞ ARABIC TRIPLE DOT PUNCTUATION MARK
                  .replace(/\u0640/g, "") // ـ ARABIC TATWEEL {kashida}
                  //.replace(/[\u064b-\u066d]/g, "") //  ً ARABIC FATHATAN - ٭ ARABIC FIVE POINTED STAR
                  // commented out above because u0660-u0669 are arabic numbers, and they get erased
                  .replace(/[\u064b-\u065F]/g, "") //  ً ARABIC FATHATAN - ٟ 	ARABIC WAVY HAMZA BELOW
                  .replace(/[\u06d4-\u06dc]/g, "") // ۔ ARABIC FULL STOP - ۜ  ARABIC SMALL HIGH SEEN
                  .replace(/[\u06df-\u06ed]/g, "") //  ۟ ARABIC SMALL HIGH ROUNDED ZERO - ۭ  ARABIC SMALL LOW MEEM
                  .replace(/\u0670/g, "") //  ٰ ARABIC LETTER SUPERSCRIPT ALEF
                  .replace(/\u0674/g, "") // ٴ  ARABIC LETTER HIGH HAMZA
                  .replace(/ٱ|ٲ|ٳ/g, "ا");
              }
              //

              function replaceThaanaFili() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/[\u07A6-\u07B0]/g, "");
              }
              //

              function changeToTitleCase() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/\w\S*/g, function (txt) {
                    return (
                      txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()
                    );
                  });
              }
              //

              // better switch like click function
              // https://stackoverflow.com/questions/30266496/event-on-second-and-third-click

              var changeToOtherCases_timesClicked = 0;
              function changeToOtherCases() {
                changeToOtherCases_timesClicked++;
                if (changeToOtherCases_timesClicked == 1) {
                  //run first function

                  // https://stackoverflow.com/questions/19089442/convert-string-to-sentence-case-in-javascript

                  /*var text = document.getElementById("textMainArea").value;
      var rg = /(^\w{1}|\.\s*\w{1})/gi;
      var newText = text.replace(rg, function (toReplace) {
        return toReplace.toUpperCase();
      });
      document.getElementById("textMainArea").value = newText;*/

                  // https://stackoverflow.com/questions/19089442/convert-string-to-sentence-case-in-javascript/56793122#56793122

                  var str = document.getElementById("textMainArea").value;
                  function toTitleCase(str) {
                    return str
                      .toLowerCase()
                      .replace(/\.\s*([a-z])|^[a-z]/gm, (s) => s.toUpperCase());
                  }

                  // Add your own names here to override to lower case
                  function toLowerCaseNames(str) {
                    return str.replace(
                      /\b(lower case example 1|lower case example 2)\b/gim,
                      (s) => s.toLowerCase()
                    );
                  }

                  // Add your own names here to override to UPPER CASE
                  function toUpperCaseNames(str) {
                    return str.replace(/\b(hello|string)\b/gim, (s) =>
                      s.toUpperCase()
                    );
                  }

                  document.getElementById("textMainArea").value =
                    toLowerCaseNames(toUpperCaseNames(toTitleCase(str)));

                  document.getElementById("caseChangeOther").innerHTML =
                    "lower case";
                } else if (changeToOtherCases_timesClicked == 2) {
                  //run third function

                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.toLowerCase();

                  document.getElementById("caseChangeOther").innerHTML =
                    "UPPER CASE";
                } else if (changeToOtherCases_timesClicked == 3) {
                  //run third function
                  var text = document.getElementById("textMainArea").value;
                  var newText = text.toUpperCase();
                  document.getElementById("textMainArea").value = newText;

                  document.getElementById("caseChangeOther").innerHTML =
                    "Sent. Case";

                  // reset click
                  changeToOtherCases_timesClicked = 0;
                }
              }
              //

              function changeNumsAr() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/0/g, "٠")
                  .replace(/1/g, "١")
                  .replace(/2/g, "٢")
                  .replace(/3/g, "٣")
                  .replace(/4/g, "٤")
                  .replace(/5/g, "٥")
                  .replace(/6/g, "٦")
                  .replace(/7/g, "٧")
                  .replace(/8/g, "٨")
                  .replace(/9/g, "٩");
              }
              //

              function changeNumsNormal() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/٠/g, "0")
                  .replace(/١/g, "1")
                  .replace(/٢/g, "2")
                  .replace(/٣/g, "3")
                  .replace(/٤/g, "4")
                  .replace(/٥/g, "5")
                  .replace(/٦/g, "6")
                  .replace(/٧/g, "7")
                  .replace(/٨/g, "8")
                  .replace(/٩/g, "9");
              }
              //

              /* OLD CODE
        var changeNumsAr_timesClicked = 0;
        function changeNumsAr() {
          changeNumsAr_timesClicked++;
          if (changeNumsAr_timesClicked % 2 == 0) {
            //run second function
            // to DIGIT ONE
            document.getElementById("textMainArea").value = document
              .getElementById("textMainArea")
              .value.replace(/٠/g, "0")
              .replace(/١/g, "1")
              .replace(/٢/g, "2")
              .replace(/٣/g, "3")
              .replace(/٤/g, "4")
              .replace(/٥/g, "5")
              .replace(/٦/g, "6")
              .replace(/٧/g, "7")
              .replace(/٨/g, "8")
              .replace(/٩/g, "9");
          } else {
            //run first function
            // to ARABIC-INDIC DIGIT ZERO
            document.getElementById("textMainArea").value = document
              .getElementById("textMainArea")
              .value.replace(/0/g, "٠")
              .replace(/1/g, "١")
              .replace(/2/g, "٢")
              .replace(/3/g, "٣")
              .replace(/4/g, "٤")
              .replace(/5/g, "٥")
              .replace(/6/g, "٦")
              .replace(/7/g, "٧")
              .replace(/8/g, "٨")
              .replace(/9/g, "٩");
          }
        }
        //
        */

              //https://stackoverflow.com/questions/44572859/a-function-that-runs-on-the-second-click
              var changeNumsOther_timesClicked = 0;
              function changeNumsOther() {
                changeNumsOther_timesClicked++;
                if (changeNumsOther_timesClicked == 1) {
                  //run first function
                  // to MATHEMATICAL SANS-SERIF DIGIT ZERO
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/0/g, "𝟢")
                    .replace(/1/g, "𝟣")
                    .replace(/2/g, "𝟤")
                    .replace(/3/g, "𝟥")
                    .replace(/4/g, "𝟦")
                    .replace(/5/g, "𝟧")
                    .replace(/6/g, "𝟨")
                    .replace(/7/g, "𝟩")
                    .replace(/8/g, "𝟪")
                    .replace(/9/g, "𝟫");
                } else if (changeNumsOther_timesClicked == 2) {
                  // to fullwidth digit zero
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/𝟢/g, "０")
                    .replace(/𝟣/g, "１")
                    .replace(/𝟤/g, "２")
                    .replace(/𝟥/g, "３")
                    .replace(/𝟦/g, "４")
                    .replace(/𝟧/g, "５")
                    .replace(/𝟨/g, "６")
                    .replace(/𝟩/g, "７")
                    .replace(/𝟪/g, "８")
                    .replace(/𝟫/g, "９");
                } else if (changeNumsOther_timesClicked == 3) {
                  // to MATHEMATICAL SANS-SERIF BOLD DIGIT ZERO
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/０/g, "𝟬")
                    .replace(/１/g, "𝟭")
                    .replace(/２/g, "𝟮")
                    .replace(/３/g, "𝟯")
                    .replace(/４/g, "𝟰")
                    .replace(/５/g, "𝟱")
                    .replace(/６/g, "𝟲")
                    .replace(/７/g, "𝟳")
                    .replace(/８/g, "𝟴")
                    .replace(/９/g, "𝟵");
                } else if (changeNumsOther_timesClicked == 4) {
                  // to Circled Digit Zero
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/𝟬/g, "⓪")
                    .replace(/𝟭/g, "①")
                    .replace(/𝟮/g, "②")
                    .replace(/𝟯/g, "③")
                    .replace(/𝟰/g, "④")
                    .replace(/𝟱/g, "⑤")
                    .replace(/𝟲/g, "⑥")
                    .replace(/𝟳/g, "⑦")
                    .replace(/𝟴/g, "⑧")
                    .replace(/𝟵/g, "⑨");
                } else if (changeNumsOther_timesClicked == 5) {
                  // to Negative Circled Digit Zero
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/⓪/g, "⓿")
                    .replace(/①/g, "❶")
                    .replace(/②/g, "❷")
                    .replace(/③/g, "❸")
                    .replace(/④/g, "❹")
                    .replace(/⑤/g, "❺")
                    .replace(/⑥/g, "❻")
                    .replace(/⑦/g, "❼")
                    .replace(/⑧/g, "❽")
                    .replace(/⑨/g, "❾");
                } else if (changeNumsOther_timesClicked == 6) {
                  // to Digit Zero
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/⓿/g, "0")
                    .replace(/❶/g, "1")
                    .replace(/❷/g, "2")
                    .replace(/❸/g, "3")
                    .replace(/❹/g, "4")
                    .replace(/❺/g, "5")
                    .replace(/❻/g, "6")
                    .replace(/❼/g, "7")
                    .replace(/❽/g, "8")
                    .replace(/❾/g, "9");

                  // reset click
                  changeNumsOther_timesClicked = 0;
                }
              }
              //

              var shortenSalla_timesClicked = 0;
              function shortenSalla() {
                shortenSalla_timesClicked++;
                if (shortenSalla_timesClicked % 2 == 0) {
                  //run second function

                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/ﷺ/g, "صَلَّى اللَّهُ عَلَيهِ وَسَلَّم");
                } else {
                  //run first function

                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/صلى الله عليه وسلم/g, "ﷺ")
                    .replace(/صَلَّى اللَّهُ عَلَيهِ وَسَلَّم/g, "ﷺ")
                    .replace(/صَلَّى اللَّهُ عَلَيْهِ وَسَلَّمْ/g, "ﷺ")
                    .replace(/صَلَّى اللَّهُ عَلَيهِ وَسَلَّم/g, "ﷺ")
                    .replace(/صَلَّى اللَّهُ عَلَيْهِ وَسَلَّمْ/g, "ﷺ")
                    .replace(/صَلَّى الله عَلَيهِ وَسَلَّم/g, "ﷺ");
                }
              }
              //

              var dotsToEllipsis_timesClicked = 0;
              function dotsToEllipsis() {
                dotsToEllipsis_timesClicked++;
                if (dotsToEllipsis_timesClicked % 2 == 0) {
                  //run second function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\…/g, "...");
                } else {
                  //run first function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\.{3}/g, "…");
                }
              }
              //

              var hyphenToEnEmDash_timesClicked = 0;
              function hyphenToEnEmDash() {
                hyphenToEnEmDash_timesClicked++;
                if (hyphenToEnEmDash_timesClicked == 1) {
                  //run first function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\-/g, "–");
                } else if (hyphenToEnEmDash_timesClicked == 2) {
                  //run second function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\–/g, "—");
                } else if (hyphenToEnEmDash_timesClicked == 3) {
                  //run third function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\—/g, "-");

                  // reset click
                  hyphenToEnEmDash_timesClicked = 0;
                }
              }
              //

              // https://stackoverflow.com/questions/30992998/add-brackets-around-digits/30993206#30993206
              var numToBracket_timesClicked = 0;
              function numToBracket() {
                numToBracket_timesClicked++;
                if (numToBracket_timesClicked == 1) {
                  //run first function

                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\b(\d+)\b/g, "($1)");

                  document.getElementById("bracketedNumber").innerHTML =
                    "(1) ↔ [1]";
                } else if (numToBracket_timesClicked == 2) {
                  //run second function

                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\(\b(\d+)\b\)/g, "[$1]");

                  document.getElementById("bracketedNumber").innerHTML =
                    "(1) ↔ 1";
                } else if (numToBracket_timesClicked == 3) {
                  //run third function

                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\[\b(\d+)\b\]/g, "$1");

                  document.getElementById("bracketedNumber").innerHTML =
                    "1 ↔ [1]";

                  // reset click
                  numToBracket_timesClicked = 0;
                }
              }
              //

              var numToSuperScript_timesClicked = 0;
              function numToSuperScript() {
                numToSuperScript_timesClicked++;
                if (numToSuperScript_timesClicked % 2 == 0) {
                  //run second function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/⁽/g, "\(")
                    .replace(/⁾/g, "\)")
                    .replace(/⁰/g, "0")
                    .replace(/¹/g, "1")
                    .replace(/²/g, "2")
                    .replace(/³/g, "3")
                    .replace(/⁴/g, "4")
                    .replace(/⁵/g, "5")
                    .replace(/⁶/g, "6")
                    .replace(/⁷/g, "7")
                    .replace(/⁸/g, "8")
                    .replace(/⁹/g, "9");
                } else {
                  //run first function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\(/g, "⁽")
                    .replace(/\)/g, "⁾")
                    .replace(/\[/g, "⁽")
                    .replace(/\]/g, "⁾")
                    .replace(/0/g, "⁰")
                    .replace(/1/g, "¹")
                    .replace(/2/g, "²")
                    .replace(/3/g, "³")
                    .replace(/4/g, "⁴")
                    .replace(/5/g, "⁵")
                    .replace(/6/g, "⁶")
                    .replace(/7/g, "⁷")
                    .replace(/8/g, "⁸")
                    .replace(/9/g, "⁹");
                }
              }
              //

              // https://stackoverflow.com/questions/13807207/regex-find-a-number-between-parentheses/13807294#13807294
              function replaceFootNos() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/^.*?\([^\d]*(\d+)[^\d]*\).*$/g, "")
                  .replace(/^.*?\[[^\d]*(\d+)[^\d]*\].*$/g, "")
                  .replace(/⁽(.*)⁾/g, "");
              }
              //

              function remThiki() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/ޘ/g, "ސ")
                  .replace(/ޙ/g, "ހ")
                  .replace(/ޛ/g, "ޒ")
                  .replace(/ޜ/g, "ޒ")
                  .replace(/ޞ/g, "ސ")
                  .replace(/ޠ/g, "ތ")
                  .replace(/ޡ/g, "ޒ")
                  .replace(/ޢ/g, "އ")
                  .replace(/ޤ/g, "ގ")
                  .replace(/ޥ/g, "ވ");
              }
              //

              function oneLine() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  //.value.replace(/\n/g, "");
                  // leaves a space at end of line break instead of just joining them
                  .value.trim()
                  .replace(/\s+/g, " ");
                // https://stackoverflow.com/questions/19020079/removing-leading-trailing-and-multiple-spaces-within-a-string/38382243#38382243
              }
              //

              var replaceSpacesLines_timesClicked = 0;

              function replaceSpacesLines() {
                replaceSpacesLines_timesClicked++;
                var text2rmvSpace =
                  document.getElementById("textMainArea").value;

                if (replaceSpacesLines_timesClicked % 2 == 0) {
                  // Run the second function
                  text2rmvSpace = text2rmvSpace.replace(/[\r\n]+|[\n]+/g, "\n");
                  text2rmvSpace = text2rmvSpace.trim();
                  document.getElementById("textMainArea").value = text2rmvSpace;
                  document.getElementById("extraSpaces").innerHTML =
                    "Rmv Xtra Space";
                } else {
                  // Run the first function
                  // https://stackoverflow.com/questions/22962220/remove-multiple-line-breaks-n-in-javascript/22962255#22962255

                  var text2rmvSpace =
                    document.getElementById("textMainArea").value;

                  text2rmvSpace = text2rmvSpace
                    .replace(/^[ \s]+|[ \s]+$/g, "")

                    .replace(/(\r\n|\r|\n){3,}/g, "$1\n")
                    .replace(/\u0009 /g, " ")
                    .replace(/  /g, " ")
                    .replace(/ \:/g, ":")
                    .replace(/ \?/g, "?")
                    .replace(/ ؟/g, "؟")
                    .replace(/ \,/g, ",")
                    .replace(/ ،/g, "،")
                    .replace(/ \;/g, ";")
                    .replace(/ ؛/g, "؛")
                    .replace(/ ﴾/g, "﴾")
                    .replace(/﴿ /g, "﴿")
                    .replace(/ \*/g, "*")
                    .replace(/ \۝/g, "۝")
                    .replace(/ \)\)/g, "))")
                    .replace(/ \)/g, ")")
                    .replace(/\( /g, "(")
                    .replace(/ \]\]/g, "]]")
                    .replace(/ \]/g, "]")
                    .replace(/\[ /g, "[")
                    .replace(/ \}\}/g, "}}")
                    .replace(/ \}/g, "}")
                    .replace(/\{ /g, "{")
                    .replace(/\« /g, "«")
                    .replace(/ \»/g, "»")
                    .replace(/ \!/g, "!")
                    .replace(/ \./g, ".")
                    /*.replace(/\" /g, '"') //starting quotation mark
              .replace(/(\s|^)\"([^\"]+) \"/g, '$1"$2"') //ending quotation mark*/
                    // commented above out as it was interfearing with rtl " like with: الجديد "المختصر في تفسير القرآن الكريم" بدل "المختصر في التفسير"؛ بناءً على مقترحات
                    .replace(/\- \./g, "-.");

                  // trim leading and trailing spaces multiline
                  // https://stackoverflow.com/questions/37754444/javascript-remove-leading-and-trailing-spaces-from-multiline-string-and-replace/37754972#37754972
                  text2rmvSpace = text2rmvSpace
                    .split(/\r?\n/)
                    .map((row) => row.trim())
                    .join("\n");

                  document.getElementById("textMainArea").value = text2rmvSpace;

                  document.getElementById("extraSpaces").innerHTML =
                    "Rmv More Space";
                }
              }
              //

              function replacePunct() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/\!/g, ".")
                  .replace(/\@/g, "")
                  .replace(/\#/g, "")
                  .replace(/\$/g, "")
                  .replace(/\%/g, "")
                  .replace(/\^/g, "")
                  .replace(/\&/g, " and ")
                  .replace(/\*/g, "")
                  .replace(/\(/g, "")
                  .replace(/\)/g, "")
                  .replace(/\-/g, "")
                  .replace(/\_/g, "")
                  .replace(/\=/g, "")
                  .replace(/\+/g, "")
                  .replace(/\[/g, "")
                  .replace(/\]/g, "")
                  .replace(/\{/g, "")
                  .replace(/\}/g, "")
                  .replace(/\|/g, "")
                  .replace(/\;/g, "")
                  .replace(/\:/g, "")
                  .replace(/\'/g, "")
                  .replace(/\"/g, "")
                  .replace(/\</g, "")
                  .replace(/\>/g, "")
                  //.replace(/\?/g, "")
                  .replace(/\,/g, "")
                  .replace(/\،/g, "")
                  //.replace(/\؟/g, "")
                  .replace(/\؛/g, "")
                  .replace(/\‘/g, "")
                  .replace(/\’/g, "")
                  .replace(/\”/g, "")
                  .replace(/\“/g, "")
                  .replace(/\.\./g, ".")
                  .replace(/\.\./g, ".");
              }
              //

              var replaceCommaScolonQ_timesClicked = 0;
              function replaceCommaScolonQ() {
                replaceCommaScolonQ_timesClicked++;
                if (replaceCommaScolonQ_timesClicked % 2 == 0) {
                  //run second function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/،/g, "\,")
                    .replace(/؛/g, "\;")
                    .replace(/؟/g, "\?");
                } else {
                  //run first function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\,/g, "،")
                    .replace(/\;/g, "؛")
                    .replace(/\?/g, "؟");
                }
              }
              //

              var replaceQbracket_timesClicked = 0;
              function replaceQbracket() {
                replaceQbracket_timesClicked++;
                if (replaceQbracket_timesClicked % 2 == 0) {
                  //run second function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\﴾/g, "{")
                    .replace(/\﴿/g, "}")
                    .replace(/\۝/g, "*");
                } else {
                  //run first function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\{/g, "﴾")
                    .replace(/\}/g, "﴿")
                    .replace(/\*/g, "۝");
                }
              }
              //

              function removeWaqfStuff() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(
                    /ۖ|ۗ|ۘ|ۙ|ۚ|ۛ|ۜ||\۝||\۞|۟|۠|ۡ|ۢ|ۣ|ۤ|ۥ|ۦ|ۧ|ۨ|\۩|۪|۫|۬|ۭ/g,
                    ""
                  )
                  .replace(/\﴾/g, "")
                  .replace(/\﴿/g, "")
                  .replace(/  /g, " ");
              }
              //

              function shaddaB4Haraka() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/ُّ/g, "ُّ")
                  .replace(/َّ/g, "َّ")
                  .replace(/ِّ/g, "ِّ")

                  .replace(/ٌّ/g, "ٌّ")
                  .replace(/ًّ/g, "ًّ")
                  .replace(/ٍّ/g, "ٍّ");
              }
              //

              function replaceColon() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/:/g, ".");
              }
              //

              function replaceKashida() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/ـ/g, "");
              }
              //

              var replaceQuotes_timesClicked = 0;
              function replaceQuotes() {
                replaceQuotes_timesClicked++;
                if (replaceQuotes_timesClicked % 2 == 0) {
                  //run second function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\u201D|\u201C/g, '"')
                    .replace(/\u2019|\u2018/g, "'");
                } else {
                  //run first function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\'\'/g, "’‘")
                    .replace(/\"\"/g, "”“")
                    .replace(/(|^)\"([^\"]+)\"/g, "$1\u201D$2\u201C") //without spaces
                    .replace(/(\s|^)\"([^\"]+)\"/g, "$1\u201D$2\u201C")
                    .replace(/(|^)\'([^\']+)\'/g, "$1\u2019$2\u2018") //without spaces
                    .replace(/(\s|^)\'([^\']+)\'/g, "$1\u2019$2\u2018");
                }
              }
              //

              var replaceQtoDoubleAngBrackets_timesClicked = 0;
              function replaceQtoDoubleAngBrackets() {
                replaceQtoDoubleAngBrackets_timesClicked++;
                if (replaceQtoDoubleAngBrackets_timesClicked % 2 == 0) {
                  //run second function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\«|\»/g, '"');
                } else {
                  //run first function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\"\"/g, "\»\«")
                    .replace(/\)\)/g, "\»")
                    .replace(/\(\(/g, "\«")
                    .replace(/(|^)\"([^\"]+)\"/g, "$1\«$2\»") //without spaces
                    .replace(/(\s|^)\"([^\"]+)\"/g, "$1\«$2\»");
                }
              }
              //

              function replaceDoubleBrackets() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/\(\(/g, "(")
                  .replace(/\)\)/g, ")")
                  .replace(/\[\[/g, "[")
                  .replace(/\]\]/g, "]")
                  .replace(/\{\{/g, "{")
                  .replace(/\}\}/g, "}");
              }
              //

              function replaceHalfBrackets() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/\)/g, "⌜")
                  .replace(/\(/g, "⌝")
                  .replace(/\]/g, "⌜")
                  .replace(/\[/g, "⌝");
              }
              //
            </script>

            <script>
              function copyToClipB() {
                // https://www.techiedelight.com/copy-text-to-clipboard-javascript/

                var copyTextarea = document.createElement("textarea");
                copyTextarea.style.position = "fixed";
                copyTextarea.style.opacity = "0";
                copyTextarea.textContent =
                  document.getElementById("textMainArea").value;

                document.body.appendChild(copyTextarea);
                copyTextarea.select();
                document.execCommand("copy");
                document.body.removeChild(copyTextarea);
                return false;

                /* doesnt copy very long text */
                /*
                                                                                                                  // Get the text field
                                                                                                                  var copyText = document.getElementById("textMainArea");

                                                                                                                  // Select the text field
                                                                                                                  //copyText.select();
                                                                                                                  //copyText.setSelectionRange(0, 99999);
                                                                                                                  // For mobile devices

                                                                                                                  // Copy the text inside the text field
                                                                                                                  //navigator.clipboard.writeText(copyText.value);

                                                                                                                  copyText.select();
                                                                                                                  copyText.setSelectionRange(0, 99999);
                                                                                                                  // For mobile devices

                                                                                                                  document.execCommand("copy");

                                                                                                                  // Alert the copied text
                                                                                                                  // alert("ކޮޕީވީ: " + copyText.value);
                                                                                                                  //return false;
                                                                                                                  */
              }
              //

              function copyDate() {
                var today = new Date();
                var date =
                  today.getFullYear() +
                  "-" +
                  (today.getMonth() + 1) +
                  "-" +
                  today.getDate();
                var time =
                  today.getHours() +
                  ":" +
                  today.getMinutes() +
                  ":" +
                  today.getSeconds();
                var dateTime = date + " " + time;

                //navigator.clipboard.writeText(dateTime);
                //return false;

                // https://stackoverflow.com/questions/31593297/using-execcommand-javascript-to-copy-hidden-text-to-clipboard/42416105#42416105

                var tempInput = document.createElement("textarea"); // previously input, but that doesnt respect newlines oa
                tempInput.style =
                  "position: absolute; left: -1000px; top: -1000px";
                tempInput.value = dateTime; //value
                document.body.appendChild(tempInput);
                tempInput.select();
                document.execCommand("copy");
                document.body.removeChild(tempInput);
              }
              //

              function clearTextArea() {
                document.getElementById("textMainArea").value = "";
              }
              //

              // https://lingojam.com/TexttoOneLine
              // https://stackoverflow.com/questions/1981349/regex-to-replace-multiple-spaces-with-a-single-space/1981366#1981366
              function wrapToOneLine() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/[\r\n]+|[\n]+/g, "")
                  .replace(/\s\s+/g, " ");
              }
              //

              var reverseText_timesClicked = 0;
              function reverseText() {
                reverseText_timesClicked++;
                if (reverseText_timesClicked % 2 == 0) {
                  //run second function
                  // https://quickref.me/reverse-the-order-of-lines-of-a-text
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.split(/\r?\n/)
                    .reverse()
                    .join("\n");

                  document.getElementById("reversedTxt").innerHTML =
                    "⏪ ReverseTxt";
                } else {
                  //run first function
                  // https://www.geeksforgeeks.org/reverse-a-string-in-javascript/
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.split("")
                    .reverse()
                    .join("");

                  document.getElementById("reversedTxt").innerHTML =
                    "↕️ ReverseTxt";
                }
              }
              //

              function sortWordFreq() {
                // Split text into an array of words
                const words = document
                  .getElementById("textMainArea")
                  .value.split(/\s+/g)
                  .map((word) =>
                    word
                      .replace(/(^\p{Punctuation}+)|(\p{Punctuation}+$)/gu, "")
                      .toLowerCase()
                  )
                  .filter((word) => word !== "");

                // Reduce the array to a map while counting the occurrences of each word
                const frequenciesByWord = words.reduce(
                  (map, word) => map.set(word, (map.get(word) || 0) + 1),
                  new Map()
                );

                // Turn the map entries into an array, sorted by the word frequencies in descending order
                const sortedArray = [...frequenciesByWord.entries()].sort(
                  (a, b) => b[1] - a[1]
                );

                // Format and return the result to the "Output" editor
                document.getElementById("textMainArea").value = sortedArray
                  .map((entry) => `${entry[1]} ${entry[0]}`)
                  .join("\n");
              }

              function sortLineFreq() {
                // Split text into an array of lines
                const lines = document
                  .getElementById("textMainArea")
                  .value.split(/\n/g)
                  .map((line) => line.trim())
                  .filter((line) => line !== "");

                // Reduce the array to a map while counting the occurrences of each line
                const frequenciesByLine = lines.reduce(
                  (map, line) => map.set(line, (map.get(line) || 0) + 1),
                  new Map()
                );

                // Turn the map entries into an array, sorted by the line frequencies in descending order
                const sortedArray = [...frequenciesByLine.entries()].sort(
                  (a, b) => b[1] - a[1]
                );

                // Format and return the result to the "Output" editor
                document.getElementById("textMainArea").value = sortedArray
                  .map((entry) => `${entry[1]} ${entry[0]}`)
                  .join("\n");
              }

              var orderLines_timesClicked = 0;
              function orderLines() {
                orderLines_timesClicked++;
                if (orderLines_timesClicked % 2 == 0) {
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.split("\n")
                    .reverse()
                    .join("\n");
                  document.getElementById("lineSort").innerHTML =
                    "↕️ Order Asc";
                } else {
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.split("\n")
                    .sort()
                    .join("\n");
                  document.getElementById("lineSort").innerHTML =
                    "↕️ Order Desc";
                }
              }

              var leftToRight_timesClicked = 0;
              function leftToRight() {
                leftToRight_timesClicked++;
                if (leftToRight_timesClicked % 2 == 0) {
                  document.getElementById("textMainArea").style.direction =
                    "rtl";
                  document.getElementById("textMainArea").placeholder =
                    "އަބޫ ހުރައިރާގެ އަރިހުން ރިވާވެގެންވެއެވެ: ނަބިއްޔާ ﷺ ޙަދީޘް ކުރެއްވިއެވެ: ”...";
                } else {
                  document.getElementById("textMainArea").style.direction =
                    "ltr";
                  document.getElementById("textMainArea").placeholder =
                    "Abu Hurairah narrated that the Prophet ﷺ said: “...";
                }
              }
              //

              // https://txtfiddle.com/~fvlfqnc/count-word-frequencies
              function sortWordFreq() {
                // Split text into an array of words
                const words = document
                  .getElementById("textMainArea")
                  .value.split(/\s+/g)
                  .map((word) =>
                    word
                      .replace(/(^\p{Punctuation}+)|(\p{Punctuation}+$)/gu, "")
                      .toLowerCase()
                  )
                  .filter((word) => word !== "");

                // Reduce the array to a map while counting the occurrences of each word
                const frequenciesByWord = words.reduce(
                  (map, word) => map.set(word, (map.get(word) || 0) + 1),
                  new Map()
                );

                // Turn the map entries into an array, sorted by the word frequencies in descending order
                const sortedArray = [...frequenciesByWord.entries()].sort(
                  (a, b) => b[1] - a[1]
                );

                // Format and return the result to the "Output" editor
                document.getElementById("textMainArea").value = sortedArray
                  .map((entry) => `${entry[1]} ${entry[0]}`)
                  .join("\n");
              }
              //

              var orderLines_timesClicked = 0;
              // https://stackoverflow.com/questions/14867479/how-can-i-alphabetize-within-a-textarea-javascript-sort/14867487#14867487

              function orderLines() {
                orderLines_timesClicked++;
                if (orderLines_timesClicked % 2 == 0) {
                  //run second function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.split("\n")
                    .reverse()
                    .join("\n");
                  document.getElementById("lineSort").innerHTML =
                    "↕️ Order Asc";
                } else {
                  //run first function
                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.split("\n")
                    .sort()
                    .join("\n");
                  document.getElementById("lineSort").innerHTML =
                    "↕️ Order Desc";
                }
              }
              //

              var leftToRight_timesClicked = 0;
              // https://stackoverflow.com/questions/38346671/direction-rtl-to-all-page/38346971#38346971

              function leftToRight() {
                leftToRight_timesClicked++;
                if (leftToRight_timesClicked % 2 == 0) {
                  //run second function
                  document.getElementById("textMainArea").style.direction =
                    "rtl";
                  document.getElementById("textMainArea").placeholder =
                    "އަބޫ ހުރައިރާގެ އަރިހުން ރިވާވެގެންވެއެވެ: ނަބިއްޔާ ﷺ ޙަދީޘް ކުރެއްވިއެވެ: ”...";
                  //
                  // other stuff below
                  /*document.getElementById("findReplaceButton").innerHTML =
                                                                                          "ލަފްޒު ބަދަލު ކުރޭ";
                                                                                        document.getElementById("findThis").style.direction = "rtl";
                                                                                        document.getElementById("replaceWith").style.direction = "rtl";
                                                                                        document.getElementById("findThis").placeholder =
                                                                                          "1 މިލަފްޒު ހޯދާފާ";
                                                                                        document.getElementById("replaceWith").placeholder =
                                                                                          "2 މިއަށް ބަދަލުކުރޭ";*/
                } else {
                  //run first function
                  document.getElementById("textMainArea").style.direction =
                    "ltr";
                  document.getElementById("textMainArea").placeholder =
                    "Abu Hurairah narrated that the Prophet ﷺ said: “...";
                  //
                  // other stuff below
                  /*document.getElementById("findReplaceButton").innerHTML =
                                                                                          "Regex/Replace";
                                                                                        document.getElementById("findThis").style.direction = "ltr";
                                                                                        document.getElementById("replaceWith").style.direction = "ltr";
                                                                                        document.getElementById("findThis").placeholder = "1 Find This";
                                                                                        document.getElementById("replaceWith").placeholder =
                                                                                          "2 Replace This";
                                                                                          */
                }
              }
              //

              var numberedList_timesClicked = 0;
              // https://stackoverflow.com/questions/27030758/how-to-remove-line-numbers-with-a-dot-at-the-end-of-number/27030855#27030855
              // https://stackoverflow.com/questions/17395697/remove-line-numbers-at-the-start-of-each-line/17395705#17395705
              function numberedList() {
                numberedList_timesClicked++;
                if (numberedList_timesClicked % 2 == 0) {
                  //run second function
                  var text = document.getElementById("textMainArea").value;
                  // https://javascript.info/regexp-multiline-mode
                  var newText = text.replace(/^\d+\.\s/gm, "");
                  document.getElementById("textMainArea").value = newText;
                  document.getElementById("listNumbers").innerHTML =
                    "🔢 NumbrdLines";
                  return false;
                } else {
                  //run first function
                  // https://stackoverflow.com/questions/49714971/how-to-add-line-numbers-to-beginning-of-each-line-in-string-in-javascript/49714994#49714994
                  var numbered = document
                    .getElementById("textMainArea")
                    .value.split("\n")
                    .map((line, index) => `${index + 1}. ${line}`)
                    .join("\n");
                  document.getElementById("textMainArea").value = numbered;
                  document.getElementById("listNumbers").innerHTML =
                    "Rmv LineNums";
                }
              }
              //

              /*
                                                                                                                              var numbered = document
                                                                                                                      .getElementById("textMainArea")
                                                                                                                      .value.split("\n")
                                                                                                                      .map((line, index) => `${index + 1}. ${line}`)
                                                                                                                      .join("\n");
                                                                                                                    document.getElementById("textMainArea").value = numbered;
                                                                                                                    */

              //

              // https://stackoverflow.com/questions/41937076/javascript-append-text-at-beginning-and-end-of-each-string-in-a-textarea/41937427#41937427

              var htmlOList_timesClicked = 0;
              function htmlOList() {
                htmlOList_timesClicked++;
                if (htmlOList_timesClicked == 1) {
                  //run first function

                  var lines = document
                    .getElementById("textMainArea")
                    .value.split("\n");
                  for (var i = 0; i < lines.length; i++) {
                    lines[i] = "<li>" + lines[i] + "</li>";
                  }

                  document.getElementById("textMainArea").value =
                    "<ol>" + lines.join("\n") + "</ol>";

                  document.getElementById("htmlNList").innerHTML =
                    "HTML U List";
                } else if (htmlOList_timesClicked == 2) {
                  //run second function

                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\<ol\>/g, "<ul>")
                    .replace(/\<\/ol\>/g, "</ul>");

                  document.getElementById("htmlNList").innerHTML =
                    "&lt;No List&gt;";
                } else if (htmlOList_timesClicked == 3) {
                  //run third function

                  document.getElementById("textMainArea").value = document
                    .getElementById("textMainArea")
                    .value.replace(/\<ul\>|\<\/ul\>|\<\li\>|\<\/li\>/g, "");

                  document.getElementById("htmlNList").innerHTML =
                    "&lt;HTML O List&gt;";

                  // reset click
                  htmlOList_timesClicked = 0;
                }
              }
              //

              // https://txtfiddle.com/~aolam6a/shuffle-lines Rearranges the lines of a text in random order.

              function shuffleText() {
                // Split input text into an array of lines
                const lines = document
                  .getElementById("textMainArea")
                  .value.split(/\r?\n/);
                // Use Fisher–Yates shuffle to randomize the array
                // See https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle#The_modern_algorithm
                for (let i = lines.length - 1; i > 0; i--) {
                  const j = Math.floor(Math.random() * (i + 1));
                  [lines[i], lines[j]] = [lines[j], lines[i]];
                }
                // Join line array back into a string
                //return lines.join("\n");
                return (document.getElementById("textMainArea").value =
                  lines.join("\n"));
              }
              //

              // cgpt: js code to generate random password. without using a  predefined set of characters. the length should also be random
              // This code generates a random password by randomly selecting ASCII characters that are printable (i.e., characters from 33 to 126). You can adjust the range
              // passwordLength is generated randomly between 8 and 16 (you can adjust these numbers as needed).

              function generateRandomPassword() {
                var passwordLength =
                  Math.floor(Math.random() * (16 - 8 + 1)) + 8; // Random length between 8 and 16
                var password = "";
                for (var i = 0; i < passwordLength; i++) {
                  var randomCharCode = Math.floor(
                    Math.random() * (127 - 33) + 33
                  ); // ASCII characters from 33 to 126 are printable
                  password += String.fromCharCode(randomCharCode);
                }
                //return password;
                document.getElementById("textMainArea").value = password;
              }

              // Example usage: generate a random password
              //var randomPassword = generateRandomPassword();
              //console.log(randomPassword);
              //

              // https://www.w3schools.com/js/js_random.asp
              function randomNumber() {
                document.getElementById("minNrand").style.display =
                  "inline-block";
                document.getElementById("maxNrand").style.display =
                  "inline-block";

                minR = document.getElementById("minNrand").value;

                if (minR == "") {
                  document.getElementById("textMainArea").value =
                    Math.floor(Math.random() * 10) + 1;
                } else {
                  minR = document.getElementById("minNrand").value;
                  maxR = document.getElementById("maxNrand").value;
                  //return Math.floor(Math.random() * (max - min + 1)) + min;
                  // https://stackoverflow.com/questions/14496531/adding-two-numbers-concatenates-them-instead-of-calculating-the-sum/14496556#14496556
                  minMaxRange =
                    Math.floor(Math.random() * (+maxR - +minR + 1)) + +minR;
                  document.getElementById("textMainArea").value = minMaxRange;
                }
              }
              //

              function removeNoOfChars() {
                document.getElementById("remFromBegin").style.display =
                  "inline-block";
                document.getElementById("remFromEnd").style.display =
                  "inline-block";

                // https://stackoverflow.com/questions/15454869/how-to-remove-the-last-13-or-n-characters-of-every-line-using-notepad

                // https://stackoverflow.com/questions/58371608/regex-to-remove-the-first-two-characters-of-a-string

                /*
                                                                  document.getElementById("textMainArea").value = document
                                                                    .getElementById("textMainArea")
                                                                    .value.replace(/.{2}$/gm, "");

                                                                  document.getElementById("textMainArea").value = document
                                                                    .getElementById("textMainArea")
                                                                    .value.replace(/^.{2}/gm, "");
                                                                    */

                // https://stackoverflow.com/questions/4029109/javascript-regex-how-to-put-a-variable-inside-a-regular-expression

                // https://stackoverflow.com/questions/17885855/use-dynamic-variable-string-as-regex-pattern-in-javascript

                //var input = "Hello this is #abc# some #abc# stuff";
                var input = document.getElementById("textMainArea").value;

                var firstStringForRegex =
                  document.getElementById("remFromBegin").value;

                var LastStringForRegex =
                  document.getElementById("remFromEnd").value;

                // first
                var regexFirst = new RegExp(
                  "^.{" + firstStringForRegex + "}",
                  "gm"
                );
                // last
                var regexLast = new RegExp(
                  ".{" + LastStringForRegex + "}$",
                  "gm"
                );

                // at this point, the line above is the same as: var regex = /#abc#/g;

                document.getElementById("textMainArea").value = input;

                var output = input
                  .replace(regexFirst, "")
                  .replace(regexLast, "");

                document.getElementById("textMainArea").value = output;
              }
              //

              function rmvNumbers() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/\d/g, "")
                  // arabic digits
                  .replace(/٠/g, "")
                  .replace(/١/g, "")
                  .replace(/٢/g, "")
                  .replace(/٣/g, "")
                  .replace(/٤/g, "")
                  .replace(/٥/g, "")
                  .replace(/٦/g, "")
                  .replace(/٧/g, "")
                  .replace(/٨/g, "")
                  .replace(/٩/g, "")
                  // MATHEMATICAL SANS-SERIF DIGIT ZERO
                  .replace(/𝟢/g, "")
                  .replace(/𝟣/g, "")
                  .replace(/𝟤/g, "")
                  .replace(/𝟥/g, "")
                  .replace(/𝟦/g, "")
                  .replace(/𝟧/g, "")
                  .replace(/𝟨/g, "")
                  .replace(/𝟩/g, "")
                  .replace(/𝟪/g, "")
                  .replace(/𝟫/g, "")
                  // fullwidth digit zero
                  .replace(/０/g, "")
                  .replace(/１/g, "")
                  .replace(/２/g, "")
                  .replace(/３/g, "")
                  .replace(/４/g, "")
                  .replace(/５/g, "")
                  .replace(/６/g, "")
                  .replace(/７/g, "")
                  .replace(/８/g, "")
                  .replace(/９/g, "")
                  // MATHEMATICAL SANS-SERIF BOLD DIGIT ZERO
                  .replace(/𝟬/g, "")
                  .replace(/𝟭/g, "")
                  .replace(/𝟮/g, "")
                  .replace(/𝟯/g, "")
                  .replace(/𝟰/g, "")
                  .replace(/𝟱/g, "")
                  .replace(/𝟲/g, "")
                  .replace(/𝟳/g, "")
                  .replace(/𝟴/g, "")
                  .replace(/𝟵/g, "")
                  // Circled Digit Zero
                  .replace(/⓪/g, "")
                  .replace(/①/g, "")
                  .replace(/②/g, "")
                  .replace(/③/g, "")
                  .replace(/④/g, "")
                  .replace(/⑤/g, "")
                  .replace(/⑥/g, "")
                  .replace(/⑦/g, "")
                  .replace(/⑧/g, "")
                  .replace(/⑨/g, "")
                  // Negative Circled Digit Zero
                  .replace(/⓿/g, "")
                  .replace(/❶/g, "")
                  .replace(/❷/g, "")
                  .replace(/❸/g, "")
                  .replace(/❹/g, "")
                  .replace(/❺/g, "")
                  .replace(/❻/g, "")
                  .replace(/❼/g, "")
                  .replace(/❽/g, "")
                  .replace(/❾/g, "");
              }
              //

              // https://stackoverflow.com/questions/4572194/regex-to-replace-everything-except-numbers-and-a-decimal-point
              function onlyNumbers() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(
                    /[^0-9|٠-٩|𝟢𝟣𝟤𝟥𝟦𝟧𝟨𝟩𝟪𝟫|０１２３４５６７８９|𝟬𝟭𝟮𝟯𝟰𝟱𝟲𝟳𝟴𝟵|⓪①②③④⑤⑥⑦⑧⑨|⓿❶❷❸❹❺❻❼❽❾]/g,
                    ""
                  );
              }
              //

              // https://stackoverflow.com/questions/29658654/regex-to-strip-leading-zeros-treated-as-string/29658664#29658664
              // https://stackoverflow.com/questions/70074474/regex-to-remove-leading-zero-except-for-first/70080497#70080497
              function remPrecZeros() {
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/^0+\B/gm, "");
                //^0+
              }
              //

              // https://stackoverflow.com/questions/8069315/create-array-of-all-integers-between-two-numbers-inclusive-in-javascript-jquer/33457557#33457557
              function listOfNumbers() {
                // code for range input
                document.getElementById("minNline").style.display =
                  "inline-block";
                document.getElementById("maxNline").style.display =
                  "inline-block";
                minL = document.getElementById("minNline").value;

                if (minL == "") {
                  //
                  var minL = 1;
                  var maxL = 10;
                  //
                } else {
                  minL = document.getElementById("minNline").value;
                  maxL = document.getElementById("maxNline").value;
                  //
                }
                function range(start, end) {
                  return Array(end - start + 1)
                    .fill()
                    .map((_, idx) => +start + +idx);
                } // added plus signs here
                // https://stackoverflow.com/questions/14496531/adding-two-numbers-concatenates-them-instead-of-calculating-the-sum/14496556#14496556
                //
                document.getElementById("textMainArea").value = range(
                  minL,
                  maxL
                ); // [9, 10, 11, 12, 13, 14, 15, 16, 17, 18]
                //console.log(result);

                // added below to turn commas into new lines
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/\,/g, "\n");
              }
              //

              // https://stackoverflow.com/questions/1877475/repeat-a-string-in-javascript-a-number-of-times/1877479#1877479
              function repeatText() {
                console.log("asdsad");
                document.getElementById("noOfRepeat").style.display =
                  "inline-block";
                repNo = document.getElementById("noOfRepeat").value;

                if (repNo == "") {
                  //var repNo = 10;
                  //console.log("empty");
                } else {
                  repNo = document.getElementById("noOfRepeat").value;
                  //console.log("full");

                  // adds newline to every new line
                  var text2repeat =
                    document.getElementById("textMainArea").value + "\n";

                  // repeats as inputted
                  text2repeat = text2repeat.repeat(repNo);

                  // trim() removes (in regarding to newlines,) only last newline at end of line, not more than one newline, but this wont have any
                  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/trim
                  document.getElementById("textMainArea").value =
                    text2repeat.trim();
                }
                //
              }
              //

              // https://stackoverflow.com/questions/18473326/javascript-break-sentence-by-words/18473347#18473347
              // https://stackoverflow.com/questions/11018422/replacing-commas-in-resultset-with-new-line-in-jquery/11018506#11018506
              function splitWords() {
                var text2split = (document.getElementById(
                  "textMainArea"
                ).value = document
                  .getElementById("textMainArea")
                  .value.split(" ")
                  .join("\n"));
                /*document.getElementById("textMainArea").value = text2split.replace(
                                                                                        /[\r\n]+/g,
                                                                                        "\n"
                                                                                      );*/

                // below first makes multiple newlines only one newline, then removes punctuation (taken from removepunc code and edited)
                document.getElementById("textMainArea").value = text2split
                  .replace(/[\r\n]+|[\n]+/g, "\n")
                  //
                  .replace(/\./g, "")
                  //
                  .replace(/\!/g, "")
                  .replace(/\@/g, "")
                  .replace(/\#/g, "")
                  .replace(/\$/g, "")
                  .replace(/\%/g, "")
                  .replace(/\^/g, "")
                  .replace(/\&/g, "")
                  .replace(/\*/g, "")
                  .replace(/\(/g, "")
                  .replace(/\)/g, "")
                  .replace(/\-/g, "")
                  .replace(/\_/g, "")
                  .replace(/\=/g, "")
                  .replace(/\+/g, "")
                  .replace(/\[/g, "")
                  .replace(/\]/g, "")
                  .replace(/\{/g, "")
                  .replace(/\}/g, "")
                  .replace(/\|/g, "")
                  .replace(/\;/g, "")
                  .replace(/\:/g, "")
                  .replace(/\'/g, "")
                  .replace(/\"/g, "")
                  .replace(/\</g, "")
                  .replace(/\>/g, "")
                  .replace(/\?/g, "")
                  .replace(/\,/g, "")
                  .replace(/\،/g, "")
                  .replace(/\؟/g, "")
                  .replace(/\؛/g, "")
                  .replace(/\‘/g, "")
                  .replace(/\’/g, "")
                  .replace(/\”/g, "")
                  .replace(/\“/g, "")
                  .trim();
                // trim removes ending extra space or newline
              }
              //

              // https://txtfiddle.com/~ykf5b5b/remove-duplicate-lines
              function removeDuplicates() {
                // Split input text into an array of lines
                const linesWithDuplicates = document
                  .getElementById("textMainArea")
                  .value.split(/\r?\n/);

                // Convert line array into a set (thus removing any duplicate values) and back to an array
                const uniqueLines = Array.from(new Set(linesWithDuplicates));

                // Join line array into a string and return it to the output editor
                document.getElementById("textMainArea").value =
                  uniqueLines.join("\n");
              }

              //

              // made this by changing the function of listOfNumbers
              function prefixSuffixLine() {
                // code for range input
                document.getElementById("prefixVal").style.display =
                  "inline-block";
                document.getElementById("suffixVal").style.display =
                  "inline-block";

                prefixVal = document.getElementById("prefixVal").value;
                suffixVal = document.getElementById("suffixVal").value;

                var lines = document
                  .getElementById("textMainArea")
                  .value.split("\n");
                for (var i = 0; i < lines.length; i++) {
                  lines[i] = prefixVal + lines[i] + suffixVal;
                }

                document.getElementById("textMainArea").value =
                  lines.join("\n");
              }
              //

              // https://stackoverflow.com/questions/1499889/remove-html-tags-in-javascript-with-regex/1499916#1499916
              function htmlRmv() {
                // ltr switch
                document.getElementById("textMainArea").style.direction = "ltr";
                //
                document.getElementById("textMainArea").value = document
                  .getElementById("textMainArea")
                  .value.replace(/(<([^>]+)>)/gi, "");
              }
              //

              function text2HtmlBr() {
                // ltr switch
                document.getElementById("textMainArea").style.direction = "ltr";

                // Split the input text by line breaks

                let inputText = document.getElementById("textMainArea").value;
                let lines = inputText.split("\n");
                let outputText = lines
                  .filter((line) => line.trim() !== "")
                  .join("<br>\n");

                // Optionally, insert the formatted text back into an element
                document.getElementById("textMainArea").value = outputText;

                //
                scrollToTopFully();
              }
              //

              function text2HtmlP() {
                // ltr switch
                document.getElementById("textMainArea").style.direction = "ltr";

                // Split the input text by line breaks
                let inputText = document.getElementById("textMainArea").value;

                // Split the input text by one or more line breaks
                let paragraphs = inputText.split(/\n{1,}/);

                // Remove empty paragraphs and trim whitespace
                paragraphs = paragraphs.filter((p) => p.trim() !== "");

                // Wrap each paragraph with <p> tags and join them
                let outputText = paragraphs
                  .map((para) => `<p>${para.trim()}</p>`)
                  .join("\n");

                /* Wrap each line with <p> tags and join them back into a single string
  let formattedText = paragraphs.map(line => `<p>${line.trim()}</p>`).join('');*/

                // Optionally, insert the formatted text back into an element
                document.getElementById("textMainArea").value = outputText;

                //
                scrollToTopFully();
              }
              //

              //
              /*var text2HtmlP_timesClicked = 0;
          function text2HtmlP() {
            // ltr switch
            document.getElementById("textMainArea").style.direction = "ltr";
            //
            text2HtmlP_timesClicked++;
            if (text2HtmlP_timesClicked == 1) {
              //run first function
              // cgpt, write using js, code that takes lines of text, and adds a <br> tag at the end of each line, the output should also preserve the new lines. It should also remove any <p> and </p> tags the input may have as well

              inputText = document.getElementById("textMainArea").value;

              // Remove any existing <p> and </p> tags
              var cleanedText = inputText.replace(/<p>|<\/p>/g, "");

              // Split the cleaned text into an array of lines
              var lines = cleanedText.split("\n");

              // Iterate over each line and add a <br> tag at the end
              for (var i = 0; i < lines.length; i++) {
                lines[i] += "<br>";
              }

              // Join the lines back together with newline characters
              var resultText = lines.join("\n");

              //return resultText;

              document.getElementById("textMainArea").value = resultText;

              document.getElementById("txt2Html").innerHTML = "&lt;br2p&gt;";
            } else if (text2HtmlP_timesClicked == 2) {
              //run second function
              // Now with that output, i want to wrap each line in a paragraph, without the <br> there, and the output should also preserve the new lines. the input might have <br> tags. it might also not. in any case there should be none in the end result

              // Remove any existing <br> tags
              var cleanedText = inputText.replace(/<br>/g, "");

              // Split the cleaned text into an array of lines
              var lines = cleanedText.split("\n");

              // Join the lines back together with paragraph tags
              var resultText = lines.map((line) => `<p>${line}</p>`).join("\n");

              //return resultText;

              document.getElementById("textMainArea").value = resultText;

              document.getElementById("txt2Html").innerHTML = "&lt;p2br&gt;";

              // reset click
              text2HtmlP_timesClicked = 0;
            }
          }*/
              //

              // cgpt: write js code that takes text and outputs which unicode character codepoints they are, starting with code point, followed by the letter, with " : ".  ensure that the zeros are included in the code points. seperating them all. also include a link to unicode points site.
              /*
                                            example if i give this input:
                                            "he 12 عر"

                                            it should give the output like this:
                                            U+0068 : h : https://codepoints.net/U+0068
                                            U+0065 : e : https://codepoints.net/U+0065
                                            U+0020 :  : https://codepoints.net/U+0020
                                            U+0031 : 1 : https://codepoints.net/U+0031
                                            U+0032 : 2 : https://codepoints.net/U+0032
                                            U+0020 :  : https://codepoints.net/U+0020
                                            U+0639 : ع : https://codepoints.net/U+0639
                                            U+0631 : ر : https://codepoints.net/U+0631
                                            */

              function outputCodePoints() {
                // ltr switch
                document.getElementById("textMainArea").style.direction = "ltr";
                //
                const inputText = document.getElementById("textMainArea").value;
                let output = "";
                for (let i = 0; i < inputText.length; i++) {
                  const codePoint = inputText.codePointAt(i);
                  const unicodeLink = `https://codepoints.net/U+${codePoint
                    .toString(16)
                    .toUpperCase()
                    .padStart(4, "0")}`;
                  output += `U+${codePoint
                    .toString(16)
                    .toUpperCase()
                    .padStart(4, "0")} : ${inputText[i]} : ${unicodeLink}\n`;
                  if (codePoint > 0xffff) i++; // Increment i again if surrogate pair
                }
                document.getElementById("textMainArea").value = output;
              }
              //

              //
              /* using js, when a function called "kahfBas" is run, take input as "document.getElementById("textMainArea").value", and also giving out the output as "document.getElementById("textMainArea").value", replace the character on the left with the character on the right, make it ignore: ﷲ
                   ء	އ
                   آ	އާ
                   after mapping, it should replace ލލަހު  with ﷲ
                   how can i change it, so when there is a ّ  character that comes after an arabic character, the output should provide a އް character before the mapped converted character that comes before it, so the outputs for the following inputs should be:
                   خَطَّا;
                   ޚައްޠާ;
                   خَطِّي;
                   ޚައްޠީ;
                   خَطُّوبِ;
                   ޚައްޠޫ;
                   i want you to do this for this character in the code: ة if any arabic diactric apart from ْ  comes after that ة, then that ة should be replaced with a ތ, else it should be replaced by a ހ
                   */
              function kahfBas() {
                var inputText = document.getElementById("textMainArea").value;
                var outputText = "";

                var characterMap = {
                  ـ: "",
                  ء: "އ",
                  آ: "އާ",
                  أ: "އ",
                  ؤ: "އ",
                  إ: "އ",
                  ئ: "އ",
                  ب: "ބ",
                  ة: "", // Modified: Replaced with empty string, will be replaced later based on conditions
                  ت: "ތ",
                  ث: "ޘ",
                  ج: "ޖ",
                  ح: "ޙ",
                  خ: "ޚ",
                  د: "ދ",
                  ذ: "ޛ",
                  ر: "ރ",
                  ز: "ޒ",
                  س: "ސ",
                  ش: "ޝ",
                  ص: "ޞ",
                  ض: "ޟ",
                  ط: "ޠ",
                  ظ: "ޡ",
                  ع: "ޢ",
                  غ: "ޣ",
                  ف: "ފ",
                  ق: "ޤ",
                  ك: "ކ",
                  ل: "ލ",
                  م: "މ",
                  ن: "ނ",
                  ه: "ހ",
                  و: "ޥ",
                  ى: "އ",
                  ي: "ޔ",
                  "َ": "ަ",
                  "ُ": "ު",
                  "ِ": "ި",
                  "ْ": "ް",
                  "٠": "0",
                  "١": "1",
                  "٢": "2",
                  "٣": "3",
                  "٤": "4",
                  "٥": "5",
                  "٦": "6",
                  "٧": "7",
                  "٨": "8",
                  "٩": "9",
                };

                var previousChar = ""; // Keep track of the previous character

                for (var i = 0; i < inputText.length; i++) {
                  var currentChar = inputText[i];
                  var nextChar = inputText[i + 1]; // Get the next character

                  if (currentChar === "ة" && nextChar && nextChar !== "ْ") {
                    // If the current character is "ة" and the next character is not "ْ"
                    // Replace "ة" with "ތ"
                    outputText += "ތ";
                  } else if (currentChar === "ة") {
                    // If the current character is "ة" and the next character is "ْ"
                    // Replace "ة" with "ހ"
                    outputText += "ހ";
                  } else if (currentChar === "ّ") {
                    // If the current character is Shadda, add the appropriate character before the mapped converted character
                    outputText =
                      outputText.slice(0, -1) +
                      "އް" +
                      characterMap[previousChar];
                  } else {
                    // If the current character is not Shadda or "ة", proceed with normal mapping
                    if (currentChar in characterMap) {
                      outputText += characterMap[currentChar];
                    } else {
                      outputText += currentChar;
                    }
                    previousChar = currentChar;
                  }
                }

                // Replace "ލލަހު" with "ﷲ" in the output text
                outputText = outputText

                  .replace(/ަا/g, "ާ")
                  // al maurifah, also replaces qaala without aabaafili if not for above
                  .replace(/اލ/g, "ލ")

                  // أَبِي އަބިޔ
                  // this has issues, interferes with other words
                  //.replace(/ިޔ/g, "ީ")

                  // رَسُولَ ރަސުޥލަ
                  .replace(/ުޥ/g, "ޫ")

                  // وَأَبُو الحُسَيْنِ ޥައަބޫ ލޙުސަޔްނި
                  .replace(/ޫ ލ/g, "ު ލް")

                  // نَوَى ނަޥައ
                  // this has issues, interferes with other words
                  //.replace(/ައ/g, "ާ")

                  // lafzul jalaalah
                  //.replace(/ލލަހު|ލލަހަ|ލލަހި|ލލަހ/g, "ﷲ")

                  /*.replace(/ލލަހު/g, "ﷲ ު") //all fili jehi lafzul jalaalas in dhivehi need a space after then, otherwise next letter will be too close
        .replace(/ލލަހަ/g, "ﷲަ ")
        .replace(/ލލަހި/g, "ﷲި ")
        .replace(/ލލަހ/g, "ﷲ")*/
                  .replace(/ލއްލަހު/g, "ﷲ ު") // changed thaana part because thanween logic prior changes them
                  .replace(/ލއްލަހަ/g, "ﷲަ ")
                  .replace(/ލއްލަހި /g, "ﷲި ")
                  .replace(/ލއްލަހ/g, "ﷲ")

                  // إِلَى اللَّهِ އިލައ ﷲި
                  .replace(/ައ ﷲ/g, "ަ ﷲ")
                  .replace(/ައ /g, "ާ ")

                  //  إِنَّمَا الأَعْمَالُ އިއްނަމާ ލއަޢްމާލު
                  //.replace(/ާ ލ/g, "ަ ލް")
                  // .replace(/ާ ލ/g, "ަ ލް") but not if the input is any of these: ާ ލި ާ ލަ ާ ލު
                  .replace(/ާ ލ(?!ި|ަ|ު)/g, "ަ ލް")

                  // أَمِيرِ المُؤْمِنِينَ އަމިޔރި ލމުއްމިނިޔނަ
                  .replace(/ި ލ/g, "ި ލް")

                  // بِالنِّيَّاتِ ބިލއްނިއްޔާތި
                  .replace(/ިލއް/g, "ިއް")

                  // دُرُوسُ اللُّغَةِ ދުރުޥސު ލއްލުޣަތި
                  .replace(/ލއްލ/g, "ލްލ")

                  // User look at this: اމްރިއިން if any ް comes after a thaana character, with a ا coming vefore the thaana character, then remove the ا use js regex replace. any thaana character, not just މ
                  .replace(/ا(?=ް*[\u0780-\u07B1])/g, "")

                  // حَفْصٍ ޙަފްޞٍ
                  .replace(/ٍ/g, "ިން")

                  // بَرْدِزْبَهْ البُخَارِيُّ ބަރްދިޒްބަހް ލބުޚާރިއްޔު
                  .replace(/ް ލ/g, "ް އަލް")

                  // بْنُ الحَجَّاجِ ބްނު ލޙައްޖާޖި
                  .replace(/ު ލ/g, "ު ލް")

                  // مُسْلِمٍ القُشَيْرِيُّ މުސްލިމިން އަލްޤުޝަޔްރިއްޔު
                  // التنوين في ( أحد ) عند وصلها ب ( الله الصمد )
                  // «أحدن الله الصمد» بأن يكسر نون التنوين.
                  //  بضم الدال وكسر النون
                  .replace(/ިން އަލް/g, "ިނި ލް")

                  // القُشَيْرِيُّ النَّيْسَابُورِيُّ ލްޤުޝަޔްރިއްޔު ލްއްނަޔްސާބޫރިއްޔު
                  .replace(/ލްއް/g, "އް")

                  // الَّلذَيْنِ އްލަލޛަޔްނި
                  .replace(/އްލަލ/g, "އލް")

                  // الشَّيْخ ލއްޝަޔްޚ
                  .replace(/ލއް/g, "އައް")

                  // لِدُنْيَا ލްިދުންޔާ
                  .replace(/ލްި/g, "ލި");

                document.getElementById("textMainArea").value = outputText;
              }

              //

              // cgpt: in js, write code that takes input from "document.getElementById("textMainArea").value" and decodes unicode to readable characters, and outputs it back into "document.getElementById("textMainArea").value". ...still doesnt work with new lines
              // claud: write js code, to take input from and convert it to unicode escape sequences 4 point js notation. input should come from "document.getElementById("textMainArea").value" output should be to console

              var decodeUnicode_timesClicked = 0;
              function decodeUnicode() {
                // ltr switch
                document.getElementById("textMainArea").style.direction = "ltr";
                //
                decodeUnicode_timesClicked++;
                if (decodeUnicode_timesClicked % 2 == 0) {
                  //run second function

                  /*
            insert encoding code here
            */

                  const input = document.getElementById("textMainArea").value;
                  let output = "";

                  for (let i = 0; i < input.length; i++) {
                    const charCode = input.charCodeAt(i);
                    output += "\\u" + charCode.toString(16).padStart(4, "0");
                  }

                  console.log(output);

                  document.getElementById("textMainArea").value = output;

                  //

                  document.getElementById("decodeUnicode").innerHTML =
                    "Decode Unicode";
                } else {
                  //run first function

                  // Get the input value
                  let input = document.getElementById("textMainArea").value;

                  // Convert Unicode escape sequences to their corresponding characters
                  let decodedValue = input.replace(
                    /\\u[\dA-F]{4}/gi,
                    (match) => {
                      return String.fromCharCode(
                        parseInt(match.replace(/\\u/g, ""), 16)
                      );
                    }
                  );

                  document.getElementById("textMainArea").value = decodedValue;

                  /*let input =
              "\u0789\u07a6\u078c\u07a9\u078e\u07a6\u0787\u07a8 \u078d\u07a8\u0794\u07aa\u0789\u07a6\u0781\u07b0\u078a\u07a6\u0780\u07aa \u0787\u07ac\u078d\u07a8\u0794\u07aa\u0782\u07b0 \u0784\u07a6\u078b\u07a6\u078d\u07aa\u0786\u07aa\u0783\u07aa\u0789\u07a6\u0781\u07b0";*/

                  /*// Decode unicode to readable characters
            let decodedValue = decodeURIComponent(JSON.parse(`"${input}"`));

            // Output the decoded value back into the textarea
            document.getElementById("textMainArea").value = decodedValue;
            //console.log(decodedValue);*/

                  //

                  document.getElementById("decodeUnicode").innerHTML =
                    "Encode Unicode";
                }
              }
              //

              // https://en.wikipedia.org/wiki/Percent-encoding
              // https://www.geeksforgeeks.org/how-to-encode-and-decode-a-url-in-javascript/
              var decodeURL_timesClicked = 0;
              function decodeURL() {
                // ltr switch
                document.getElementById("textMainArea").style.direction = "ltr";
                //
                decodeURL_timesClicked++;
                if (decodeURL_timesClicked % 2 == 0) {
                  //run second function
                  document.getElementById("textMainArea").value = encodeURI(
                    document.getElementById("textMainArea").value
                  );
                  document.getElementById("encodeURL").innerHTML = "Decode URL";
                } else {
                  //run first function
                  document.getElementById("textMainArea").value = decodeURI(
                    document.getElementById("textMainArea").value
                  );
                  document.getElementById("encodeURL").innerHTML = "Encode URL";
                }
              }
              //

              var darkModeTog_timesClicked = 0;
              function darkModeTog() {
                //console.log("Hello world!");
                darkModeTog_timesClicked++;
                if (darkModeTog_timesClicked % 2 == 0) {
                  //run second function
                  document.getElementById("textMainArea").style.color = "";

                  document.getElementById(
                    "textMainArea"
                  ).style.backgroundColor = "";

                  document.getElementById("textMainArea").style.borderColor =
                    "";

                  document.getElementById("toggleDark").innerHTML =
                    "🌓 Dark Mode";
                } else {
                  //run first function

                  // Select all elements with the specified selectors
                  var elements = document.querySelectorAll(
                    "textarea, input, .inputFieldClass, .class2, .class3"
                  );
                  // Loop through each element and set the style properties
                  elements.forEach(function (element) {
                    element.style.color = "#f6f6f6"; // Set the text color to #f6f6f6
                  });

                  //
                  // Select all elements with the specified selectors
                  var elements = document.querySelectorAll(
                    "textarea, input, .inputFieldClass, .class2, .class3"
                  );
                  // Loop through each element and set the style properties
                  elements.forEach(function (element) {
                    element.style.backgroundColor = "#262626"; // Set the text color to #f6f6f6
                  });

                  /*document.getElementById("textMainArea").style.color = "#f6f6f6";
              document.getElementById("textMainArea").style.backgroundColor =
                "#262626";
              document.getElementById("textMainArea").style.borderColor =
                "#262626"; */

                  document.getElementById("toggleDark").innerHTML =
                    "🌓 Light Mode";

                  //
                  const buttons = document.querySelectorAll(
                    ".mid.editorButtons button"
                  );
                  // Loop through each button and set the color and background color
                  buttons.forEach((button) => {
                    button.style.backgroundColor = "#6b6b6b";
                    button.style.color = "#fff";
                  });

                  document.getElementById("findThis").style.backgroundColor =
                    "#262626";
                  document.getElementById("findThis").style.color = "#757575";
                }
              }
              //

              /*
                                                                                    function encSvg() {
                                                                                    }
                                                                                    */

              /* end of above */
            </script>

            <style>
              /*input[type="text"],*/
              /*#textMainArea {
            background-color: red;
          }*/
            </style>

            <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.5.0/papaparse.js"></script>

            <!-- -->
          </div>
          <!-- <div id="tabOne" class="tabcontent"> -->

          <style>
            /* make the button text here a bit bigger */
            #tabTwo .editorButtons button {
              font-size: 101%;
            }
          </style>

          <div id="tabTwo" class="tabcontent">
            <p class="buttonHeader">
              ތިރީގައިވާ ލަފްޒެއް ކްލިޕްބޯޑަށް ކުރުމަށް އޭގެ ބަޓަންއަށް
              ފިތާލާށެވެ.
            </p>
            <div class="mid editorButtons">
              <button onclick="copyShortSalla();">ﷺ</button>
              <button onclick="copyMidSalla();">﵆</button>
              <button onclick="copySalla();" style="font-size: 85%">
                صَلَّى اللَّهُ عَلَيهِ وَسَلَّم
              </button>
              <button onclick="copyShortAlaihiSalataatuWa();">﵊</button>

              <button onclick="copyShortRadiya1();">﵁</button>
              <button onclick="copyShortRadiyaHa();">﵂</button>
              <button onclick="copyShortRadiyaHum();">﵃</button>
              <button onclick="copyShortRadiya2();">﵄</button>
              <button onclick="copyShortRadiyaHun();">﵅</button>

              <button onclick="copyRadiya1();">رَضِيَ اللَّهُ عَنْهُ</button>
              <button onclick="copyRadiyaHa();">رَضِيَ اللَّهُ عَنْهَا</button>
              <button onclick="copyRadiya2();">رَضِيَ اللَّهُ عَنْهُمَا</button>
              <button onclick="copyRadiyaHum();">
                رَضِيَ اللَّهُ عَنْهُمْ
              </button>

              <button onclick="copyShortAlaihiSalam();">﵇</button>
              <button onclick="copyShortAlaihiHaSalam();">﵍</button>
              <button onclick="copyShortAlaihiMaSalam();">﵉</button>
              <button onclick="copyShortAlaihiMuSalam();">﵈</button>

              <button onclick="copyAlaihiSalam();">عَلَيهِ السَّلَامُ</button>
              <button onclick="copyAlaihiHaSalam();">
                عَلَيهَا السَّلَامُ
              </button>
              <button onclick="copyAlaihiMaSalam();">
                عَلَيهِمَا السَّلَامُ
              </button>
              <button onclick="copyAlaihiMuSalam();">
                عَلَيهِمُ السَّلَامُ
              </button>

              <button onclick="copyShortRahimahullah();">﵀</button>
              <button onclick="copyShortRahimaHum();">﵏</button>

              <button onclick="copyRahimaHullah();">رَحِمَهُ اللَّهُ</button>
              <button onclick="copyRahimaHallah();">رَحِمَهَا اللَّهُ</button>
              <button onclick="copyRahimaHumallah();">
                رَحِمَهُمَا اللَّهُ
              </button>
              <button onclick="copyRahimaHumullah();">
                رَحِمَهُمُ اللَّهُ
              </button>

              <button onclick="copyShortAzzaWaJalla();">﷿</button>
              <button onclick="copyShortSubhanahuWaTaala();">﷾</button>
              <button onclick="copyShortTabarakaWaTaala();">﵎</button>

              <button onclick="copyAzzaWaJalla();">عَزَّ وَجَلَّ</button>
              <button onclick="copySubhanahuWaTaala();">
                سُبحَانَهُ وَتَعَالَى
              </button>
              <button onclick="copyTabarakaWaTaala();">
                تَبَارَكَ وَتَعَالَى
              </button>
              <button onclick="copyTaala();">تَعَالَى</button>

              <button onclick="copyShortBasmalah();" style="font-size: 85%">
                ﷽
              </button>
              <button onclick="copyBasmalah();" style="font-size: 85%">
                بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ
              </button>

              <button onclick="copyRiwa();">ރިވާ ކުރެއްވި</button>
              <button onclick="copyRhadithK();">ރަސޫލާ ޙަދީޘްކުރެއްވި</button>
              <button onclick="copyNhadithK();">ނަބިއްޔާ ޙަދީޘްކުރެއްވި</button>
              <button onclick="copyhadithAdu();">ޙަދީޘް އަޑުއެހީމޭ</button>
              <button onclick="copyHaa();">هـ</button>
              <button onclick="copyDate();">މި ތާރީޚާއި ވަގުތު</button>
              <br /><br />

              <button onclick="copySalam();">السلام عليكم</button>
              <button onclick="copyWassalam();">وعليكم السلام</button>
              <button onclick="copyJazak();">جزاك الله</button>
              <button onclick="copyBarak();">بارك الله</button>
              <button onclick="copyBismi();">بسم الله</button>

              <button onclick="copyInshaAllah();">إن شاء الله</button>
              <button onclick="copyMashaAllah();">ما شاء الله</button>
              <button onclick="copyHamd();">الحمد لله</button>
              <button onclick="copyLaIlaha();">لا إله إلا الله</button>
              <button onclick="copySubhanAllah();">سبحان الله</button>
              <button onclick="copyAllahAkbar();">الله أكبر</button>
              <button onclick="copyInnaLillah();">إنا لله</button>
              <button onclick="copyKhutbatulHaja();">إن الحمد لله</button>
              <button onclick="copyKaffaratulMajlis();">سبحانك اللهم</button>
            </div>
            <!-- <div class="mid"> -->

            <p class="buttonHeader">
              ތިރީގައި ވަނީ ”KFGQPC Arabic Symbols 01“ ގެ ދިގު ސިމްބޮލްތަކެވެ.
              ފޮންޓު އެޕްލައި ކުރުމަށް ފަހު ވޯރޑުގައި ޕޭސްޓު ކުރާށެވެ.
            </p>
            <div class="mid editorButtons">
              <button onclick="copyArSymKFGQPCBismi1();">بسم الله 1</button>
              <button onclick="copyArSymKFGQPCBismi2();">بسم الله 2</button>
              <button onclick="copyArSymKFGQPCSalla();">صلى الله عليه</button>
              <button onclick="copyArSymKFGQPCRadiya1();">رضي الله عنه</button>
              <button onclick="copyArSymKFGQPCRadiyaHa();">
                رضي الله عنها
              </button>
              <button onclick="copyArSymKFGQPCRadiya2();">
                رضي الله عنهما
              </button>
              <button onclick="copyArSymKFGQPCRadiyaHum();">
                رضي الله عنهم
              </button>
              <button onclick="copyArSymKFGQPCRadiyaHun();">
                رضي الله عنهن
              </button>
              <button onclick="copyArSymKFGQPCSubhana();">سبحانه وتعالى</button>
              <button onclick="copyArSymKFGQPCTabaraka();">تبارك وتعالى</button>
              <button onclick="copyArSymKFGQPCAzzaWajal();">عز وجل</button>
              <button onclick="copyArSymKFGQPCJallaWaAla();">جل وعلا</button>
              <button onclick="copyArSymKFGQPCJallaJalaluh();">جل جلاله</button>
              <button onclick="copyArSymKFGQPCAllah();">الله</button>
              <button onclick="copyArSymKFGQPCMuhammad();">محمد</button>
              <button onclick="copyArSymKFGQPCTakbir();">الله أكبر</button>
              <button onclick="copyArSymKFGQPCAlaiHiSalam();">
                عليه السلام
              </button>
              <button onclick="copyArSymKFGQPCAlaiHiSalam2();">
                عليه الصلاة والسلام
              </button>
              <button onclick="copyArSymKFGQPCAlaiHaSalam();">
                عليها السلام
              </button>
              <button onclick="copyArSymKFGQPCAlaiHimaSalam();">
                عليهما السلام
              </button>
              <button onclick="copyArSymKFGQPCAlaiHimuSalam();">
                عليهم السلام
              </button>
              <button onclick="copyArSymKFGQPCAlaihiWaAlaAalihi();">
                عليه وعلى عاله
              </button>
              <button onclick="copyArSymKFGQPCRahimaHu();">رحمه الله</button>
              <button onclick="copyArSymKFGQPCRahimaHa();">رحمها الله</button>
              <button onclick="copyArSymKFGQPCRahimaHuma();">
                رحمهما الله
              </button>
              <button onclick="copyArSymKFGQPCRahimaHum();">رحمهم الله</button>
              <button onclick="copyArSymKFGQPCRahimaHun();">رحمهن الله</button>
            </div>

            <p class="buttonHeader">
              ތިރީގައި ވަނީ ”KFGQPC Arabic Symbols 01“ ގެ ކުރު ސިމްބޮލްތަކެވެ.
              ފޮންޓު އެޕްލައި ކުރުމަށް ފަހު ވޯރޑުގައި ޕޭސްޓު ކުރާށެވެ.
            </p>
            <div class="mid editorButtons">
              <button onclick="copyArSymKFGQPCshortAzzaWajal();">عز وجل</button>
              <button onclick="copyArSymKFGQPCshortSubhana();">
                سبحانه وتعالى
              </button>
              <button onclick="copyArSymKFGQPCshortJallaJalaluh();">
                جل جلاله
              </button>
              <button onclick="copyArSymKFGQPCshortJallaWaAla();">
                جل وعلا
              </button>
              <button onclick="copyArSymKFGQPCshortTabaraka();">
                تبارك وتعالى
              </button>
              <button onclick="copyArSymKFGQPCshortSalla();">
                صلى الله عليه
              </button>
              <button onclick="copyArSymKFGQPCshortRadiya1();">
                رضي الله عنه
              </button>
              <button onclick="copyArSymKFGQPCshortRadiyaHa();">
                رضي الله عنها
              </button>
              <button onclick="copyArSymKFGQPCshortRadiyaHum();">
                رضي الله عنهم
              </button>
              <button onclick="copyArSymKFGQPCshortRadiya2();">
                رضي الله عنهما
              </button>
              <button onclick="copyArSymKFGQPCshortRadiyaHun();">
                رضي الله عنهن
              </button>
              <button onclick="copyArSymKFGQPCshortSalam2();">
                عليه الصلاة والسلام
              </button>
              <button onclick="copyArSymKFGQPCshortAlaiHiSalam();">
                عليه السلام
              </button>
              <button onclick="copyArSymKFGQPCshortAlaiHaSalam();">
                عليها السلام
              </button>
              <button onclick="copyArSymKFGQPCshortAlaiHimuSalam();">
                عليهم السلام
              </button>
              <button onclick="copyArSymKFGQPCshortAlaiHimaSalam();">
                عليهما السلام
              </button>
              <button onclick="copyArSymKFGQPCshortRahimaHu();">
                رحمه الله
              </button>
              <button onclick="copyArSymKFGQPCshortRahimaHum();">
                رحمهم الله
              </button>
              <button onclick="copyArSymKFGQPCshortRahimaHuma();">
                رحمهما الله
              </button>
              <button onclick="copyArSymKFGQPCshortRahimaHa();">
                رحمها الله
              </button>
              <button onclick="copyArSymKFGQPCshortRahimaHun();">
                رحمهن الله
              </button>
            </div>

            <p class="buttonHeader">
              ތިރީގައި ވަނީ ”AGA Arabesque Regular“ ގެ ސިމްބޮލްތަކެވެ. ފޮންޓު
              އެޕްލައި ކުރުމަށް ފަހު ވޯރޑުގައި ޕޭސްޓު ކުރާށެވެ.
            </p>
            <div class="mid editorButtons">
              <button onclick="copyAgaSubhanah();">سبحانه وتعالى</button>
              <button onclick="copyAgaSalla();">ﷺ</button>
              <button onclick="copyAgaRadiya1();">رضي الله عنه</button>
              <button onclick="copyAgaRadiyaHum();">رضي الله عنهم</button>
              <button onclick="copyAgaAlaiHiSalam();">عليه السلام</button>
              <button onclick="copyAgaAzzaWajal();">عز وجل</button>
            </div>
            <!-- <div class="mid"> -->

            <script>
              function copyShortSalla() {
                //navigator.clipboard.writeText("ﷺ");
                //return false;

                /* https://stackoverflow.com/questions/31593297/using-execcommand-javascript-to-copy-hidden-text-to-clipboard */

                var input = document.createElement("textarea");
                input.innerHTML = "ﷺ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;

                /* below doesnt work */

                /*var copyText = "ﷺ"; //document.getElementById("dummy");
    copyText.type = "text";
    copyText.select();
    document.execCommand("copy");
    copyText.type = "hidden";*/
              }

              function copyMidSalla() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵆";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copySalla() {
                var input = document.createElement("textarea");
                input.innerHTML = "صَلَّى اللَّهُ عَلَيهِ وَسَلَّم";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortAlaihiSalataatuWa() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵊";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortRadiya1() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵁";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortRadiyaHa() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵂";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortRadiyaHum() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵃";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortRadiya2() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵄";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortRadiyaHun() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵅";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyRadiya1() {
                var input = document.createElement("textarea");
                input.innerHTML = "رَضِيَ اللَّهُ عَنْهُ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyRadiyaHa() {
                var input = document.createElement("textarea");
                input.innerHTML = "رَضِيَ اللَّهُ عَنْهَا";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyRadiya2() {
                var input = document.createElement("textarea");
                input.innerHTML = "رَضِيَ اللَّهُ عَنْهُمَا";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyRadiyaHum() {
                var input = document.createElement("textarea");
                input.innerHTML = "رَضِيَ اللَّهُ عَنْهُمْ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortAzzaWaJalla() {
                var input = document.createElement("textarea");
                input.innerHTML = "﷿";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortAzzaWaJalla() {
                var input = document.createElement("textarea");
                input.innerHTML = "﷿";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyAzzaWaJalla() {
                var input = document.createElement("textarea");
                input.innerHTML = "عَزَّ وَجَلَّ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortSubhanahuWaTaala() {
                var input = document.createElement("textarea");
                input.innerHTML = "﷾";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copySubhanahuWaTaala() {
                var input = document.createElement("textarea");
                input.innerHTML = "سُبحَانَهُ وَتَعَالَى";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortTabarakaWaTaala() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵎";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyTabarakaWaTaala() {
                var input = document.createElement("textarea");
                input.innerHTML = "تَبَارَكَ وَتَعَالَى";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyTaala() {
                var input = document.createElement("textarea");
                input.innerHTML = "تَعَالَى";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortAlaihiSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵇";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortAlaihiHaSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵍";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortAlaihiMaSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵉";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortAlaihiMuSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵈";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortBasmalah() {
                var input = document.createElement("textarea");
                input.innerHTML = "﷽";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyBasmalah() {
                var input = document.createElement("textarea");
                input.innerHTML = "بِسْمِ اللَّهِ الرَّحْمَنِ الرَّحِيمِ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyAlaihiSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "عَلَيهِ السَّلَامُ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyAlaihiHaSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "عَلَيهَا السَّلَامُ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyAlaihiMaSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "عَلَيهِمَا السَّلَامُ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyAlaihiMuSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "عَلَيهِمُ السَّلَامُ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortRahimahullah() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵀";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyShortRahimaHum() {
                var input = document.createElement("textarea");
                input.innerHTML = "﵏";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyRahimaHullah() {
                var input = document.createElement("textarea");
                input.innerHTML = "رَحِمَهُ اللَّهُ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyRahimaHallah() {
                var input = document.createElement("textarea");
                input.innerHTML = "رَحِمَهَا اللَّهُ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyRahimaHumallah() {
                var input = document.createElement("textarea");
                input.innerHTML = "رَحِمَهُمَا اللَّهُ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyRahimaHumullah() {
                var input = document.createElement("textarea");
                input.innerHTML = "رَحِمَهُمُ اللَّهُ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyRiwa() {
                var input = document.createElement("textarea");
                input.innerHTML = "ރިވާ ކުރެއްވިއެވެ: ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyRhadithK() {
                var input = document.createElement("textarea");
                input.innerHTML = "ރަސޫލު ﷲ ﷺ ޙަދީޘް ކުރެއްވިއެވެ: ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyNhadithK() {
                var input = document.createElement("textarea");
                input.innerHTML = "ނަބިއްޔާ ﷺ ޙަދީޘް ކުރެއްވިއެވެ: ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyhadithAdu() {
                var input = document.createElement("textarea");
                input.innerHTML = "ޙަދީޘް ކުރައްވަނިކޮށް ތިމަން އަޑުއެހީމެވެ: ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyBismi() {
                var input = document.createElement("textarea");
                input.innerHTML = "بسم الله الرحمن الرحيم";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copySalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "السلام عليكم ورحمة الله وبركاته";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyWassalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "وعليكم السلام ورحمة الله وبركاته";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyJazak() {
                var input = document.createElement("textarea");
                input.innerHTML = "جزاك الله خيرا";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyBarak() {
                var input = document.createElement("textarea");
                input.innerHTML = "بارك الله فيك";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyHamd() {
                var input = document.createElement("textarea");
                input.innerHTML = "الحمد لله";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyInshaAllah() {
                var input = document.createElement("textarea");
                input.innerHTML = "إن شاء الله";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyMashaAllah() {
                var input = document.createElement("textarea");
                input.innerHTML = "ما شاء الله تبارك الله";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copySubhanAllah() {
                var input = document.createElement("textarea");
                input.innerHTML = "سبحان الله";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyAllahAkbar() {
                var input = document.createElement("textarea");
                input.innerHTML = "الله أكبر";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyInnaLillah() {
                var input = document.createElement("textarea");
                input.innerHTML = "إنا لله وإنا إليه راجعون";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyLaIlaha() {
                var input = document.createElement("textarea");
                input.innerHTML = "لا إله إلا الله";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyKhutbatulHaja() {
                var input = document.createElement("textarea");
                input.innerHTML =
                  "إنَّ الْحَمْدَ لِلهِ نَحْمَدُهُ وَنَسْتَعِينُهُ وَنَسْتَغْفِرُهُ، وَنَعُوذُ بِاللهِ مِنْ شُرُورِ أَنْفُسِنَا وَمِنْ سَيِّئَاتِ أَعْمَالِنَا، مَنْ يَهْدِهِ اللهُ فَلاَ مُضِلَّ لَهُ، وَمَنْ يُضْلِلْ فَلاَ هَادِىَ لَهُ، وَأَشْهَدُ أَنْ لاَ إِلَهَ إِلاَّ اللهُ وَحْدَهُ لاَ شَرِيكَ لَهُ، وَأَشْهَدُ أَنَّ مُحَمَّدًا عَبْدُهُ وَرَسُولُهُ\n\n{يَا أَيُّهَا الَّذِينَ آمَنُوا اتَّقُوا اللَّهَ حَقَّ تُقَاتِهِ وَلَا تَمُوتُنَّ إِلَّا وَأَنْتُمْ مُسْلِمُونَ} (آل عمران:102)\n\n{يَا أَيُّهَا النَّاسُ اتَّقُوا رَبَّكُمُ الَّذِي خَلَقَكُمْ مِنْ نَفْسٍ وَاحِدَةٍ وَخَلَقَ مِنْهَا زَوْجَهَا وَبَثَّ مِنْهُمَا رِجَالًا كَثِيرًا وَنِسَاءً وَاتَّقُوا اللَّهَ الَّذِي تَسَاءَلُونَ بِهِ وَالْأَرْحَامَ إِنَّ اللَّهَ كَانَ عَلَيْكُمْ رَقِيبًا} (النساء:1)\n\n{يَاأَيُّهَا الَّذِينَ آمَنُوا اتَّقُوا اللهَ وَقُولُوا قَوْلاً سَدِيدًا * يُصْلِحْ لَكُمْ أَعْمَالَكُمْ وَيَغْفِرْ لَكُمْ ذُنُوبَكُمْ وَمَنْ يُطِعِ اللهَ وَرَسُولَهُ فَقَدْ فَازَ فَوْزًا عَظِيمًا} (الأحزاب: 70، 71)\n\nأَمَّا بَعْدُ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyKaffaratulMajlis() {
                var input = document.createElement("textarea");
                input.innerHTML =
                  "سبحانك اللهم وبحمدك، أشهد أن لا إله إلا أنت، أستغفرك وأتوب إليك";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyHaa() {
                var input = document.createElement("textarea");
                input.innerHTML = "هـ";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyArSymKFGQPCBismi1() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCBismi2() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCSalla() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyArSymKFGQPCRadiya1() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyArSymKFGQPCRadiyaHa() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyArSymKFGQPCRadiya2() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyArSymKFGQPCRadiyaHum() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCRadiyaHun() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCSubhana() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCTabaraka() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCAzzaWajal() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCJallaWaAla() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCJallaJalaluh() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCAllah() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCMuhammad() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCTakbir() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCAlaiHiSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCAlaiHiSalam2() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCAlaiHaSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCAlaiHimaSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCAlaiHimuSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCAlaihiWaAlaAalihi() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              function copyArSymKFGQPCRahimaHu() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCRahimaHa() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCRahimaHuma() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCRahimaHum() {
                //return false;
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCRahimaHun() {
                //return false;
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              //

              function copyArSymKFGQPCshortAzzaWajal() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortSubhana() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortJallaJalaluh() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortJallaWaAla() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortTabaraka() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortSalla() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortRadiya1() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortRadiyaHa() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortRadiyaHum() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortRadiya2() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortRadiyaHun() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortSalam2() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortAlaiHiSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortAlaiHaSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortAlaiHimuSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortAlaiHimaSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortRahimaHu() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortRahimaHum() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortRahimaHuma() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortRahimaHa() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyArSymKFGQPCshortRahimaHun() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }

              //
              function copyAgaSubhanah() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyAgaSalla() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyAgaRadiya1() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyAgaRadiyaHum() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyAgaAlaiHiSalam() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
              function copyAgaAzzaWajal() {
                var input = document.createElement("textarea");
                input.innerHTML = "";
                document.body.appendChild(input);
                input.select();
                var result = document.execCommand("copy");
                document.body.removeChild(input);
                return result;
              }
            </script>

            <!-- -->
          </div>
          <!-- <div id="tabTwo" class="tabcontent"> -->

          <div id="tabThree" class="tabcontent eng">
            <!-- rows="10"
cols="60"-->

            <p
              onclick="copyAdd();"
              class="mid"
              style="font-size: 115%; margin: 0px"
              data-tooltip="Shows the sum total of the numbers above. Clicking here also copies the value"
            >
              Sum Total:
              <span id="sumTotal">0.00</span>
            </p>

            <textarea
              autocomplete="off"
              autocorrect="off"
              autocapitalize="off"
              spellcheck="false"
              id="textSumArea"
              placeholder="Any numbers written here will be added together, or if a number has a minus it will be subtracted, even within text. Use this to calculate the total cost for a list of items, or add up kilos when packing luggage. Eg: &#10;50 books &#10;-10 gifts..."
              oninput="outputSum();"
            ></textarea>

            <div
              class="mid editorButtons"
              style="font-family: sans-serif; margin-top: 7px"
            >
              <button
                onclick="copyAdd();"
                data-tooltip="Copies the calculated total into your clipboard to paste"
              >
                📋 Copy Total
              </button>

              <button
                onclick="clearAdd();"
                data-tooltip="Erases everything above"
              >
                ❌ Clear
              </button>
            </div>

            <p style="text-align: center">
              <span
                data-tooltip="Shows the calculated Zakat due on the total amount, which is 1/40th or 0.25%"
              >
                The Zakat for the total would be:
                <span id="sumZakat">0.00</span>
              </span>
            </p>

            <script>
              // https://stackoverflow.com/questions/39236731/how-to-find-sum-of-integers-in-a-string-using-javascript

              function outputSum() {
                //var str = "12sf0as9d";
                //var pattern = /\d+/g;    // \d should be fine for matching any nonnegative integer, \d is equivalent to [0-9]
                //var pattern = /\-?\d+/g; // https://stackoverflow.com/questions/6508043/regular-expression-to-find-any-number-in-a-string
                //var pattern = /[+-]?\d+(?:\.\d+)?/g;
                var pattern = /[+-]?((\d+(\.\d*)?)|(\.\d+))/g;
                // above matches numbers starting with just decimal points and no zeros, unlike the one above it
                // https://stackoverflow.com/questions/12117024/decimal-number-regular-expression-where-digit-after-decimal-is-optional/23872060#23872060
                var totalSum = document
                  .getElementById("textSumArea")
                  .value.replace(/\,/g, "")
                  .match(pattern)
                  .reduce(function (prev, num) {
                    return prev + +num;
                  }, 0);
                // added .replace(/\,/g, "") this gets rid of commas in the number values

                //console.log(str.match(pattern)); // ["12", "0", "9"]
                //console.log(total); // 21

                //document.getElementById("sumTotal").innerHTML = total;
                //https://stackoverflow.com/questions/11832914/how-to-round-to-at-most-2-decimal-places-if-necessary
                document.getElementById("sumTotal").innerHTML =
                  totalSum.toFixed(2);

                /**/

                var calcZakat = totalSum * 0.025;
                document.getElementById("sumZakat").innerHTML =
                  calcZakat.toFixed(2);

                /*document
      .querySelector("#sumZakat")
      .text(
        "The zakat for this total would be: " + calcZakat.toFixed(2)
      );*/

                /*document.getElementById("sumZakat").innerHTML =
      "<br />The zakat for this total would be: " +
      calcZakat.toFixed(2);
    */
              }

              function clearAdd() {
                document.getElementById("textSumArea").value = "";
              }

              function copyAdd() {
                var addedNumbers =
                  document.getElementById("sumTotal").innerText;

                //navigator.clipboard.writeText(addedNumbers);
                //return false;

                var tempInput = document.createElement("textarea"); // previously input, but that doesnt respect newlines oa
                tempInput.style =
                  "position: absolute; left: -1000px; top: -1000px";
                tempInput.value = addedNumbers; //value
                document.body.appendChild(tempInput);
                tempInput.select();
                document.execCommand("copy");
                document.body.removeChild(tempInput);
              }
            </script>

            <hr />

            <!-- https://www.nayuki.io/page/qr-code-generator-library -->

            <style type="text/css">
              article section#contents li ul {
                margin-top: 0em;
                margin-bottom: 0em;
                font-size: 80%;
              }

              article section#contents li li {
                margin-top: 0.2em;
                margin-bottom: 0.2em;
              }

              @media (min-width: 55em) {
                article section#contents {
                  float: right;
                  margin-left: 2em;
                }

                article section#contents h2 {
                  margin-top: 0em;
                }
              }

              article input[type="radio"] + label,
              article input[type="checkbox"] + label {
                margin-right: 0.8em;
                padding-left: 0.2em;
              }

              article canvas,
              article svg {
                padding: 1em;
                background-color: #e8e8e8;
              }

              article form table td:first-child {
                white-space: pre;
              }
            </style>

            <div class="mid qrClass">
              <h2 style="font-size: 23px">
                <a data-tooltip="Generates a QR Code as you write"
                  ><b>QR Code Generator 🏁</b></a
                >
              </h2>

              <form onsubmit="event.preventDefault();">
                <div id="loading" style="display: none"></div>
                <div id="loaded"></div>
                <table
                  class="noborder"
                  style="
                    width: 100%;
                    table-layout: fixed;
                    overflow-wrap: normal;
                  "
                >
                  <!-- added table-layout:fixed to make the table fit the screen on mobile-->
                  <tbody>
                    <tr>
                      <td class="hideOnPhoneOnly">
                        <label for="text-input">Text:</label>
                      </td>
                      <td style="width: 100%">
                        <textarea
                          placeholder="Write here to generate QR. You can then save by clicking it below, except when using the Android app."
                          id="text-input"
                          style="
                            width: 100%;
                            /*max-width: 30em;*/
                            /*height: 5em;*/
                            /*font-family: inherit;*/
                            /*added*/
                            font-family: sans-serif;
                            font-size: 20px;
                            height: 100px;

                            line-height: 1.5;
                            max-width: 650px;
                            border-radius: 4px;
                            /* box sizing lets me add padding without losing the centering */
                            padding: 10px;
                            box-sizing: border-box;
                          "
                        ></textarea>
                      </td>
                    </tr>

                    <tr id="scale-row">
                      <td class="hideOnPhoneOnly">
                        <label for="scale-input">Scale:</label>
                      </td>
                      <td style="padding-bottom: 7px">
                        <input
                          type="range"
                          min="1"
                          max="30"
                          step="1"
                          value="8"
                          id="scale-input"
                          onchange="this.nextElementSibling.value = this.value"
                          style="
                            padding: 0;
                            display: inline-block;
                            margin-bottom: 0 !important;
                          "
                        />
                        <!-- https://stackoverflow.com/questions/10004723/html5-input-type-range-show-range-value/18936328#18936328 
                    changing onchange to oninput would show changes as it is dragged, but this clashes with queryselectorall below-->
                        <output> &nbsp; 8</output>
                        <!--
                          <input
                            type="number"
                            min="1"
                            max="30"
                            step="1"
                            value="8"
                            id="scale-input"
                            style="width: 4em"
                          />-->
                        &nbsp;pixels per module
                      </td>
                    </tr>

                    <tr>
                      <td class="hideOnPhoneOnly">QR:</td>
                      <td>
                        <style>
                          /* prevents overscaling the image */
                          /* article svg, */
                          /* article canvas */
                          #qrcode-canvas {
                            max-width: 85vw;
                          }
                        </style>

                        <!-- added <a> tags, as well as custom style to it -->

                        <a style="background: none; cursor: pointer">
                          <canvas
                            id="qrcode-canvas"
                            width="232"
                            height="232"
                          ></canvas>
                        </a>
                        <!-- old pre anchor canvas
                          <a>
                            <canvas
                              width="300"
                              height="300"
                              id="canvas"
                            ></canvas>
                          </a>
                          -->

                        <script>
                          // https://stackoverflow.com/questions/26050668/how-to-download-a-image-thats-on-html5-canvas/26050821#26050821
                          /*
              var canvas = document.getElementById("canvas");
              var ctx = canvas.getContext("2d");
              ctx.fillStyle = "#ff5";
              ctx.fillRect(0, 0, canvas.width, canvas.height);
              */
                          document
                            .getElementById("qrcode-canvas")
                            .addEventListener("click", function () {
                              var parentElement = this.parentElement;
                              parentElement.setAttribute(
                                "href",
                                this.toDataURL()
                              );
                              parentElement.setAttribute(
                                "download",
                                "QrCode.png"
                              );
                            });
                        </script>
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          id="qrcode-svg"
                          style="width: 30em; height: 30em; display: none"
                          stroke="none"
                        >
                          <rect
                            width="100%"
                            height="100%"
                            fill="#FFFFFF"
                          ></rect>
                          <path d="" fill="#000000"></path>
                        </svg>
                      </td>
                    </tr>

                    <tr>
                      <td class="hideOnPhoneOnly">Colors:</td>
                      <td>
                        Light =
                        <!-- added this and replaced below -->
                        <input
                          id="light-color-input"
                          type="color"
                          value="#FFFFFF"
                          style="padding: 0"
                        />

                        <!--<input
                    type="text"
                    value="#FFFFFF"
                    id="light-color-input"
                    style="width: 6em"
                  />-->
                        , dark =
                        <!-- added this and replaced below -->
                        <input
                          id="dark-color-input"
                          type="color"
                          value="#000000"
                          style="padding: 0"
                        />
                        <!--<input
                    type="text"
                    value="#000000"
                    id="dark-color-input"
                    style="width: 6em"
                  />-->
                      </td>
                    </tr>

                    <tr>
                      <td class="hideOnPhoneOnly">Error correction:</td>
                      <td>
                        <input
                          type="radio"
                          name="errcorlvl"
                          id="errcorlvl-low"
                          checked="checked"
                        /><label for="errcorlvl-low"> Low</label>
                        <input
                          type="radio"
                          name="errcorlvl"
                          id="errcorlvl-medium"
                        /><label for="errcorlvl-medium"> Medium</label>
                        <input
                          type="radio"
                          name="errcorlvl"
                          id="errcorlvl-quartile"
                        /><label for="errcorlvl-quartile"> Quartile</label>
                        <input
                          type="radio"
                          name="errcorlvl"
                          id="errcorlvl-high"
                        /><label for="errcorlvl-high"> High</label>
                      </td>
                    </tr>
                    <tr>
                      <td class="hideOnPhoneOnly">Output format:</td>
                      <td>
                        <input
                          type="radio"
                          name="output-format"
                          id="output-format-bitmap"
                          checked="checked"
                        /><label for="output-format-bitmap"> Bitmap</label>
                        <input
                          type="radio"
                          name="output-format"
                          id="output-format-vector"
                        /><label for="output-format-vector"> Vector</label>
                      </td>
                    </tr>
                    <tr>
                      <td class="hideOnPhoneOnly">
                        <label for="border-input">Border:</label>
                      </td>
                      <td>
                        <input
                          type="number"
                          min="0"
                          max="100"
                          step="1"
                          value="4"
                          id="border-input"
                          style="width: 4em"
                        />
                        modules
                      </td>
                    </tr>

                    <tr>
                      <td class="hideOnPhoneOnly">Version range:</td>
                      <td>
                        Min =
                        <input
                          type="number"
                          min="1"
                          max="40"
                          step="1"
                          value="1"
                          id="version-min-input"
                          style="width: 4em"
                          oninput="app.handleVersionMinMax('min');"
                        />
                        , Max =
                        <input
                          type="number"
                          min="1"
                          max="40"
                          step="1"
                          value="40"
                          id="version-max-input"
                          style="width: 4em"
                          oninput="app.handleVersionMinMax('max');"
                        />
                      </td>
                    </tr>
                    <tr>
                      <td class="hideOnPhoneOnly">
                        <label for="mask-input">Mask pattern:</label>
                      </td>
                      <td>
                        <input
                          type="number"
                          min="-1"
                          max="7"
                          step="1"
                          value="-1"
                          id="mask-input"
                          style="width: 4em"
                        />
                        (−1 for automatic, 0 to 7 for manual)
                      </td>
                    </tr>
                    <tr>
                      <td class="hideOnPhoneOnly">Boost ECC:</td>
                      <td>
                        <input
                          type="checkbox"
                          checked="checked"
                          id="boost-ecc-input"
                        /><label for="boost-ecc-input">
                          Increase
                          <abbr title="error correction code">ECC</abbr> level
                          within same version</label
                        >
                      </td>
                    </tr>
                    <tr>
                      <td class="hideOnPhoneOnly">Statistics:</td>
                      <!-- <td id="statistics-output" style="white-space: pre">
                    whitespace pre CHANGED TO MAKE IT WORDWRAP*/"-->
                      <td
                        id="statistics-output"
                        style="white-space: break-spaces"
                      >
                        QR Code version = 1, mask pattern = 6, character count =
                        0, encoding mode = none, error correction = level H,
                        data bits = 0.
                      </td>
                    </tr>
                    <tr id="svg-xml-row" style="display: none">
                      <td class="hideOnPhoneOnly">SVG XML code:</td>
                      <style>
                        #svg-xml-output {
                          width: 100%;
                          height: 15em;
                          /*font-family: &quot;Courier 10 Pitch BT&quot;, monospace;*/
                          font-size: 80%;
                        }
                      </style>
                      <td>
                        <textarea
                          id="svg-xml-output"
                          readonly="readonly"
                        ></textarea>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </form>

              <!--<script src="https://www.nayuki.io/res/qr-code-generator-library/qrcodegen.js"></script>-->
              <script>
                //     https://www.nayuki.io/res/qr-code-generator-library/qrcodegen-input-demo.js">
                var app;
                (function (app) {
                  function initialize() {
                    getElem("loading").style.display = "none";
                    getElem("loaded").style.removeProperty("display");

                    /* OLD FIX

        // https://stackoverflow.com/questions/12166753/how-to-get-child-element-by-class-name/49297824#49297824
      var testContainer = document.querySelector(".qrClass");
      //var fourChildNode = testContainer.querySelector('.four');

      // previously testContainer was document. changed to get child by class, so as not to affect all general inputs and textareas. it also made oninput not work on textareas. there's another instance of this below * CHANGE THIS CODE ON EVERY UPDATE *
      // for some reason doing that hides the initial qr code shown
      */

                    var elems = document.querySelectorAll(
                      ".qrClass input[type=number], .qrClass input[type=text], .qrClass textarea, .qrClass input[type=color], .qrClass input[type=range]"
                    );

                    //added .qrClass before selected, otherwise oninputs dont work
                    // added , input[type=color], input[type=range

                    /* var elems = document.querySelectorAll(
          "input[type=number], input[type=text], textarea"
        ); */

                    for (
                      var _i = 0, elems_1 = elems;
                      _i < elems_1.length;
                      _i++
                    ) {
                      var el = elems_1[_i];
                      if (el.id.indexOf("version-") != 0)
                        el.oninput = redrawQrCode;
                    }
                    elems = document.querySelectorAll(
                      "input[type=radio], input[type=checkbox]"
                    );
                    for (
                      var _a = 0, elems_2 = elems;
                      _a < elems_2.length;
                      _a++
                    ) {
                      var el = elems_2[_a];
                      el.onchange = redrawQrCode;
                    }
                    redrawQrCode();
                  }
                  function redrawQrCode() {
                    // Show/hide rows based on bitmap/vector image output
                    var bitmapOutput = getInput("output-format-bitmap").checked;
                    var scaleRow = getElem("scale-row");
                    var svgXmlRow = getElem("svg-xml-row");
                    if (bitmapOutput) {
                      scaleRow.style.removeProperty("display");
                      svgXmlRow.style.display = "none";
                    } else {
                      scaleRow.style.display = "none";
                      svgXmlRow.style.removeProperty("display");
                    }
                    var svgXml = getElem("svg-xml-output");
                    svgXml.value = "";
                    // Reset output images in case of early termination
                    var canvas = getElem("qrcode-canvas");
                    var svg = document.getElementById("qrcode-svg");
                    canvas.style.display = "none";
                    svg.style.display = "none";
                    // Returns a QrCode.Ecc object based on the radio buttons in the HTML form.
                    function getInputErrorCorrectionLevel() {
                      if (getInput("errcorlvl-medium").checked)
                        return qrcodegen.QrCode.Ecc.MEDIUM;
                      else if (getInput("errcorlvl-quartile").checked)
                        return qrcodegen.QrCode.Ecc.QUARTILE;
                      else if (getInput("errcorlvl-high").checked)
                        return qrcodegen.QrCode.Ecc.HIGH;
                      // In case no radio button is depressed
                      else return qrcodegen.QrCode.Ecc.LOW;
                    }
                    // Get form inputs and compute QR Code
                    var ecl = getInputErrorCorrectionLevel();
                    var text = getElem("text-input").value;
                    var segs = qrcodegen.QrSegment.makeSegments(text);
                    var minVer = parseInt(
                      getInput("version-min-input").value,
                      10
                    );
                    var maxVer = parseInt(
                      getInput("version-max-input").value,
                      10
                    );
                    var mask = parseInt(getInput("mask-input").value, 10);
                    var boostEcc = getInput("boost-ecc-input").checked;
                    var qr = qrcodegen.QrCode.encodeSegments(
                      segs,
                      ecl,
                      minVer,
                      maxVer,
                      mask,
                      boostEcc
                    );
                    // Draw image output
                    var border = parseInt(getInput("border-input").value, 10);
                    var lightColor = getInput("light-color-input").value;
                    var darkColor = getInput("dark-color-input").value;
                    if (border < 0 || border > 100) return;
                    if (bitmapOutput) {
                      var scale = parseInt(getInput("scale-input").value, 10);
                      if (scale <= 0 || scale > 30) return;
                      drawCanvas(
                        qr,
                        scale,
                        border,
                        lightColor,
                        darkColor,
                        canvas
                      );
                      canvas.style.removeProperty("display");
                    } else {
                      var code = toSvgString(qr, border, lightColor, darkColor);
                      var viewBox = / viewBox="([^"]*)"/.exec(code)[1];
                      var pathD = / d="([^"]*)"/.exec(code)[1];
                      svg.setAttribute("viewBox", viewBox);
                      svg.querySelector("path").setAttribute("d", pathD);
                      svg
                        .querySelector("rect")
                        .setAttribute("fill", lightColor);
                      svg.querySelector("path").setAttribute("fill", darkColor);
                      svg.style.removeProperty("display");
                      svgXml.value = code;
                    }
                    // Returns a string to describe the given list of segments.
                    function describeSegments(segs) {
                      if (segs.length == 0) return "none";
                      else if (segs.length == 1) {
                        var mode = segs[0].mode;
                        var Mode = qrcodegen.QrSegment.Mode;
                        if (mode == Mode.NUMERIC) return "numeric";
                        if (mode == Mode.ALPHANUMERIC) return "alphanumeric";
                        if (mode == Mode.BYTE) return "byte";
                        if (mode == Mode.KANJI) return "kanji";
                        return "unknown";
                      } else return "multiple";
                    }
                    // Returns the number of Unicode code points in the given UTF-16 string.
                    function countUnicodeChars(str) {
                      var result = 0;
                      for (var i = 0; i < str.length; i++, result++) {
                        var c = str.charCodeAt(i);
                        if (c < 0xd800 || c >= 0xe000) continue;
                        else if (
                          0xd800 <= c &&
                          c < 0xdc00 &&
                          i + 1 < str.length
                        ) {
                          // High surrogate
                          i++;
                          var d = str.charCodeAt(i);
                          if (0xdc00 <= d && d < 0xe000)
                            // Low surrogate
                            continue;
                        }
                        throw new RangeError("Invalid UTF-16 string");
                      }
                      return result;
                    }
                    // Show the QR Code symbol's statistics as a string
                    getElem("statistics-output").textContent =
                      "QR Code version = " +
                      qr.version +
                      ", " +
                      ("mask pattern = " + qr.mask + ", ") +
                      ("character count = " + countUnicodeChars(text) + ",\n") +
                      ("encoding mode = " + describeSegments(segs) + ", ") +
                      ("error correction = level " +
                        "LMQH".charAt(qr.errorCorrectionLevel.ordinal) +
                        ", ") +
                      ("data bits = " +
                        qrcodegen.QrSegment.getTotalBits(segs, qr.version) +
                        ".");
                  }
                  // Draws the given QR Code, with the given module scale and border modules, onto the given HTML
                  // canvas element. The canvas's width and height is resized to (qr.size + border * 2) * scale.
                  // The drawn image is purely dark and light, and fully opaque.
                  // The scale must be a positive integer and the border must be a non-negative integer.
                  function drawCanvas(
                    qr,
                    scale,
                    border,
                    lightColor,
                    darkColor,
                    canvas
                  ) {
                    if (scale <= 0 || border < 0)
                      throw new RangeError("Value out of range");
                    var width = (qr.size + border * 2) * scale;
                    canvas.width = width;
                    canvas.height = width;
                    var ctx = canvas.getContext("2d");
                    for (var y = -border; y < qr.size + border; y++) {
                      for (var x = -border; x < qr.size + border; x++) {
                        ctx.fillStyle = qr.getModule(x, y)
                          ? darkColor
                          : lightColor;
                        ctx.fillRect(
                          (x + border) * scale,
                          (y + border) * scale,
                          scale,
                          scale
                        );
                      }
                    }
                  }
                  // Returns a string of SVG code for an image depicting the given QR Code, with the given number
                  // of border modules. The string always uses Unix newlines (\n), regardless of the platform.
                  function toSvgString(qr, border, lightColor, darkColor) {
                    if (border < 0)
                      throw new RangeError("Border must be non-negative");
                    var parts = [];
                    for (var y = 0; y < qr.size; y++) {
                      for (var x = 0; x < qr.size; x++) {
                        if (qr.getModule(x, y))
                          parts.push(
                            "M" + (x + border) + "," + (y + border) + "h1v1h-1z"
                          );
                      }
                    }
                    return (
                      '<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 ' +
                      (qr.size + border * 2) +
                      " " +
                      (qr.size + border * 2) +
                      '" stroke="none">\n\t<rect width="100%" height="100%" fill="' +
                      lightColor +
                      '"/>\n\t<path d="' +
                      parts.join(" ") +
                      '" fill="' +
                      darkColor +
                      '"/>\n</svg>\n'
                    );
                  }
                  function handleVersionMinMax(which) {
                    var minElem = getInput("version-min-input");
                    var maxElem = getInput("version-max-input");
                    var minVal = parseInt(minElem.value, 10);
                    var maxVal = parseInt(maxElem.value, 10);
                    minVal = Math.max(
                      Math.min(minVal, qrcodegen.QrCode.MAX_VERSION),
                      qrcodegen.QrCode.MIN_VERSION
                    );
                    maxVal = Math.max(
                      Math.min(maxVal, qrcodegen.QrCode.MAX_VERSION),
                      qrcodegen.QrCode.MIN_VERSION
                    );
                    if (which == "min" && minVal > maxVal) maxVal = minVal;
                    else if (which == "max" && maxVal < minVal) minVal = maxVal;
                    minElem.value = minVal.toString();
                    maxElem.value = maxVal.toString();
                    redrawQrCode();
                  }
                  app.handleVersionMinMax = handleVersionMinMax;
                  function getElem(id) {
                    var result = document.getElementById(id);
                    if (result instanceof HTMLElement) return result;
                    throw new Error("Assertion error");
                  }
                  function getInput(id) {
                    var result = getElem(id);
                    if (result instanceof HTMLInputElement) return result;
                    throw new Error("Assertion error");
                  }
                  initialize();
                })(app || (app = {}));
              </script>

              <!-- <div class="mid"> -->
            </div>

            <!-- Third and Half of Night Calculator -->

            <br />
            <hr />

            <style>
              input,
              select {
                /*width: 50%;*/
                font-size: 18px;
                padding: 6px 6px;
                margin: 4px 0;
                display: inline-block;
                border: 1px solid #ccc;
                border-radius: 4px;
                box-sizing: border-box;

                text-align: center;
                font-family: sans-serif;
              }

              /*@mixin for-phone-only*/
              @media (max-width: 599px) {
                select {
                  width: 70px;
                }
              }

              /*input[type="date"]::-webkit-calendar-picker-indicator {
            -webkit-appearance: none;
            display: none;
          }*/

              /*::-webkit-calendar-picker-indicator {
            margin-left: 0px;
          }*/

              /*.dateResult {
            font-weight: bold;
            color: #eee;
            background-color: #0b578c;
          }*/

              /*#b4Maghrib,
            #afterMaghrib*/
              #thirdOfNight3,
              #halfOfNight {
                /*color: #66BCE6;*/

                /*width: 50%;*/
                padding: 4px 8px;
                margin: 4px 0;
                display: inline-block;
                border: 1px solid #ccc;
                border-radius: 4px;
                box-sizing: border-box;

                text-align: center;
                font-family: sans-serif;

                color: #eee;
                background-color: #0b578c;
                font-size: 90%;
              }
            </style>

            <div class="mid">
              <h2 style="font-size: 23px">
                <a
                  data-tooltip="Calculates the first, second and last thirds of the night, as well as half, when you have set the time for Maghrib and Isha"
                  style="font-weight: normal"
                  ><b>Third and Half of Night Calculator 🌙</b></a
                >
              </h2>

              <table
                style="margin-left: auto; margin-right: auto; font-size: 110%"
              >
                <tr>
                  <td>Select Maghrib Time: &nbsp; &nbsp;</td>
                  <td>
                    <input type="time" id="time1" onchange="calcTime();" />
                  </td>
                </tr>
                <tr>
                  <td>Select Fajr Time:</td>
                  <td>
                    <input type="time" id="time2" onchange="calcTime();" />
                  </td>
                </tr>
                <tr>
                  <td>Midnight is:</td>
                  <td>
                    <input type="text" id="halfOfNight" style="width: 70px" />
                  </td>
                </tr>
                <tr>
                  <td>Last third is:</td>
                  <td>
                    <input type="text" id="thirdOfNight3" style="width: 70px" />
                  </td>
                </tr>
                <tr>
                  <td>Second third is:</td>
                  <td>
                    <input type="text" id="thirdOfNight2" style="width: 70px" />
                  </td>
                </tr>
                <tr>
                  <td>First third is:</td>
                  <td>
                    <input type="text" id="thirdOfNight1" style="width: 70px" />
                  </td>
                </tr>
              </table>
            </div>
            <!-- commented out after testing, had to comment out the js putting the values here first
          Maghrib in Seconds &nbsp;
          <input type="text" id="seconds1" />
          <br />
          Fajr in Seconds &nbsp;
          <input type="text" id="seconds2" />
          <br />
          Difference in Seconds &nbsp;
          <input type="text" id="secondsDiff" />
          <br />
          a third in seconds &nbsp;
          <input type="text" id="thirdS" />
          <br />
          a half in seconds &nbsp;
          <input type="text" id="halfS" />
          <br />
          Last third of the night starts seconds &nbsp;
          <input type="text" id="thirdOfNight3S" />
          <br />
          Last half of the night starts seconds &nbsp;
          <input type="text" id="halfOfNightS" />
          <br />-->

            <script>
              function calcTime() {
                /*var start = document.getElementById("time1").value;
      var end = document.getElementById("time2").value;*/

                /* https://thewebdev.info/2021/05/23/how-to-convert-hhmmss-time-string-to-seconds-only-in-javascript/ */

                var maghribStart = document.getElementById("time1").value;
                var [hours1, minutes1] = maghribStart.split(":");
                var maghribSeconds = +hours1 * 60 * 60 + +minutes1 * 60;
                //document.getElementById("seconds1").value = maghribSeconds;

                var fajrEnd = document.getElementById("time2").value;
                var [hours2, minutes2] = fajrEnd.split(":");
                var fajrSeconds = +hours2 * 60 * 60 + +minutes2 * 60;
                //document.getElementById("seconds2").value = fajrSeconds;

                /* https://github.com/proateen/thirdofthenight/blob/main/script.js 
      
      alternative: https://fawazahmed0.github.io/last-third-night-calculator/ 
      
      they dont match, so obviously one is wrong, first i thought it was the former, now the latter */

                if (maghribSeconds > fajrSeconds) {
                  var diffSeconds = 86400 - (maghribSeconds - fajrSeconds); //subtract 1 day
                } else {
                  var diffSeconds = fajrSeconds - maghribSeconds;
                }
                //document.getElementById("secondsDiff").value = diffSeconds;

                //var diffSeconds = fajrSeconds - maghribSeconds;

                var thirdsOfSeconds = diffSeconds / 3;
                //document.getElementById("thirdS").value = thirdsOfSeconds;
                var nightThirdinSeconds = fajrSeconds - thirdsOfSeconds;
                //document.getElementById("thirdOfNight3S").value =
                nightThirdinSeconds;

                var nightSecondinSeconds =
                  nightThirdinSeconds - thirdsOfSeconds;
                var nightFirstinSeconds =
                  nightSecondinSeconds - thirdsOfSeconds;

                var halfOfSeconds = diffSeconds / 2;
                //document.getElementById("halfS").value = halfOfSeconds;
                var nightHalfinSeconds = fajrSeconds - halfOfSeconds;
                //document.getElementById("halfOfNightS").value =
                nightHalfinSeconds;

                /*var date = new Date(null);
      date.setSeconds(nightThirdinSeconds); // specify value for SECONDS here
      var result = date.toISOString().substr(11, 5);*/

                var dateThird = new Date(null);
                dateThird.setSeconds(nightThirdinSeconds); // specify value for SECONDS here
                // https://stackoverflow.com/questions/1322732/convert-seconds-to-hh-mm-ss-with-javascript/25279340#25279340 seconds to time again
                // removed seconds with https://stackoverflow.com/questions/69278917/how-to-return-hhmm-only-in-date-javascript/69278958#69278958 */
                var nightThirdinTime = dateThird.toISOString().substr(11, 5);
                document.getElementById("thirdOfNight3").value =
                  nightThirdinTime; // + " PM"

                var dateSecond = new Date(null);
                dateSecond.setSeconds(nightSecondinSeconds); // specify value for SECONDS here
                var nightSecondinTime = dateSecond.toISOString().substr(11, 5);
                document.getElementById("thirdOfNight2").value =
                  nightSecondinTime; // + " PM"

                var dateFirst = new Date(null);
                dateFirst.setSeconds(nightFirstinSeconds); // specify value for SECONDS here
                var nightFirstinTime = dateFirst.toISOString().substr(11, 5);
                document.getElementById("thirdOfNight1").value =
                  nightFirstinTime; // + " PM"

                var dateHalf = new Date(null);
                dateHalf.setSeconds(nightHalfinSeconds);
                var nightHalfinTime = dateHalf.toISOString().substr(11, 5);
                document.getElementById("halfOfNight").value = nightHalfinTime; // + " PM"

                //var calcRemThird = fajrSeconds - nightThirdinSeconds;

                // https://stackoverflow.com/questions/13903897/javascript-return-number-of-days-hours-minutes-seconds-between-two-dates/13904621#13904621
                /*var calcNewYear = setInterval(function () {

        // https://stackoverflow.com/questions/3830244/how-to-get-the-current-date-or-and-time-in-seconds/3830279#3830279
        var timeNow = new Date().toLocaleTimeString(); //new Date().toTimeString().split(" ")[0];

        $("#time").text("Time remaining is\n" + timeNow + " seconds");
      }, 1000);*/

                /**/
              }
            </script>

            <br />
            <hr />
            <br />

            <div class="mid">
              <p style="font-size: 20px; line-height: 1.5">
                If you don’t know the date of your child’s Aqiqah, you can use
                our
                <a href="https://birrumv.com">Aqiqah date calculator</a>.
              </p>
            </div>

            <br />
            <hr />

            <div class="mid">
              <h2 style="font-size: 23px">
                <a
                  data-tooltip="Converts any unit to all other units"
                  style="font-weight: normal"
                  ><b>Unit Converter 🧮</b></a
                >
              </h2>

              <!-- https://www.w3schools.com/howto/howto_js_length_converter.asp
            <p style="font-size: 20px; line-height: 1.5">
            Type a value in any of the fields to convert between them.
          </p>-->

              <style>
                /* https://stackoverflow.com/questions/7245018/how-to-evenly-distribute-elements-in-a-div-next-to-each-other/33239116#33239116 */
                .w3-row-padding {
                  display: flex;
                  /*flex-flow: row wrap;*/
                  flex-direction: row;
                  flex-wrap: wrap;
                  /*justify-content: space-around;*/
                  justify-content: flex-start;
                  align-content: flex-start;
                  row-gap: 20px;
                }

                .w3-row-padding > .w3-half {
                  padding-right: 10px;
                  /*white-space: nowrap;*/
                }

                .w3-input {
                  width: 100px;
                }
              </style>

              <!-- in html and js
i want input boxes, for meter, feet, centimeter, inch, yard, kilometer, miles and pixels
writing any value in any one of the boxes should calculate the equivalent value with accuracy in the rest of the boxes -->

              <style>
                .converter-container {
                  display: flex;
                  flex-wrap: wrap;
                  /**/
                  justify-content: center;

                  column-gap: 100px;
                  row-gap: 70px;
                }

                .group-of-units {
                  flex: 1;
                  /*margin-left: 30px;
              margin-right: 30px;*/
                  /* Adjust the margin as needed */
                  flex-wrap: nowrap;
                  /* Prevent elements from wrapping within the unit group */

                  /**/
                  display: flex;
                  flex-direction: column;
                  max-width: 250px;
                }

                /* Reset margin for smaller screens */
                /*@media (max-width: 767px) {
              .length-units,
              .weight-units {
                margin-right: 0;
              }
            }*/
              </style>

              <div class="converter-container">
                <div class="group-of-units">
                  <label>Meter: </label>
                  <input
                    type="number"
                    id="meter"
                    oninput="convert('meter')"
                    placeholder="m"
                  />

                  <label>Feet: </label>
                  <input
                    type="number"
                    id="feet"
                    oninput="convert('feet')"
                    placeholder="ft"
                  />

                  <label>Centimeter: </label>
                  <input
                    type="number"
                    id="centimeter"
                    oninput="convert('centimeter')"
                    placeholder="cm"
                  />

                  <label>Inch: </label>
                  <input
                    type="number"
                    id="inch"
                    oninput="convert('inch')"
                    placeholder="in"
                  />

                  <label>Yard: </label>
                  <input
                    type="number"
                    id="yard"
                    oninput="convert('yard')"
                    placeholder="yd"
                  />

                  <label>Kilometer: </label>
                  <input
                    type="number"
                    id="kilometer"
                    oninput="convert('kilometer')"
                    placeholder="km"
                  />

                  <label>Miles: </label>
                  <input
                    type="number"
                    id="miles"
                    oninput="convert('miles')"
                    placeholder="mi"
                  />

                  <label>Pixels: </label>
                  <input
                    type="number"
                    id="pixels"
                    oninput="convert('pixels')"
                    placeholder="px"
                  />
                </div>
                <!-- <div class="group-of-units"> -->

                <script>
                  const conversionRatios = {
                    meter: {
                      feet: 3.28084,
                      centimeter: 100,
                      inch: 39.3701,
                      yard: 1.09361,
                      kilometer: 0.001,
                      miles: 0.000621371,
                      pixels: 3779.527559,
                    },
                    feet: {
                      meter: 0.3048,
                      centimeter: 30.48,
                      inch: 12,
                      yard: 0.333333,
                      kilometer: 0.0003048,
                      miles: 0.000189394,
                      pixels: 12192,
                    },
                    centimeter: {
                      meter: 0.01,
                      feet: 0.0328084,
                      inch: 0.393701,
                      yard: 0.0109361,
                      kilometer: 1e-5,
                      miles: 6.2137e-6,
                      pixels: 37.7952756,
                    },
                    inch: {
                      meter: 0.0254,
                      feet: 0.0833333,
                      centimeter: 2.54,
                      yard: 0.0277778,
                      kilometer: 2.54e-5,
                      miles: 1.5783e-5,
                      pixels: 96,
                    },
                    yard: {
                      meter: 0.9144,
                      feet: 3,
                      centimeter: 91.44,
                      inch: 36,
                      kilometer: 9.144e-4,
                      miles: 5.68182e-4,
                      pixels: 9144,
                    },
                    kilometer: {
                      meter: 1000,
                      feet: 3280.84,
                      centimeter: 1e5,
                      inch: 39370.1,
                      yard: 1093.61,
                      miles: 0.621371,
                      pixels: 3.861e7,
                    },
                    miles: {
                      meter: 1609.34,
                      feet: 5280,
                      centimeter: 160934,
                      inch: 63360,
                      yard: 1760,
                      kilometer: 1.60934,
                      pixels: 2.49e7,
                    },
                    pixels: {
                      meter: 0.000264583,
                      feet: 0.000086667,
                      centimeter: 0.0264583,
                      inch: 0.0104167,
                      yard: 0.000289167,
                      kilometer: 2.6458e-8,
                      miles: 4.0146e-9,
                    },
                  };

                  function convert(sourceUnit) {
                    const sourceValue = parseFloat(
                      document.getElementById(sourceUnit).value
                    );

                    for (const targetUnit in conversionRatios[sourceUnit]) {
                      const targetValue =
                        sourceValue * conversionRatios[sourceUnit][targetUnit];
                      document.getElementById(targetUnit).value =
                        targetValue.toFixed(6);
                    }
                  }
                </script>

                <div class="group-of-units">
                  <label>Grams: </label>
                  <input
                    type="number"
                    id="grams"
                    oninput="convertWeight('grams')"
                    placeholder="g"
                  />

                  <label>Kilograms: </label>
                  <input
                    type="number"
                    id="kilograms"
                    oninput="convertWeight('kilograms')"
                    placeholder="kg"
                  />

                  <label>Milligrams: </label>
                  <input
                    type="number"
                    id="milligrams"
                    oninput="convertWeight('milligrams')"
                    placeholder="mg"
                  />

                  <label>Metric Tonnes: </label>
                  <input
                    type="number"
                    id="metricTonnes"
                    oninput="convertWeight('metricTonnes')"
                    placeholder="t"
                  />

                  <label>Ounces: </label>
                  <input
                    type="number"
                    id="ounces"
                    oninput="convertWeight('ounces')"
                    placeholder="oz"
                  />

                  <label>Pounds: </label>
                  <input
                    type="number"
                    id="pounds"
                    oninput="convertWeight('pounds')"
                    placeholder="lb"
                  />
                </div>
                <!-- <div class="group-of-units"> -->
              </div>
              <!-- <div class="converter-container"> -->

              <script>
                const weightConversionRatios = {
                  grams: {
                    kilograms: 0.001,
                    milligrams: 1000,
                    metricTonnes: 1e-6,
                    ounces: 0.03527396,
                    pounds: 0.002204623,
                  },
                  kilograms: {
                    grams: 1000,
                    milligrams: 1e6,
                    metricTonnes: 1e-3,
                    ounces: 35.27396,
                    pounds: 2.204623,
                  },
                  milligrams: {
                    grams: 0.001,
                    kilograms: 1e-6,
                    metricTonnes: 1e-9,
                    ounces: 3.527396e-5,
                    pounds: 2.204623e-6,
                  },
                  metricTonnes: {
                    grams: 1e6,
                    kilograms: 1e3,
                    milligrams: 1e9,
                    ounces: 35273.96,
                    pounds: 2204.623,
                  },
                  ounces: {
                    grams: 28.34952,
                    kilograms: 0.02834952,
                    milligrams: 28349.52,
                    metricTonnes: 2.834952e-5,
                    pounds: 0.0625,
                  },
                  pounds: {
                    grams: 453.5924,
                    kilograms: 0.4535924,
                    milligrams: 453592.4,
                    metricTonnes: 0.0004535924,
                    ounces: 16,
                  },
                };

                function convertWeight(weightSourceUnit) {
                  const weightSourceValue = parseFloat(
                    document.getElementById(weightSourceUnit).value
                  );

                  for (const weightTargetUnit in weightConversionRatios[
                    weightSourceUnit
                  ]) {
                    const weightTargetValue =
                      weightSourceValue *
                      weightConversionRatios[weightSourceUnit][
                        weightTargetUnit
                      ];
                    document.getElementById(weightTargetUnit).value =
                      weightTargetValue.toFixed(6);
                  }
                }
              </script>

              <br />
              <br />

              <!-- -->

              <!-- https://stackoverflow.com/questions/66733428/left-align-last-row-of-center-aligned-flexbox/66733693#66733693 -->
              <div
                style="
                  display: grid;
                  gap: 10px;
                  grid-template-columns: repeat(auto-fit);
                  justify-content: center;
                "
              >
                <div class="w3-row-padding mid" style="margin: 0 -16px">
                  <div class="w3-half">
                    <label>If </label>
                    <input
                      id="inputMultiA"
                      class="w3-input"
                      type="number"
                      placeholder="10"
                      oninput="unitCost(this.id,this.value)"
                      onchange="unitCost(this.id,this.value)"
                    />
                    <label>g, = </label>
                  </div>
                  <div class="w3-half">
                    <input
                      id="inputMultiB"
                      class="w3-input"
                      type="number"
                      placeholder="20"
                      oninput="unitCost(this.id,this.value)"
                      onchange="unitCost(this.id,this.value)"
                    />
                    <label> $, then </label>
                  </div>
                </div>

                <div class="w3-row-padding" style="margin: 0 -16px">
                  <div class="w3-half">
                    <label> &nbsp;</label><label>&nbsp;</label>
                    <input
                      id="input1A"
                      class="w3-input"
                      type="number"
                      value="1"
                      style="color: blue"
                      oninput="unitCost(this.id,this.value)"
                      onchange="unitCost(this.id,this.value)"
                    />
                    <label>g&nbsp; = </label>
                  </div>

                  <div class="w3-half">
                    <input
                      id="input1B"
                      class="w3-input"
                      type="number"
                      placeholder="2"
                      style="color: red"
                      oninput="unitCost(this.id,this.value)"
                      onchange="unitCost(this.id,this.value)"
                    />
                    <label> $ </label>
                  </div>
                </div>

                <script>
                  function unitCost(source, valNum) {
                    valNum = parseFloat(valNum);
                    var inputMultiA = document.getElementById("inputMultiA");
                    var inputMultiB = document.getElementById("inputMultiB");
                    var input1A = document.getElementById("input1A");
                    var input1B = document.getElementById("input1B");

                    if (source == "inputMultiA") {
                      input1B.value = (
                        (input1A.value * inputMultiB.value) /
                        valNum
                      ).toFixed(2);
                      /*input1A.value = (
(valNum * input1B.value) /
inputMultiB
).toFixed(2);*/
                    }
                    if (source == "inputMultiB") {
                      input1B.value = (
                        (input1A.value * valNum) /
                        inputMultiA.value
                      ).toFixed(2);
                      /*input1A.value = (
(inputMultiA.value * input1B.value) /
inputMultiB
).toFixed(2);*/
                    }
                    if (source == "input1A") {
                      input1B.value = (
                        (valNum * inputMultiB.value) /
                        inputMultiA.value
                      ).toFixed(2);
                    }
                    if (source == "input1B") {
                      input1A.value = (
                        (valNum * inputMultiA.value) /
                        inputMultiB.value
                      ).toFixed(2);
                    }
                  }
                </script>

                <!---->

                <br />
                <br />

                <div class="w3-row-padding" style="margin: 0 -16px">
                  <div class="w3-half">
                    <label>If </label>
                    <input
                      id="inputMultiA2"
                      class="w3-input"
                      type="number"
                      placeholder="10"
                      oninput="unitCost2(this.id,this.value)"
                      onchange="unitCost2(this.id,this.value)"
                    />
                    <label>g, = </label>
                  </div>
                  <div class="w3-half">
                    <input
                      id="inputMultiB2"
                      class="w3-input"
                      type="number"
                      placeholder="20"
                      oninput="unitCost2(this.id,this.value)"
                      onchange="unitCost2(this.id,this.value)"
                    />
                    <label> $, then </label>
                  </div>
                </div>

                <div class="w3-row-padding" style="margin: 0 -16px">
                  <div class="w3-half">
                    <label> &nbsp;</label><label>&nbsp;</label>
                    <input
                      id="input1A2"
                      class="w3-input"
                      type="number"
                      value="1"
                      style="color: blue"
                      oninput="unitCost2(this.id,this.value)"
                      onchange="unitCost2(this.id,this.value)"
                    />
                    <label>g&nbsp; = </label>
                  </div>

                  <div class="w3-half">
                    <input
                      id="input1B2"
                      class="w3-input"
                      type="number"
                      placeholder="2"
                      style="color: red"
                      oninput="unitCost2(this.id,this.value)"
                      onchange="unitCost2(this.id,this.value)"
                    />
                    <label> $ </label>
                  </div>
                </div>
              </div>

              <script>
                function unitCost2(source, valNum) {
                  valNum = parseFloat(valNum);
                  var inputMultiA2 = document.getElementById("inputMultiA2");
                  var inputMultiB2 = document.getElementById("inputMultiB2");
                  var input1A2 = document.getElementById("input1A2");
                  var input1B2 = document.getElementById("input1B2");

                  if (source == "inputMultiA2") {
                    input1B2.value = (
                      (input1A2.value * inputMultiB2.value) /
                      valNum
                    ).toFixed(2);
                    /*input1A2.value = (
(valNum * input1B2.value) /
inputMultiB2
).toFixed(2);*/
                  }
                  if (source == "inputMultiB2") {
                    input1B2.value = (
                      (input1A2.value * valNum) /
                      inputMultiA2.value
                    ).toFixed(2);
                    /*input1A2.value = (
(inputMultiA2.value * input1B2.value) /
inputMultiB2
).toFixed(2);*/
                  }
                  if (source == "input1A2") {
                    input1B2.value = (
                      (valNum * inputMultiB2.value) /
                      inputMultiA2.value
                    ).toFixed(2);
                  }
                  if (source == "input1B2") {
                    input1A2.value = (
                      (valNum * inputMultiA2.value) /
                      inputMultiB2.value
                    ).toFixed(2);
                  }
                }
              </script>

              <!---->

              <!-- OLD UNIT CONVERTER CODE
 <div class="w3-row-padding" style="margin: 0 -16px">

            <div class="w3-half">
              <label>Meters: </label>
              <input
                id="inputMeters"
                class="w3-input"
                type="number"
                placeholder="m"
                oninput="lengthConverter(this.id,this.value)"
                onchange="lengthConverter(this.id,this.value)"
              />
            </div>
            <div class="w3-half">
              <label>Feet: </label>
              <input
                id="inputFeet"
                class="w3-input"
                type="number"
                placeholder="ft"
                oninput="lengthConverter(this.id,this.value)"
                onchange="lengthConverter(this.id,this.value)"
              />
            </div>
            <div class="w3-half">
              <label>Centimeters: </label>
              <input
                id="inputcm"
                class="w3-input"
                type="number"
                placeholder="cm"
                oninput="lengthConverter(this.id,this.value)"
                onchange="lengthConverter(this.id,this.value)"
              />
            </div>
            <div class="w3-half">
              <label>Inches: </label>
              <input
                id="inputInches"
                class="w3-input"
                type="number"
                placeholder="in"
                oninput="lengthConverter(this.id,this.value)"
                onchange="lengthConverter(this.id,this.value)"
              />
            </div>
            <div class="w3-half">
              <label>Yards: </label>
              <input
                id="inputYards"
                class="w3-input"
                type="number"
                placeholder="yd"
                oninput="lengthConverter(this.id,this.value)"
                onchange="lengthConverter(this.id,this.value)"
              />
            </div>
            <div class="w3-half">
              <label>Kilometers: </label>
              <input
                id="inputKilometers"
                class="w3-input"
                type="number"
                placeholder="km"
                oninput="lengthConverter(this.id,this.value)"
                onchange="lengthConverter(this.id,this.value)"
              />
            </div>
            <div class="w3-half">
              <label>Miles: </label>
              <input
                id="inputMiles"
                class="w3-input"
                type="number"
                placeholder="mi"
                oninput="lengthConverter(this.id,this.value)"
                onchange="lengthConverter(this.id,this.value)"
              />
            </div>
            <div class="w3-half">
              <label>Pixels: </label>
              <input
                id="inputPixels"
                class="w3-input"
                type="number"
                placeholder="px"
                oninput="lengthConverter(this.id,this.value)"
                onchange="lengthConverter(this.id,this.value)"
              />
            </div>
          </div>
       
    <script>
            /*function lengthConverter(source, valNum) {
              valNum = parseFloat(valNum);
              var inputFeet = document.getElementById("inputFeet");
              var inputMeters = document.getElementById("inputMeters");
              var inputInches = document.getElementById("inputInches");
              var inputcm = document.getElementById("inputcm");
              var inputYards = document.getElementById("inputYards");
              var inputKilometers = document.getElementById("inputKilometers");
              var inputMiles = document.getElementById("inputMiles");
              var inputPixels = document.getElementById("inputPixels");
              if (source == "inputFeet") {
                inputMeters.value = (valNum / 3.2808).toFixed(2);
                inputInches.value = (valNum * 12).toFixed(2);
                inputcm.value = (valNum / 0.032808).toFixed();
                inputYards.value = (valNum * 0.33333).toFixed(2);
                inputKilometers.value = (valNum / 3280.8).toFixed(5);
                inputMiles.value = (valNum * 0.00018939).toFixed(5);
                inputPixels.value = (valNum * 1152.0001451339).toFixed(2);
              }
              if (source == "inputMeters") {
                inputFeet.value = (valNum * 3.2808).toFixed(2);
                inputInches.value = (valNum * 39.37).toFixed(2);
                inputcm.value = (valNum / 0.01).toFixed();
                inputYards.value = (valNum * 1.0936).toFixed(2);
                inputKilometers.value = (valNum / 1000).toFixed(5);
                inputMiles.value = (valNum * 0.00062137).toFixed(5);
                inputPixels.value = (valNum * 3779.5275593333).toFixed(2);
              }
              if (source == "inputInches") {
                inputFeet.value = (valNum * 0.083333).toFixed(3);
                inputMeters.value = (valNum / 39.37).toFixed(3);
                inputcm.value = (valNum / 0.3937).toFixed(2);
                inputYards.value = (valNum * 0.027778).toFixed(3);
                inputKilometers.value = (valNum / 39370).toFixed(6);
                inputMiles.value = (valNum * 0.000015783).toFixed(6);
                inputPixels.value = (valNum * 96).toFixed(2);
              }
              if (source == "inputcm") {
                inputFeet.value = (valNum * 0.032808).toFixed(3);
                inputMeters.value = (valNum / 100).toFixed(3);
                inputInches.value = (valNum * 0.3937).toFixed(2);
                inputYards.value = (valNum * 0.010936).toFixed(3);
                inputKilometers.value = (valNum / 100000).toFixed(6);
                inputMiles.value = (valNum * 0.0000062137).toFixed(6);
                inputPixels.value = (valNum * 37.79).toFixed(2);
              }
              if (source == "inputYards") {
                inputFeet.value = (valNum * 3).toFixed();
                inputMeters.value = (valNum / 1.0936).toFixed(2);
                inputInches.value = (valNum * 36).toFixed();
                inputcm.value = (valNum / 0.010936).toFixed();
                inputKilometers.value = (valNum / 1093.6).toFixed(5);
                inputMiles.value = (valNum * 0.00056818).toFixed(5);
                inputPixels.value = (valNum * 3456.043540706).toFixed(2);
              }
              if (source == "inputKilometers") {
                inputFeet.value = (valNum * 3280.8).toFixed();
                inputMeters.value = (valNum * 1000).toFixed();
                inputInches.value = (valNum * 39370).toFixed();
                inputcm.value = (valNum * 100000).toFixed();
                inputYards.value = (valNum * 1093.6).toFixed();
                inputMiles.value = (valNum * 0.62137).toFixed(2);
                inputPixels.value = (valNum / 2.6458335e-7).toFixed(2);
              }
              if (source == "inputMiles") {
                inputFeet.value = (valNum * 5280).toFixed();
                inputMeters.value = (valNum / 0.00062137).toFixed();
                inputInches.value = (valNum * 63360).toFixed();
                inputcm.value = (valNum / 0.0000062137).toFixed();
                inputYards.value = (valNum * 1760).toFixed();
                inputKilometers.value = (valNum / 0.62137).toFixed(2);
                inputPixels.value = (valNum * 6082560.7663069).toFixed(2);
              }
              if (source == "inputPixels") {
                inputFeet.value = (valNum / 1152.0001451339).toFixed();
                inputMeters.value = (valNum / 3779.5275593333).toFixed();
                inputInches.value = (valNum / 96).toFixed();
                inputcm.value = (valNum / 37.79).toFixed();
                inputYards.value = (valNum / 3456.043540706).toFixed();
                inputKilometers.value = (valNum * 2.6458335e-7).toFixed(2);
                inputMiles.value = (valNum / 6082560.7663069).toFixed(2);
              }
            }*/
          </script>
          
          <br />
          <br />

          <div class="w3-row-padding" style="margin: 0 -16px">
            <div class="w3-half">
              <label>Grams: </label>
              <input
                id="inputGrams"
                class="w3-input"
                type="number"
                placeholder="g"
                oninput="massConverter(this.id,this.value)"
                onchange="massConverter(this.id,this.value)"
              />
            </div>
            <div class="w3-half">
              <label>Kilograms: </label>
              <input
                id="inputKilograms"
                class="w3-input"
                type="number"
                placeholder="kg"
                oninput="massConverter(this.id,this.value)"
                onchange="massConverter(this.id,this.value)"
              />
            </div>
            <div class="w3-half">
              <label>Milligrams: </label>
              <input
                id="inputmilligrams"
                class="w3-input"
                type="number"
                placeholder="mg"
                oninput="massConverter(this.id,this.value)"
                onchange="massConverter(this.id,this.value)"
              />
            </div>
            <div class="w3-half">
              <label>Metric Tonnes: </label>
              <input
                id="inputMetricTonnes"
                class="w3-input"
                type="number"
                placeholder="t"
                oninput="massConverter(this.id,this.value)"
                onchange="massConverter(this.id,this.value)"
              />
            </div>
            <div class="w3-half">
              <label>Ounces: </label>
              <input
                id="inputOunces"
                class="w3-input"
                type="number"
                placeholder="oz"
                oninput="massConverter(this.id,this.value)"
                onchange="massConverter(this.id,this.value)"
              />
            </div>
            <div class="w3-half">
              <label>Pounds: </label>
              <input
                id="inputPounds"
                class="w3-input"
                type="number"
                placeholder="lb"
                oninput="massConverter(this.id,this.value)"
                onchange="massConverter(this.id,this.value)"
              />
            </div>
          </div>
          <script>
            function massConverter(source, valNum) {
              valNum = parseFloat(valNum);
              var inputGrams = document.getElementById("inputGrams");
              var inputKilograms = document.getElementById("inputKilograms");
              var inputmilligrams = document.getElementById("inputmilligrams");
              var inputMetricTonnes =
                document.getElementById("inputMetricTonnes");
              var inputOunces = document.getElementById("inputOunces");
              var inputPounds = document.getElementById("inputPounds");
              if (source == "inputGrams") {
                inputKilograms.value = (valNum / 1000).toFixed(4);
                inputmilligrams.value = (valNum * 1000).toFixed(2);
                inputMetricTonnes.value = (valNum / 1000000).toFixed(4);
                inputOunces.value = (valNum / 28.34952).toFixed(3);
                inputPounds.value = (valNum / 453.59237).toFixed(4);
              }
              if (source == "inputKilograms") {
                inputGrams.value = (valNum * 1000).toFixed(2);
                inputmilligrams.value = (valNum * 1000000).toFixed(2);
                inputMetricTonnes.value = (valNum / 1000).toFixed(4);
                inputOunces.value = (valNum / 35.27396195).toFixed(3);
                inputPounds.value = (valNum / 2.20462262185).toFixed(4);
              }
              if (source == "inputmilligrams") {
                inputGrams.value = (valNum / 1000).toFixed(2);
                inputKilograms.value = (valNum / 1000000).toFixed(4);
                inputMetricTonnes.value = (valNum / 1000000000).toFixed(4);
                inputOunces.value = (valNum / 28349.5).toFixed(3);
                inputPounds.value = (valNum / 453.59237).toFixed(4);
              }
              if (source == "inputMetricTonnes") {
                inputGrams.value = (valNum * 1000000).toFixed(2);
                inputKilograms.value = (valNum / 1000).toFixed(4);
                inputmilligrams.value = (valNum * 1000000000).toFixed(2);
                inputOunces.value = (valNum * 35273.96194958).toFixed(3);
                inputPounds.value = (valNum * 2204.6226218488).toFixed(4);
              }
              if (source == "inputOunces") {
                inputGrams.value = (valNum * 28.349523125).toFixed(2);
                inputKilograms.value = (valNum / 35.27396).toFixed(4);
                inputmilligrams.value = (valNum * 28349.523125).toFixed(2);
                inputMetricTonnes.value = (valNum / 35273.96195).toFixed(4);
                inputPounds.value = (valNum / 16).toFixed(4);
              }
              if (source == "inputPounds") {
                inputGrams.value = (valNum * 453.59237).toFixed(2);
                inputKilograms.value = (valNum / 2.2046226218488).toFixed(4);
                inputmilligrams.value = (valNum * 453592.37).toFixed(2);
                inputMetricTonnes.value = (valNum / 2204.62).toFixed(4);
                inputOunces.value = (valNum * 16).toFixed(3);
              }
            }
          </script>
           -->

              <br />
            </div>
          </div>

          <!-- <div id="tabThree" class="tabcontent"> -->

          <!-- Mergely 
      <script
        type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mergely/5.0.0/mergely.js"
      ></script>
      <link
        type="text/css"
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/mergely/5.0.0/mergely.css"
      /> -->

          <div id="tabFour" class="tabcontent" style="margin-top: 10px">
            <!-- 
            /* if not setting height and width here in styles, has to be done via js, otherwise diff text area wont show at all, unless it is contained in an absolute div. below was the name of the mergely container, remember that its changed now */
            
            .mergely-full-screen-8 {
            /*position: absolute;*/
            position: relative;
            /*top: 8px;
            bottom: 8px;
            left: 8px;
            right: 8px;*/

            overflow: hidden;

            /* added below */
            /*height: 450px;*/
            width: 100%;
            height: 80vh;

            /**/
            top: 0px;
            bottom: 0px;
            left: 0px;
            right: 0px;

            /* tries to make mergely more in the middle */
            /*margin-right: -8px !important;*/
          }
        -->
            <style type="text/css">
              /* see https://github.com/wickedest/Mergely/blob/master/src/mergely.css to know defaults */

              /* SOME DEFAULT MERGELY CSS */
              /*html,
          body {
            height: 100%;
            margin: 0;
          }
          #compare {
            height: calc(
              100% - 40px
            ); 
          }*/
              /* Adjust height to accommodate the button */

              /* CUSTOM MERGELY CSS BELOW */

              /* removes license splash div popup */
              .mergely-splash {
                display: none;
              }

              /* removes strikethrough on left hand side */
              .mergely-editor .mergely.ch.ind.lhs {
                text-decoration: none;
              }

              /* set font css */
              .mergely-editor .CodeMirror {
                font-family: "mergedFont", "Quicksand", sans-serif, "faruma";
                font-size: 26px;
                /*direction: rtl;*/
                /* makes text rtl, but merge arrows too, dont do this, instead use cmsettings */
                line-height: 36px;
              }

              /* mobile only */
              @media (max-width: 599px) {
                .mergely-editor .CodeMirror {
                  font-size: 20px;
                  line-height: 30px;
                }
              }

              /* is this needed now? !!!still facing direction is wrong, as well as tooltip
          makes merge arrow buttons show up fuller than even before it got smaller after rtl 
          .merge-button {
            height: 32px !important;
          } */

              /* turns the middle part of mergely white, otherwise see through */
              .mergely-canvas {
                background-color: white;
              }

              /*#clear-rhs-btn {
            margin: 10px;
          }*/

              /* hides purple margine, display none cause diff compare colors to not show */
              .mergely-margin {
                width: 0.1px;
              }
            </style>

            <!-- <button id="clear-rhs-btn">Clear RHS</button> -->

            <!-- MERGELY ID STARTS HERE -->
            <div id="compare" style="height: 500px"></div>
            <!-- Mergely is appended to the DOM element that you identify with an id, and the element requires an explicit height assigned to it. Mergely will automatically expand to take the full height and width of the container in which it is contained.
        
        Mergely div must be given a height (width not needed?) to make the textareas exist, if not here, then in styles. using auto in js like below might affect something else? dunno.
               $(document).ready(function () {
            $("#compare").mergely({
                width: "auto",
              height: "auto", 
            -->

            <!-- -->
            <div
              class="mid editorButtons"
              style="margin-top: 15px; margin-bottom: 10px"
            >
              <button
                id="clear-rhs-btn"
                class="ttClass"
                data-tooltip="clears both texts above"
              >
                ❌ Clear
              </button>

              <button
                id="scroll-to-next-diff"
                class="ttClass"
                data-tooltip="Jump to the next difference"
              >
                ▼ Nxt Chnge
              </button>
              <button
                id="scroll-to-prev-diff"
                class="ttClass"
                data-tooltip="Jump to the previous difference"
              >
                ▲ Prv Chnge
              </button>

              <button
                id="wrap-lines-btn"
                class="ttClass"
                data-tooltip="Turn wordwrap on or off"
              >
                ↲ Wordwrap
              </button>

              <button
                onclick="leftToRight2();"
                id="ltrButton2"
                class="ttClass"
                data-tooltip="Changes text direction from right to left and left to right"
              >
                LTR ↔️ RTL
              </button>

              <script>
                document.querySelectorAll(".CodeMirror").forEach((element) => {
                  element.style.direction = "rtl";
                  element.style.textAlign = "right";
                });

                var leftToRight2_timesClicked = 0;
                // https://stackoverflow.com/questions/38346671/direction-rtl-to-all-page/38346971#38346971

                function leftToRight2() {
                  leftToRight2_timesClicked++;
                  if (leftToRight2_timesClicked % 2 == 0) {
                    //run second function
                    document
                      .querySelectorAll(".CodeMirror-code:not(.CodeMirror-rtl)")
                      .forEach((element) => {
                        element.classList.add("CodeMirror-rtl");
                        element.style.direction = "rtl";
                        element.style.textAlign = "right";
                      });
                    /*document.querySelectorAll(".CodeMirror").forEach((element) => {
                element.style.direction = "rtl";
                element.style.textAlign = "right";
              });*/
                  } else {
                    //run first function
                    document
                      .querySelectorAll(".CodeMirror-code.CodeMirror-rtl")
                      .forEach((element) => {
                        element.classList.remove("CodeMirror-rtl");
                        element.style.direction = "ltr";
                        element.style.textAlign = "left";
                      });
                    /*document.querySelectorAll(".CodeMirror").forEach((element) => {
                element.style.direction = "ltr";
                element.style.textAlign = "left";
              });*/
                    //
                  }
                }
                //

                /*below no longer working
          var leftToRight2_timesClicked = 0;
          function leftToRight22() {
            leftToRight2_timesClicked++;
            if (leftToRight2_timesClicked % 2 == 0) {
              //run second function
              $(".CodeMirror").addClass("CodeMirror-rtl");
            } else {
              //run first function
              $(".CodeMirror-rtl").addClass("CodeMirror");
              $(".CodeMirror-rtl").removeClass("CodeMirror-rtl");
            }
          }*/
              </script>

              <button
                id="fullScreenB2"
                class="ttClass"
                data-tooltip="Go fullscreen. Press escape to undo"
              >
                Fullscreen 🖥️
              </button>

              <style>
                /* prevents buttons from enlargening on hover for a bit even as full screen shows */
                #fullScreenB2:active {
                  transition: none;
                  transform: none;
                }
              </style>

              <script>
                document
                  .getElementById("fullScreenB2")
                  .addEventListener("click", function () {
                    //console.log("Hello world!");
                    document
                      .getElementById("compare")
                      .classList.add("fullScreenClass2");
                    //
                    // turns scroll to top arrow invisible
                    document.querySelector(".toTop").style.opacity = 0;

                    // Hide the scrollbar of the page
                    document.documentElement.style.overflowY = "hidden";
                    document.body.style.overflowY = "hidden";

                    // doesnt work
                    // document.body.style.overflow = "hidden";

                    /*$(".mergely-full-screen-8").css({
height: "100vh",
width: "100vw",
position: "absolute",
});*/

                    // Adjusts font size for CodeMirror
                    document
                      .querySelectorAll(".CodeMirror")
                      .forEach(function (element) {
                        element.style.fontSize = "26px";
                      });
                    // js mobile only mediaquery
                    if (window.matchMedia("(max-width: 599px)").matches) {
                      document
                        .querySelectorAll(".CodeMirror")
                        .forEach(function (element) {
                          element.style.fontSize = "20px";
                        });
                    }

                    // for some reason help buttons show if they have relative position, so changed
                    document
                      .querySelectorAll(".ttClass[data-tooltip]")
                      .forEach(function (element) {
                        element.style.position = "static";
                      });
                  });
              </script>

              <style>
                .fullScreenClass2 {
                  /* 100% height causes jump on remove class deanimate */
                  /* height: 100vh */
                  height: 100vh !important;
                  width: 100vw;
                  position: fixed;
                  /*absolute? */
                  /*top: 0; was needed when all sides were 8px */
                  /* added these two below again */
                  top: 0;
                  right: 0;

                  /* animation effect below, but not as expected for some unknown reason? */
                  /* added for fullscreen animation, otherwise starts off as grey */
                  /*border-color: white;*/
                  /* animation effect below */
                  /*-webkit-transition: all 0.5s ease;
              -moz-transition: all 0.5s ease;
              -o-transition: all 0.5s ease;
              transition: all 0.5s ease;*/
                }
              </style>

              <button
                onClick="window.location.reload();scrollToTopFully();"
                class="ttClass"
                data-tooltip="Soft reloads the page"
              >
                🔄 Soft Reload
              </button>

              <!-- other, not truly force reload method?:
onclick="window.location.href = window.location.href.split('.html')[0] + '.html';" -->
              <button
                class="ttClass"
                data-tooltip="Hard reloads the page"
                onclick="location.reload(true);scrollToTopFully();"
              >
                Hard Reload
              </button>

              <!-- some space to move away the text scaler -->
              <style>
                /* on phones only */
                @media (max-width: 599px) {
                  .textScalerSpace {
                    display: none;
                  }
                }
              </style>
              <span class="textScalerSpace">&nbsp; &nbsp;</span>

              <div style="display: inline-block; top: -50px !important">
                <span
                  id="sliderValue2"
                  style="
                    display: inline-block;
                    width: 25px;
                    position: relative;
                    top: -2px;
                  "
                  >20</span
                >

                <span class="small-letter2">A</span>&nbsp;
                <input
                  id="slider2"
                  type="range"
                  min="10"
                  max="100"
                  style="padding: 0"
                  class="ttClass"
                  oninput="fontChange2()"
                />&nbsp;
                <span class="big-letter2">A</span>
              </div>
              <!-- class="mid editorButtons" -->
            </div>

            <!-- MERGELY ID CODE STARTS HERE -->
            <script>
              let doc; // Define doc in a higher scope, so that buttons will work

              function initializeMergely() {
                //
                // const doc = new Mergely("#compare", {
                doc = new Mergely("#compare", {
                  //
                  // Asynchronous initialization
                  /*const mergely = new Mergely("#compare");
        mergely.once("updated", () => {
          mergely.lhs("the quick red fox\njumped over the hairy dog");
          mergely.rhs("the quick brown fox\njumped over the lazy dog");
        });*/

                  lhs: "عَنْ عَبْدِ اللَّهِ بْنِ عُمَرَ رَضِيَ اللَّهُ عَنْهُ:\nقَالَ رَسُولُ اللَّهِ ﷺ:\n\nޢަބްދު ﷲ ބިން ޢުމަރު رَضِيَ اللَّهُ عَنْهُ ގެ އަރިހުން ރިވާވެގެންވެއެވެ:\nރަސޫލު ﷲ ﷺ ޙަދީޘް ކުރެއްވިއެވެ:",
                  rhs: "عَنْ ابْنِ عُمَرَ رَضِيَ اللَّهُ عَنْهُمَا قَالَ:\nسَمِعْتُ النَّبِيَّ ﷺ يَقُولُ:\n\nއިބްނު ޢުމަރު رَضِيَ اللَّهُ عَنْهُمَا ވިދާޅުވިކަމަށް ރިވާވެގެންވެއެވެ:\nނަބިއްޔާ ﷺ ޙަދީޘް ކުރައްވަނިކޮށް ތިމަން އަޑުއެހީމެވެ:",
                  wrap_lines: true,
                  // https://codemirror.net/docs/ref
                  // https://codemirror.net/5/doc/manual.html#addon_mark-selection
                  cmsettings: {
                    // Flips overall layout and selects base paragraph direction
                    /* tried changed this from rtl to ltr, using css instead to do its job, so i can use a toggle button, but other problems came up */
                    direction: "rtl",
                    // Determines whether horizontal cursor movement through right-to-left
                    rtlMoveVisually: true,
                    //readOnly: true,
                    /* lets select go over change highlights https://github.com/wickedest/Mergely/issues/104 */
                    //styleSelectedText: true,
                    //autofocus: false,
                  },
                });

                // END OF BASE MERGELY CODE
                //
                document
                  .getElementById("compare")
                  .classList.add("mergely-initialized");
              }
              // CUSTOM JS ADDITIONS BELOW

              document
                .getElementById("clear-rhs-btn")
                .addEventListener("click", () => {
                  doc.clear("lhs");
                  doc.clear("rhs");
                });

              document
                .getElementById("scroll-to-next-diff")
                .addEventListener("click", () => {
                  doc.scrollToDiff("next");
                });

              document
                .getElementById("scroll-to-prev-diff")
                .addEventListener("click", () => {
                  doc.scrollToDiff("prev");
                });

              let wrapLines = true; // Initial state
              document
                .getElementById("wrap-lines-btn")
                .addEventListener("click", () => {
                  wrapLines = !wrapLines; // Toggle the state
                  doc.options({ wrap_lines: wrapLines }); // Set the option
                });

              // Add event listener for the Escape key
              document.addEventListener("keydown", (event) => {
                if (event.key === "Escape") {
                  doc.resize();
                  // Reset font size and line height
                  document
                    .querySelectorAll(".mergely-editor .CodeMirror")
                    .forEach((element) => {
                      element.style.fontSize = "20px";
                      element.style.lineHeight = "30px";
                    });
                }
              });
            </script>

            <!-- NOT DIRECTLY RELATED TO MERGELY CSS AND JS BELOW -->

            <style>
              .small-letter2 {
                font-size: 14px;
                margin-bottom: 5px;
                /* 8 */
                display: inline-block;
                vertical-align: middle;
              }

              .big-letter2 {
                font-size: 24px;
              }
            </style>

            <script>
              function fontChange2() {
                document
                  .querySelectorAll(".mergely-editor .CodeMirror")
                  .forEach((element) => {
                    element.style.fontSize =
                      document.getElementById("slider2").value + "px";
                    /*element.style.lineHeight =
                document.getElementById("slider2").value + 1 + "px";*/
                    element.style.lineHeight =
                      parseInt(document.getElementById("slider2").value) +
                      20 +
                      "px";
                  });

                /*document.getElementsByClassName("CodeMirror")[0].style.fontSize =
            document.getElementById("slider2").value + "px";
          document.getElementsByClassName("CodeMirror")[1].style.fontSize =
            document.getElementById("slider2").value + "px";*/

                // added below
                document.getElementById("sliderValue2").innerHTML =
                  document.getElementById("slider2").value;
              }
            </script>

            <div>
              <p>
                މަތީގައިވާ ލިޔާ ދެ ތަންކޮޅުގައި އެއްޗެއް ލިޔުމުން، އެ ދެ
                ލިޔުމުގެ ދެމެދުގައިވާ ތަފާތު ދައްކާނެ. ފަސޭހަވާނީ ޑެސްކްޓޮޕުން
                ބޭނުން ކުރަން.
              </p>
              <p>
                މި ސަފުހާ ރަނގަޅަށް ލޯޑު ނުވާ ނަމަ، އަލުން ރީލޯޑު ކޮށްލުމުން
                ރަނގަޅުވާނެ.
              </p>

              <p>
                ކަނާތު ފަޅީގައިވާ ބަދަލުތައް، ވާތު ފަޅިއަށް ލުމަށް '>' އަށް
                ފިތާލައްވާ.
              </p>
              <p>
                ވާތު ފަޅީގައިވާ ބަދަލުތައް، ކަނާތު ފަޅިއަށް ލުމަށް '&lt;' އަށް
                ފިތާލައްވާ.
              </p>
              <p>
                މި ސަފުހާ ރަނގަޅަށް ލޯޑުނުވެ ހުރެދާނެއެވެ. އެ ހާލަތުގައި މަޑު
                ނުވަތަ ހަރު ރީލޯޑު ކުރާށެވެ.
              </p>
              <p>ފިލިތަކުގައި ހުރި ތަފާތުތައް ނުދައްކަފާނެ.</p>
            </div>

            <!-- end of dv -->
          </div>
          <!-- <div id="tabFour" class="tabcontent"> -->

          <br />
          <hr />
          <br />

          <!--
              <li>
        ލަފްޒާއި އޭގެ މާނައިގެ ތެރެއިންވެސް ސާރޗް ކުރެވޭ ރަދީފު:
        <a
          href="https://www.radheef.net"
          
          target="_blank"
          >ސައިޓު</a
        >
      </li>
    -->

          <p>އިތުރަށް ފައިދާކޮށްފާނެ ލިންކުތައް:</p>
          <ul>
            <li>
              ރަސްމީ ރަދީފު:
              <a href="https://www.radheef.mv" target="_blank">ސައިޓު</a>
            </li>
            <li>
              ތާނަ ލިޔުން ރަނގަޅުތޯ ބެލުމަށް:
              <a href="http://behi.alinashath.com" target="_blank">ސައިޓު</a>
            </li>
            <li>
              ނަމްބަރެއް ތާނަ ލިޔުމަށް ބަދަލުކުރުމަށް:
              <a href="https://meekaaku.github.io/n2d/" target="_blank"
                >ސައިޓު</a
              >
            </li>
            <li>
              އެހެން ބަހަކުން ދިވެހި ބަހަށް ތަރުޖަމާ ކުރުމަށް
              <a
                href="https://translate.google.com/?sl=auto&tl=dv&op=translate"
                target="_blank"
                >ސައިޓު 1</a
              >
              |
              <a href="https://www.bing.com/translator" target="_blank"
                >ސައިޓު 2</a
              >
            </li>
            <li>
              ލެޓިން އަކުރުން ލިޔެފަ ތާނަ އަކުރަށް ޓްރާންސްލިޓަރޭޓް ކުރުމަށް:
              <a
                href="https://www.microsoft.com/en-us/swiftkey?rtc=1"
                target="_blank"
                >ސައިޓު</a
              >
            </li>
            <li>
              ފޮޓޯއަކުން ނުވަތަ ކެމެރާއިން ލިޔުމެއް ޑިޖިޓަލައިޒް ކުރުމަށް:
              <a href="https://lens.google/#cta-section" target="_blank"
                >ސައިޓު 1</a
              >
              |
              <a href="https://www.bing.com/visualsearch" target="_blank"
                >ސައިޓު 2</a
              >
            </li>
            <li>
              އަރަބި ބަސްތަކުގައި ފިލިޖެހުމަށް
              <a
                href="http://www.7koko.com/apps/tashkil/index.php"
                target="_blank"
                >ސައިޓު 1</a
              >
              |
              <a
                href="https://learning.aljazeera.net/ar/pages/%D8%AA%D8%B4%D9%83%D9%8A%D9%84-vocalization"
                target="_blank"
                >ސައިޓު 2</a
              >
              |
              <a href="https://tashkeel.alsharekh.org/" target="_blank"
                >ސައިޓު 3</a
              >
            </li>
            <li>
              އަރަބި ލިޔުން ރަނގަޅުތޯ ބެލުމަށް:
              <a href="https://sahehly.com" target="_blank">ސައިޓު</a>
            </li>
            <li>
              އަރަބި ޓެކްސްޓު ރީތި ކުރުމަށް:
              <a href="https://nuqayah.com/tools/text.html" target="_blank"
                >ސައިޓު</a
              >
            </li>
            <li>
              އޭއައި ޗެޓްބޮޓަކާ ދިވެހިން ވާހަކަ ދެއްކުމަށް:
              <a href="https://gpt-dv.javaabu.com" target="_blank">ސައިޓު</a>
            </li>
            <li>
              ކޮން ޔުނިކޯޑު ކެރެކްޓާއެއްތޯ ބެލުމަށް:
              <a
                href="https://www.babelstone.co.uk/Unicode/whatisit.html"
                target="_blank"
                >ސައިޓު 1</a
              >
              |
              <a href="https://codepoints.net" target="_blank">ސައިޓު 2</a>
            </li>
          </ul>

          <br />
          <hr />
          <br />

          <div>
            <h3 class="mid">
              —&nbsp; އިތުރު މައުލޫމާތު ހޯދުމަށް
              <a onclick="showhide()" style="cursor: pointer">މިތަނަށް</a>
              ފިތާލައްވާ&nbsp; —
            </h3>

            <style>
              .showOnClick {
                display: none;
              }
            </style>
            <script>
              function showhide() {
                var div = document.getElementById("hiddenPost");
                div.classList.toggle("showOnClick");
              }
            </script>
            <div id="hiddenPost" class="showOnClick">
              <p>
                މިއީ މައިގަނޑު ގޮތެއްގައި ދިވެހި ބަހާއި އަރަބި ބަހުގެ
                ލިޔުންތެރިން ބޭނުން ހިފުމަށް ހަދާފައިވާ ޓެކްސްޓު އެޑިޓަރެކެވެ.
              </p>
              <p>
                ބައެއް ބަޓަންތަކުގައި އެއް ފަހަރަށްވުރެ ގިނަ ފަހަރު ފިތާލީމާ
                އިތުރު ގޮތެއް ވާނެއެވެ.
              </p>
              <p>
                ޑެސްކްޓޮޕް ބޭނުން ކުރާނަމަ، އެންމެ މަތީގައިވާ ލިޔާ ޖާގައިގެ ކަން
                މައުސް އިން ހިފާ ދަމާލައިގެން އެ ޖާގަ ބޮޑުކުރެވިދާނެއެވެ.
              </p>
              <p>
                ވެބްސައިޓު ބޭނުން ކުރާނަމަ، މި ސަފުހާ ބަންދު ކުރިޔަސް، އެންމެ
                މަތީގައި ލިޔާ އެއްޗެއް ސޭވްވެފައި ހުންނާނެއެވެ.
              </p>
              <p>
                ޑެސްކްޓޮޕްގައި އޮފްލައިންކޮށް މި ސަފުހާ ބޭނުންކުރަން އެދޭނަމަ،
                ބްރައުސާގައި ހުންނަވާއިރު ކީބޯޑުގައި ctrl+s އަށް ފިތާލުމަށްފަހު،
                ކޮމްޕްލީޓް ވެބްޕޭޖް html. ފައިލެއްހެން ސޭވްކޮށްގެން ބޭނުން
                ކުރެވިދާނެއެވެ. އޭގެ ފަހުން އަދާހަމަކުރަން އެދޭނަމަ އަލުން
                އެގޮތަށް ސޭވް ކުރާނީއެވެ.
              </p>
              <p>
                ޑެސްކްޓޮޕުގައި ވަނިކޮށް، ބަޓަނެއްގައި ޖަހާފައިވާ އަކުރެއްގެ
                <u> ތިރީގައި</u> ރޮނގެއް ދަމާފައިވާ އެ އަކުރުގެ ކީއާއެކު Alt
                ކީއަށް ފިތައިފި ނަމަ، ކީބޯޑުން އެ ބަޓަނަކަށް ފިތޭ ގޮތް ވާނެއެވެ.
              </p>
            </div>
          </div>

          <br />
          <hr />

          <!--
    <style>
      /* ====================
    Quotes Carousel
======================= */
      .quotes {
        position: relative;
        max-width: 25em;
        list-style-type: none;

        /* text-align: center; */
        margin: 0 auto;
        padding: 0;

        /* added */
        direction: ltr;
      }

      .quotes li {
        position: absolute;
        left: 0;
        right: 0;
        background: #136296;

        /* added #ddd */
        text-align: center;
        padding: 1em;
        border-radius: 15px /*0.25em;*/;
        opacity: 0;

        /* added */
        padding-top: 25px;
        color: #fff;
      }

      .quotes li:last-child {
        position: relative;
      }

      .quotes li::after {
        /* quote triangle */
        position: absolute;
        content: "";
        display: block;
        width: 0;
        height: 0;
        top: 1.75em;
        left: -0.75em;
        border-top: 0.75em solid transparent;
        border-bottom: 0.75em solid transparent;
        border-right: 0.75em solid #136296;

        /* changed ddd */
      }

      .quotes span {
        display: block;
        text-align: right;
        margin-right: 5%;
        font-size: 85%;

        /* 75% */
        font-style: italic;
        color: #d6d6d6;

        /* added */
        padding-top: 10px;
      }

      /* animation timing  =  animation:quote [total duration in secs] [increment by duration of each animation] infinite; */
      .quotes li:nth-child(1) {
        animation: quote 30s 0s infinite;
        animation: quote 30s 0s infinite;
      }

      .quotes li:nth-child(2) {
        animation: quote 30s 5s infinite;
        animation: quote 30s 5s infinite;
      }

      .quotes li:nth-child(3) {
        animation: quote 30s 10s infinite;
        animation: quote 30s 10s infinite;
      }

      .quotes li:nth-child(4) {
        animation: quote 30s 15s infinite;
        animation: quote 30s 15s infinite;
      }

      .quotes li:nth-child(5) {
        animation: quote 30s 20s infinite;
        animation: quote 30s 20s infinite;
      }

      .quotes li:nth-child(6) {
        animation: quote 30s 25s infinite;
        animation: quote 30s 25s infinite;
      }

      @keyframes quote {
        /* whole numbers only - round steps to nearest % */
        0% {
          opacity: 0;
        }

        /* (step 2 % = 100% / total quotes x .25) */
        4% {
          opacity: 1;
        }

        /* (step 3 % = 100% / total quotes x .75) */
        13% {
          opacity: 1;
        }

        /* (step 4 % = 100% / total quotes) */
        17% {
          opacity: 0;
        }
      }

      @keyframes quote {
        /* whole numbers only - round steps to nearest % */
        0% {
          opacity: 0;
        }

        /* (step 2 % = 100% / total quotes x .25) */
        4% {
          opacity: 1;
        }

        /* (step 3 % = 100% / total quotes x .75) */
        13% {
          opacity: 1;
        }

        /* (step 4 % = 100% / total quotes) */
        17% {
          opacity: 0;
        }
      }

      /* added */
      .stars {
        padding-top: 15px;
      }

      .testimonials {
        padding-top: 15px;
      }

      /* http://fofwebdesign.co.uk/template/_testing/quotes-css.htm */
    </style>

    <h2 class="mid testimonials">– &nbsp;Feedback&nbsp; –</h2>

    <ul id="quotes" class="quotes">
      <li class="show">
        ⭐⭐⭐⭐⭐<span class="stars"></span>“This is a very needed app for
        the maldivian community. Hope to see this app grow in the future.
        Would recommend this to all Maldivians.”<span>-Ismail G.</span>
      </li>
      <li>
        ⭐⭐⭐⭐⭐<span class="stars"></span>“Maa sha Allah. بارك الله فيك. A
        very important work and step in bringing our ummah closer to the
        sunnah and making it more accessible”<span>-Mohamed H.</span>
      </li>
      <li>
        ⭐⭐⭐⭐⭐<span class="stars"></span>“It’s a relief to finally see
        someone made a hadith app with dhivehi translations... Absolutely love
        it... ❤️❤️❤️”<span>-A. A.</span>
      </li>
      <li>
        ⭐⭐⭐⭐⭐<span class="stars"></span>“Alhamdhulillah, Keep it up well
        done great work hope your next work will be Bukhari and Muslim. In sha
        Allaah.”<span>-Usha N.</span>
      </li>
      <li>
        ⭐⭐⭐⭐⭐<span class="stars"></span>“Very impressive. First
        impression, easy to use, good looks, fast... So far really good. مَا
        شَاءَ ٱللَّهُ.”<span>-M. Nazim.</span>
      </li>
      <li>
        ⭐⭐⭐⭐⭐<span class="stars"></span>“Great app الحمد لله May الله
        تعالى bless you and your work.. آمین 🤲”<span>-Marie S.</span>
      </li>
    </ul>
    <br />
   
          -->
          <br />

          <!--
    <div class="mid">
      <p>
        If you find a mistake, or have suggestions, or want to support this
        project, please let us know.
      </p>
      <p>
        Contact us: <a href="http://m.me/hadithmvOfficial">Messenger</a> |
        <a href="tel:+9607583166">Viber</a> |
        <a href="https://t.me/ashraafmv">Telegram</a> |
        <a href="https://wa.me/qr/FJFBCPFQXUBKJ1">WhatsApp</a> |
        <a href="mailto:hadithmv@gmail.com">Email</a>
      </p>

      <p>
        Subscribe: <a href="http://fb.me/hadithmvOfficial">Facebook</a> |
        <a
          href="https://invite.viber.com/?g2=AQA%2BbvnySNQHZEy9axm1ck2TX/ZVrvGtq/bJboZzADy3OssLND4H1TFWklNmNQZC"
          >Viber</a
        >
        | <a href="http://t.me/hadithmv">Telegram</a> |
        <a href="https://instagram.com/hadithmv">Instagram</a> |
        <a href="https://twitter.com/hadithmv">Twitter</a>
      </p>

      <p>
        Get the Hadithmv app: <a href="https://hadithmv.github.io">Web</a> |
        <a
          href="https://play.google.com/store/apps/details?id=com.hadithmv.hmv"
          >Android</a
        >
        |
        <a href="https://github.com/hadithmv/hadithmv.github.io/releases"
          >Windows</a
        >
      </p>
      </div>
      -->
        </div>
        <!-- <div class="wrapper"> -->

        <script>
          // https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_tabs_fade
          /*document.body.classList.add("changeBack");*/

          // Get the element with id="defaultOpen" and click on it
          document.getElementById("defaultOpen").click();

          // dont need this anymore - needed timeout delay otherwise mergley diff wouldnt show
          /*setTimeout(function () {
      document.getElementById("secondaryOpen").click();
    }, 130);*/

          function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
              tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
              tablinks[i].className = tablinks[i].className.replace(
                " active",
                ""
              );
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";

            // initalizes mergely on tabfour click
            if (
              tabName === "tabFour" &&
              !document
                .getElementById("compare")
                .classList.contains("mergely-initialized")
            ) {
              initializeMergely();
            }
          }
        </script>

        <script>
          //
          //  HELP TIPS
          //
          // having it not at the end causes some to toggle on and others off

          var toggleHelpTips_timesClicked = 0;
          function toggleHelpTips() {
            toggleHelpTips_timesClicked++;
            if (toggleHelpTips_timesClicked % 2 == 0) {
              //run second function

              const els = document.getElementsByClassName("ttClass");
              for (const el of [...els]) {
                el.className = "ttClassDisabled";
              }

              document.getElementById("toggleHandT").innerHTML =
                "❓Help is OFF";

              //

              if (
                window.matchMedia &&
                window.matchMedia("(prefers-color-scheme: dark)").matches
              ) {
                // dark mode
                document.getElementById("toggleHandT").style.backgroundColor =
                  "#fff";
              } else {
                document.getElementById("toggleHandT").style.backgroundColor =
                  "#efefef";
              }

              document.getElementById("toggleHandT").style.color = "initial";
              document.getElementById("toggleHandT").style.boxShadow =
                "initial";

              //document.getElementById("toggleHandT").className = "ttClass";

              return false;
            } else {
              //run first function

              const els = document.getElementsByClassName("ttClassDisabled");
              for (const el of [...els]) {
                el.className = "ttClass";
              }

              document.getElementById("toggleHandT").className =
                "ttClassDisabled";

              document.getElementById("toggleHandT").innerHTML = "❓Help is ON";

              //

              document.getElementById("toggleHandT").style.backgroundColor =
                "#136296";
              document.getElementById("toggleHandT").style.color = "#fff";
              document.getElementById("toggleHandT").style.boxShadow =
                "inset 0px 0px 5px #c1c1c1";

              // https://thewebdev.info/2022/01/17/how-to-get-all-elements-by-class-name-and-the-change-class-name-for-each-with-javascript/

              // The problem is that the NodeList returned to you is "live" - it changes as you alter the class name. That is, when you change the class on the first element, the list is immediately one element shorter than it was.

              return false;
            }
          }

          /* toggle help on */

          // https://stackoverflow.com/questions/7184562/how-to-get-elements-with-multiple-classes/59406548#59406548

          const els = document.getElementsByClassName("ttClass");
          for (const el of [...els]) {
            el.className = "ttClassDisabled";
          }

          document.getElementById("toggleHandT").className = "ttClass";

          //
          //
          //
        </script>
      </div>
    </div>
  </body>
</html>
