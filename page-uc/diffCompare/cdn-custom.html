<!DOCTYPE html>
<!-- 
mergely v5.3.6

https://www.mergely.com

https://github.com/wickedest/Mergely/releases
examples/cdn.html

 -->
<html lang="dv" class="notranslate" translate="no">
  <head>
    <meta name="google" content="notranslate" />
    <!-- CHANGE !!! -->
    <title>Hadithmv - Diff Compare</title>
    <meta
      name="description"
      content="The Maldivian Platform for Translations of the Sunnah | ސުންނަތުގެ ތަރުޖަމާ މަންސަ"
    />
    <meta
      name="keywords"
      content="hadithmv, hadith mv, hadeeth mv, dhivehi, hadith, hadhees, dhivehi islamic books, tharujama, dhivehi translation,ފޮތް, ތަރުޖަމާ, ޤުރްއާން, ޤުރުއާން, ގުރްއާން,ގުރުއާން, އިސްލާމް, ދީނީ, ޙަދީޘް, ހަދީޘް, ޙަދީސް, ހަދީސް, ސުންނަތް, ސުންނާ, ސުންނަ, ސުއްނަތް, ސުއްނާ, ސުއްނަ, ސުންނީ, ސުއްނީ, ސަލަފް, ސަލަފު, ސަލަފުން, ސަލަފީ, އަޘަރީ, ދިވެހި ,ޙަދީޘްއެމްވީ ,ޙަދީޘް އެމްވީ"
    />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta itemprop="name" content="Hadithmv" />
    <meta itemprop="description" content="ޙަދީޘްއެމްވީ" />
    <meta
      itemprop="image"
      content="https://hadithmv.github.io/img/logo/NewLogo7/hadithmv-logo-7.0-whiteBack-512px.png"
    />
    <meta property="og:title" content="Hadithmv" />
    <meta property="og:type" content="website" />
    <meta
      property="og:image"
      content="https://hadithmv.github.io/img/logo/NewLogo7/hadithmv-logo-7.0-whiteBack-512px.png"
    />
    <link rel="icon" href="../../img/logo/logo.svg" type="image/svg+xml" />
    <meta name="theme-color" content="#29434e" />
    <!-- external resources-->
    <style>
      html {
        visibility: hidden;
        opacity: 0;
      }
    </style>
    <link
      rel="stylesheet"
      href="../../css/base-styles.css"
      media="print"
      onload="this.media='all'"
    />
    <link
      rel="stylesheet"
      href="../../css/navbar.css"
      media="print"
      onload="this.media='all'"
    />
    <script src="../../js/navbar.js"></script>
    <!-- END external resources-->
  </head>

  <body>
    <div id="navbar-container"></div>
    <!-- -->
    <!-- Mergely-v\examples\cdn.html -->

    <!--<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/mergely/5.3.6/mergely.css"
/>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/mergely/5.3.6/mergely.js"></script>-->

    <!-- !!! REMOVE  4 things from the CSS code:
 1 .mergely-splash  {
 2 .mergely-splash p  {
 3 .mergely-icon  {
 4 .mergely-splash span.mergely-icon  {

 minify w csso -->
    <!-- <link rel="stylesheet" href="mergely.css" /> -->
    <!-- instead of ext linl, placed that modified css inline directly below: -->

    <!-- prettier-ignore -->
    <style>
		.mergely-editor .CodeMirror{line-height:18px;height:auto;width:100%}.mergely-editor .mergely-margin canvas{width:8px}.mergely-editor .mergely-canvas canvas{width:28px}.mergely-editor .CodeMirror-linenumber{cursor:pointer}.mergely-editor .CodeMirror-selected{background:#0f73ff47}.mergely-editor .merge-button{height:18px;cursor:pointer}.mergely-editor .mergely.CodeMirror-linebackground{border-style:solid;border-width:0}.mergely-editor .mergely.start.CodeMirror-linebackground{border-top-width:1px}.mergely-editor .mergely.end.CodeMirror-linebackground{border-bottom-width:1px}.mergely-editor .mergely.no-end.CodeMirror-linebackground{border-bottom-width:0;background-color:initial}.mergely-editor .CodeMirror-code{color:#717171}.mergely-editor .CodeMirror{border:1px solid #ccc}.mergely-editor .mergely.CodeMirror-gutter-background.current{background-color:#777}.mergely-editor .mergely.current .CodeMirror-linenumber{color:#f9f9f9;font-weight:700}.mergely-editor .merge-button{color:#ccc}.mergely-editor .merge-button:hover{color:#666}.mergely-editor .current .merge-button:hover{color:#fff}.mergely-editor .mergely.c.CodeMirror-linebackground{border-color:#a3a3a3;background-color:#fafafa}.mergely-editor .mergely.lhs.d.CodeMirror-linebackground,.mergely-editor .mergely.rhs.a.no-end.CodeMirror-linebackground,.mergely-editor .mergely.rhs.a.no-start.CodeMirror-linebackground{border-color:#ff7f7f}.mergely-editor .mergely.lhs.d.CodeMirror-linebackground{background-color:#ffe9e9}.mergely-editor .mergely.ch.d.lhs,.mergely-editor .mergely.ch.ind.lhs{text-decoration:line-through;color:red}.mergely-editor .mergely.lhs.no-end.CodeMirror-linebackground,.mergely-editor .mergely.lhs.no-start.CodeMirror-linebackground,.mergely-editor .mergely.rhs.a.CodeMirror-linebackground{border-color:#a3d1ff}.mergely-editor .mergely.rhs.a.CodeMirror-linebackground{background-color:#eff7ff}.mergely-editor .mergely.ch.ina.rhs{color:#00f}.mergely-editor .mergely.ch.a.rhs{color:inherit}.mergely-editor .mergely.current.lhs.CodeMirror-linebackground,.mergely-editor .mergely.current.rhs.CodeMirror-linebackground{border-color:#000}.mergely-editor .mergely.no-end.start.CodeMirror-linebackground,.mergely-editor .mergely.no-start.end.CodeMirror-linebackground{background:0 0}
	</style>

    <!--  -->

    <!--  -->

    <!--  -->

    <script src="mergely.js"></script>
    <!-- !!! REMOVE 3 things from the JS code:
 		1 if (NOTICES.indexOf(this.settings.license) < 0) {
		container.addEventListener('updated', () => {
			const noticeTypes = {
				'lgpl': 'GNU LGPL v3.0',
				'gpl': 'GNU GPL v3.0',
				'mpl': 'MPL 1.1'
			};
			let notice = noticeTypes[this.settings.license];
			if (!notice) {
				notice = noticeTypes.lgpl;
			}
			const editor = this._queryElement(`#${this.id}`);
			const splash = dom.getSplash({
				notice,
				left: (editor.offsetWidth - 300) / 2,
				top: (editor.offsetHeight - 58) / 3
			});
			editor.addEventListener('click', () => {
				splash.style.visibility = 'hidden';
				splash.style.opacity = '0';
				splash.style.transition = `visibility 0s 100ms, opacity 100ms linear`;
				setTimeout(() => splash.remove(), 110);
			}, { once: true });
			el.append(splash);
		}, { once: true });
	}

  
  
  	  2 function getSplash({ notice, left, top }) {
          return htmlToElement(`\
<div class="mergely-splash" style="left: ${left}px; top: ${top}px">
	<p>
		<span class="mergely-icon"></span>
		This software is a Combined Work using Mergely and is covered by the
		${notice} license. For the full license, see
		<a target="_blank" href="http://www.mergely.com">http://www.mergely.com/license</a>.
	</p>
</div>`);
        }



        3 getSplash,
-->

    <!--  -->

    <!-- custom styles -->

    <style>
      .buttons-container {
        margin-right: 20px;
        margin-left: 20px;
        margin-bottom: 8px;
      }

      .function-button:hover {
        background-color: var(--button-hover);
        color: var(--button-hover-text);
      }

      /*.function-button.active {
          background-color: #4caf50;
          color: white;
        }*/

      /* Update popup styles */
      #summaryPopup,
      #helpPopup {
        background-color: var(--popup-bg);
        color: var(--popup-text);
      }

      /* only for MOBILE size */
      @media (max-width: 599px) {
        .buttons-container {
          gap: 5px;
          margin-right: 5px;
          margin-left: 5px;
          margin-bottom: 5px;
        }

        .function-button {
          font-size: 14px;
          background-color: var(--button-bg);
          color: var(--button-text);
        }
      }

      /* MERGELY STUFF */

      /* removes strikethrough on lefthand side */
      .mergely-editor .mergely.ch.ind.lhs {
        text-decoration: none;
      }

      #compare {
        height: 88vh;
        /* inherit */
      }

      .CodeMirror {
        /* Set height, width, borders, and global font properties here */
        font-family: inherit;
        /* monospace */
        font-size: 25px;
      }

      .CodeMirror pre.CodeMirror-line {
        line-height: 1.5;
      }

      /* only for MOBILE size */
      @media (max-width: 599px) {
        /* removes purple margin sidebars */
        /*.mergely-editor .mergely-margin canvas*/
        .mergely-margin {
          width: 0;
          /*visibility: hidden;*/ /* this leaves gaps where sidebars would have been */
          /*display: none;*/ /* this removes compare branches as well */
        }

        /* removes line numbers */
        div.CodeMirror-linenumber {
          display: none;
        }
        /* reduces line number width */
        .CodeMirror-linenumbers {
          width: 10px !important;
        }
        /* reduces merge button left right size */
        .merge-button {
          font-size: 15px;
        }
        /* lessens middle gap branch width, reducing width moves it to the left, so had to reduce right margin to balance it */
        #compare-lhs-rhs-canvas {
          width: 22px; /* 28 */
          margin-right: -6px;
        }
      }

      /* gives more width to gutter where line numbers are, otherwise too squashed up */
      /*div.CodeMirror-gutter.CodeMirror-linenumbers*/
      .CodeMirror-linenumbers {
        width: 45px;
      }

      @media (prefers-color-scheme: dark) {
        /* Dark theme overrides for CodeMirror */
        .CodeMirror {
          background-color: var(--color-bg-primary) !important;
          color: var(--color-text-primary) !important;
        }

        .CodeMirror-gutters {
          background-color: var(--color-bg-secondary) !important;
          border-color: var(--color-border) !important;
        }

        .mergely-column .CodeMirror-linenumber {
          color: var(--color-text-secondary) !important;
        }

        /* Dark theme for diff highlights */
        .mergely-editor .mergely.c.CodeMirror-linebackground {
          border-color: var(--color-border);
          background-color: var(--color-bg-secondary);
        }

        /* text color */
        .mergely-editor .CodeMirror-code {
          color: #b0b0b0 !important; /* Dark mode - lighter gray for better contrast */
        }
        /* Change diff colors for dark mode */
        /* .mergely.ch.a { */
        /* Added */
        .mergely-editor .mergely.ch.ina.rhs {
          /* background-color: rgba(76, 175, 80, 0.2) */
          color: #81c784 !important; /* Brighter green for dark mode */
        }

        /* .mergely.ch.d { */
        /* Deleted */
        .mergely-editor .mergely.ch.ind.lhs {
          /* background-color: rgba(244, 67, 54, 0.2) */
          color: #ef5350 !important; /* Brighter red for dark mode */
        }

        /* Changed - this doesnt do anything */
        /* .mergely.ch.c {
            background-color: rgba(255, 152, 0, 0.2) !important;
          } */

        .mergely-editor .mergely.rhs.a.CodeMirror-linebackground {
          background-color: #3f2626 !important;
        }

        /* Change border colors */
        .mergely-column {
          border-color: var(--color-border) !important;
        }

        /* Change active line highlight */
        .CodeMirror-activeline-background {
          background-color: var(--color-bg-tertiary) !important;
        }

        body {
          background-color: var(--color-bg-primary);
        }
      }

      /* Light mode colors */
      /* Added - blue */
      .mergely-editor .mergely.ch.ina.rhs {
        color: #1a1aff; /* Lighter blue */
      }

      /* Deleted - red */
      .mergely-editor .mergely.ch.ind.lhs,
      .mergely-editor .mergely.ch.d.lhs {
        color: #c62828; /* Darker red */
      }
    </style>
    <div class="buttons-container">
      <button
        id="clearContents"
        class="function-button"
        title="Clear the contents"
      >
        Clear ❌
      </button>

      <button
        id="nextDiff"
        class="function-button"
        title="Jump to the next changed block of text"
      >
        Next Diff ▼
      </button>
      <button
        id="prevDiff"
        class="function-button"
        title="Jump to the previous changed block of text"
      >
        ▲ Prev Diff
      </button>

      <button
        id="mergeChangeLeftToRight"
        class="function-button"
        title="Merges the current changed block from left side to right side. Note that you have to have clicked a button to jump to a change first"
      >
        Merge Change L2R ►
      </button>
      <button
        id="mergeChangeRightToLeft"
        class="function-button"
        title="Merges the current changed block from right side to left side. Note that you have to have clicked a button to jump to a change first"
      >
        ◄ Merge Change L2R
      </button>

      <button
        id="mergeFullLeftToRight"
        class="function-button"
        title="Merges the entire left side contents, replacing the right side"
      >
        Merge Full L2R 🔀
      </button>

      <button
        id="mergeFullRightToLeft"
        class="function-button"
        title="Merges the entire right side contents, replacing the left side"
      >
        <span style="display: inline-block; transform: rotate(180deg)">🔀</span>
        Merge Full R2L
      </button>

      <button
        id="swapSides"
        class="function-button"
        title="Swaps the right hand side contents with the left hand side contents"
      >
        Swap Sides 🔄
      </button>

      <button
        id="copyLHS"
        class="function-button"
        title="Copies the contents of the left-hand side"
      >
        Copy L 📋
      </button>
      <button
        id="copyRHS"
        class="function-button"
        title="Copies the contents of the right-hand side"
      >
        <span style="display: inline-block; transform: rotate(180deg)">📋</span>
        Copy R
      </button>

      <button
        id="uploadLeftContent"
        class="function-button"
        title="Select a file and have its contents in the left side. Note: doesn't work on the Android app"
      >
        Load L 📤
      </button>

      <button
        id="uploadRightContent"
        class="function-button"
        title="Select a file and have its contents in the right side. Note: doesn't work on the Android app"
      >
        📤 Load R
      </button>

      <input type="file" id="fileInputLeft" style="display: none" />
      <input type="file" id="fileInputRight" style="display: none" />

      <button
        id="saveLeftContent"
        class="function-button"
        title="Save the left side content as a text file. Note: doesn't work on the Android app"
      >
        Save L 📩
      </button>

      <button
        id="saveRightContent"
        class="function-button"
        title="Save the right side content as a text file. Note: doesn't work on the Android app"
      >
        📩 Save R
      </button>

      <button
        id="goToLeftSideLineNumber"
        class="function-button"
        title="Jumps to the line number on the left side, that was input in the box that shows after this button is clicked the first time"
      >
        L Line No #️⃣
      </button>
      <input
        id="leftLineNumber"
        type="number"
        placeholder="L Line #"
        class="buttonInput input1"
        style="display: none"
        min="1"
      />

      <button
        id="goToRightSideLineNumber"
        class="function-button"
        title="Jumps to the line number on the right side, that was input in the box that shows after this button is clicked the first time"
      >
        #️⃣ R Line No
      </button>
      <input
        id="rightLineNumber"
        type="number"
        placeholder="R Line #"
        class="buttonInput input2"
        style="display: none"
        min="1"
      />

      <!-- -->

      <style>
        .arrow-button {
          cursor: pointer;
          user-select: none;
          display: none;
          margin: 0 2px;
        }
      </style>

      <button
        id="searchLeftSide"
        class="function-button"
        title="Search on the left side"
      >
        L Search 🔍
      </button>
      <span id="leftArrowUp" class="arrow-button" title="Search previous"
        >▲</span
      >
      <input
        id="leftSearchTerm"
        type="text"
        placeholder="Search L"
        class="buttonInput"
        style="display: none"
      />
      <span id="leftArrowDown" class="arrow-button" title="Search next">▼</span>
      <button
        id="searchRightSide"
        class="function-button"
        title="Search on the right side"
      >
        🔍 R Search
      </button>
      <span id="rightArrowUp" class="arrow-button" title="Search previous"
        >▲</span
      >
      <input
        id="rightSearchTerm"
        type="text"
        placeholder="Search R"
        class="buttonInput"
        style="display: none"
      />
      <span id="rightArrowDown" class="arrow-button" title="Search next"
        >▼</span
      >

      <!-- -->
      <button
        id="toggleRTLtoLTR"
        class="function-button"
        title="Toggles text direction. Default is RTL"
      >
        LTR ↔️ RTL
      </button>
      <button
        id="toggleWordWrap"
        class="function-button"
        title="Toggles wrapping text lines. Default is on"
      >
        Wordwrap ↲
      </button>

      <button
        id="toggleIgnoreWhitespace"
        class="function-button"
        title="Toggles ignoring whitespace. Default is off"
      >
        Ignore Spaces ⬜
      </button>

      <button
        id="toggleLineNumbers"
        class="function-button"
        title="Toggles showing line numbers. Default is on. Note this will also toggle merge arrows left and right"
      >
        Line Nos 🔢
      </button>

      <button
        id="toggleMarkup"
        class="function-button"
        title="Toggles the markup/colors that highlight the differences. Default is on"
      >
        Markup 🎨
      </button>

      <button
        id="diffSummary"
        class="function-button"
        title="Shows a statistical summary of the differences"
      >
        Diff Stats 📊
      </button>
      <div
        id="summaryPopup"
        style="display: none; padding-left: 10px; padding-right: 10px"
      >
        Added lines: <span id="addedLines"></span> | Changed lines:
        <span id="changedLines"></span> | Deleted lines:
        <span id="deletedLines"></span> | Left side length:
        <span id="lhsLength"></span> | Right side length:
        <span id="rhsLength"></span> | Total # of changes:
        <span id="totalChanges"></span>
      </div>

      <button
        id="helpExplain"
        class="function-button"
        title="Explains what this page does"
      >
        Help❓
      </button>
      <div
        id="helpPopup"
        style="display: none; padding-left: 10px; padding-right: 10px"
      >
        View differences between two texts, side by side. You can also merge the
        changes you want, to where you want them. Differences in the text are
        colored so you can clearly see what has changed. Catches differences
        even in spaces and filis. Left side should be used for original/old
        text, and right side should be used for new/updated text. Red text shows
        what was removed, blue text shows what was added. There are various
        buttons provided on thss page, which do different functions, hovering
        over them on desktop shows what they do. In the middle of the two texts
        is a gap where lines show which blocks of texts have changed even if
        they are in different places. There are purple margins to the sides of
        each text, where if the text is long enough, these margins can be
        clicked to jump to the relevant place in the text. You can drag and drop
        text files onto either side to place the contents there.
      </div>

      <!-- -->

      <!--
      ADD FONT RESIZER - LATER !!! -->
    </div>

    <div id="compare"></div>
    <script>
      /*const doc = new Mergely("#compare");
        doc.once("updated", () => {
          doc.lhs("the quick red fox\njumped over the hairy dog");
          doc.rhs("the quick brown fox\njumped over the lazy dog");*
          // Scroll to first change on next update
          doc.once("updated", () => {
            doc.scrollToDiff("next");
          });
        });*/

      // https://www.mergely.com/doc

      const doc = new Mergely("#compare", {
        lhs: "عَنْ عَبْدِ اللَّهِ بْنِ عُمَرَ رَضِيَ اللَّهُ عَنْهُ،\nقَالَ رَسُولُ اللَّهِ ﷺ:\n\nޢަބްދު ﷲ ބިން ޢުމަރު رَضِيَ اللَّهُ عَنْهُ ގެ އަރިހުން ރިވާވެގެންވެއެވެ.\nރަސޫލު ﷲ ﷺ ޙަދީޘްކުރެއްވިއެވެ:",
        rhs: "عَنْ ابْنِ عُمَرَ رَضِيَ اللَّهُ عَنْهُمَا،\nيَقُولُ الرَسُولُ:\n\nއިބްނު ޢުމަރު رَضِيَ اللَّهُ عَنْهُمَا ގެ އަރިހުން ރިވާވެފައިވެއެވެ.\nރަސޫލާ ޙަދީޘުކުރެއްވިއެވެ.",

        wrap_lines: true,

        cmsettings: {
          // https://codemirror.net/docs/ref/#view.Direction
          // Flips overall layout and selects base paragraph direction
          /* tried changed this from rtl to ltr, using css instead to do its job, so i can use a toggle button, but other problems came up */
          direction: "rtl",

          // https://codemirror.net/5/doc/manual.html
          // Determines whether horizontal cursor movement through right-to-left
          rtlMoveVisually: true,

          //readOnly: true,
          /* lets select go over change highlights https://github.com/wickedest/Mergely/issues/104 */
          //styleSelectedText: true,
          //autofocus: false,
        },

        //
      });
    </script>

    <!-- custom functions -->
    <script>
      //
      document.getElementById("clearContents").addEventListener("click", () => {
        doc.clear("lhs");
        doc.clear("rhs");
      });
      //

      document.getElementById("nextDiff").addEventListener("click", () => {
        doc.scrollToDiff("next");
      });
      //

      document.getElementById("prevDiff").addEventListener("click", () => {
        doc.scrollToDiff("prev");
      });
      //

      document
        .getElementById("mergeChangeLeftToRight")
        .addEventListener("click", () => {
          doc.mergeCurrentChange("lhs");
        });
      //

      document
        .getElementById("mergeChangeRightToLeft")
        .addEventListener("click", () => {
          doc.mergeCurrentChange("rhs");
        });
      //

      /*
        based on this js:
        function setDirectionClass(cm) {
              (cm.doc.direction == "rtl" ? addClass : rmClass)(
                cm.display.lineDiv,
                "CodeMirror-rtl"
              );
            }
              it seems a class is used to set rtl to codemirror
              toggling that class should toggle rtl
        */
      let isRTL = true; // Initial state for text direction
      document
        .getElementById("toggleRTLtoLTR")
        .addEventListener("click", () => {
          isRTL = !isRTL; // Toggle the RTL state

          // Get all elements with class 'CodeMirror-code'
          document.querySelectorAll(".CodeMirror-code").forEach((element) => {
            if (isRTL) {
              element.classList.add("CodeMirror-rtl");
            } else {
              element.classList.remove("CodeMirror-rtl");
            }
          });
        });
      //

      let wrapLines = true; // Initial state
      document
        .getElementById("toggleWordWrap")
        .addEventListener("click", () => {
          wrapLines = !wrapLines; // Toggle the state
          doc.options({ wrap_lines: wrapLines }); // Set the option
        });
      //

      let ignoreWhitespace = false; // Initial state
      document
        .getElementById("toggleIgnoreWhitespace")
        .addEventListener("click", () => {
          ignoreWhitespace = !ignoreWhitespace; // Toggle the state
          doc.options({ ignorews: ignoreWhitespace }); // Set the option
          //updateButtonStyle("toggleIgnoreWhitespace", ignoreWhitespace);
        });

      // Function to update button style based on state
      /*function updateButtonStyle(buttonId, isActive) {
        const button = document.getElementById(buttonId);
        if (isActive) {
          button.classList.add("active");
        } else {
          button.classList.remove("active");
        }
      }

      // Initial button style setup
      updateButtonStyle("toggleWordWrap", wrapLines);
      updateButtonStyle("toggleIgnoreWhitespace", ignoreWhitespace);
      */
      //

      document.getElementById("swapSides").addEventListener("click", () => {
        doc.swap();
      });
      //

      /* now i want another two buttons
  a button each to copy the contents of each side
  */

      // Function to copy text to clipboard
      async function copyToClipboard(text) {
        try {
          await navigator.clipboard.writeText(text);
          //console.log("Content copied to clipboard");
        } catch (err) {
          //console.error("Failed to copy: ", err);
        }
      }
      //

      document
        .getElementById("mergeFullLeftToRight")
        .addEventListener("click", () => {
          doc.merge("lhs");
        });

      document
        .getElementById("mergeFullRightToLeft")
        .addEventListener("click", () => {
          doc.merge("rhs");
        });
      //

      // Copy Left Side functionality
      document.getElementById("copyLHS").addEventListener("click", () => {
        const leftContent = doc.get("lhs");
        copyToClipboard(leftContent);
      });

      // Copy Right Side functionality
      document.getElementById("copyRHS").addEventListener("click", () => {
        const rightContent = doc.get("rhs");
        copyToClipboard(rightContent);
      });
      //

      let lineNumbers = true; // Initial state
      document
        .getElementById("toggleLineNumbers")
        .addEventListener("click", () => {
          lineNumbers = !lineNumbers; // Toggle the state
          doc.options({ line_numbers: lineNumbers }); // Set the option
        });
      //

      let markUp = true; // Initial state
      document.getElementById("toggleMarkup").addEventListener("click", () => {
        if (markUp) {
          doc.unmarkup(); // Remove markup when markUp is false
        } else {
          doc.update(); // Apply markup when markUp is true
        }
        markUp = !markUp; // Toggle the state
      });

      /*
        this is the documentation:
  summary()
  Gets a summary of the editors. Returns an object with summarized properties:
  Name    Description
  a    The number of added lines.
  c    The number of changed lines.
  d    The number of deleted lines.
  lhsLength    The number of characters in the lhs text.
  rhsLength    The number of characters in the rhs text.
  numChanges    The total number of changed lines.
  Example
  console.log(doc.summary());
  // { a: 0, c: 1, d: 0, lhsLength: 44, rhsLength: 45, numChanges: 1 }
  when i click this button, i want a div to show right after the button, showing the summary in that div
  i prefer html code that is display none, then made to show once the button is clicked
  ...
  
  after that popup has been opened, i want the numbers to update if i change the content
  
  code would use something like 
  
   doc.on("updated", () =>
   */

      // Function to update the summary data
      function updateSummary() {
        const summary = doc.summary();

        document.getElementById("addedLines").textContent = summary.a;
        document.getElementById("changedLines").textContent = summary.c;
        document.getElementById("deletedLines").textContent = summary.d;
        document.getElementById("lhsLength").textContent = summary.lhsLength;
        document.getElementById("rhsLength").textContent = summary.rhsLength;
        document.getElementById("totalChanges").textContent =
          summary.numChanges;
      }

      // Event listener for the button click
      document.getElementById("diffSummary").addEventListener("click", () => {
        const popup = document.getElementById("summaryPopup");

        if (popup.style.display === "none") {
          updateSummary();
          popup.style.display = "block";
        } else {
          popup.style.display = "none";
        }
      });

      // Listen for updates to the doc object
      doc.on("updated", () => {
        if (document.getElementById("summaryPopup").style.display === "block") {
          updateSummary();
        }
      });
      //

      //doc.on("updated", () => console.log("updated!"));
      //doc.on("updated", () => console.log(doc.summary()));

      // Event listener for the button click
      document.getElementById("helpExplain").addEventListener("click", () => {
        const popup = document.getElementById("helpPopup");

        if (popup.style.display === "none") {
          popup.style.display = "block";
        } else {
          popup.style.display = "none";
        }
      });
      //

      const leftLineNumber = document.getElementById("leftLineNumber");
      const rightLineNumber = document.getElementById("rightLineNumber");
      const goToLeftSideLineNumber = document.getElementById(
        "goToLeftSideLineNumber"
      );
      const goToRightSideLineNumber = document.getElementById(
        "goToRightSideLineNumber"
      );

      function scrollToLine(side) {
        const input = side === "left" ? leftLineNumber : rightLineNumber;
        const line = Math.max(1, parseInt(input.value, 10));
        if (!isNaN(line)) {
          doc.scrollTo(side === "left" ? "lhs" : "rhs", line);
          input.value = line; // Update input value if it was below 1
        }
      }

      function setupLineNavigation(button, input, side) {
        button.addEventListener("click", () => {
          if (input.style.display === "none") {
            input.style.display = "inline-block";
            input.focus();
          } else {
            scrollToLine(side);
          }
        });

        input.addEventListener("keydown", (event) => {
          if (event.key === "Enter") {
            scrollToLine(side);
            event.preventDefault(); // Prevent form submission if within a form
          }
        });

        input.addEventListener("change", () => scrollToLine(side));

        // Prevent manual input of values less than 1
        input.addEventListener("input", () => {
          if (input.value < 1) {
            input.value = 1;
          }
        });
      }

      setupLineNavigation(goToLeftSideLineNumber, leftLineNumber, "left");
      setupLineNavigation(goToRightSideLineNumber, rightLineNumber, "right");

      /*const leftLineNumber = document.getElementById("leftLineNumber");
      document
        .getElementById("goToLeftSideLineNumber")
        .addEventListener("click", () => {
          if (leftLineNumber.style.display === "none") {
            // First click: show the input
            leftLineNumber.style.display = "inline-block";
          } else {
            // Subsequent clicks: apply
            const leftLine = parseInt(leftLineNumber.value);
            doc.scrollTo("lhs", leftLine);
          }
        });*/
      //

      const leftSearchTerm = document.getElementById("leftSearchTerm");
      const rightSearchTerm = document.getElementById("rightSearchTerm");
      const searchLeftSide = document.getElementById("searchLeftSide");
      const searchRightSide = document.getElementById("searchRightSide");
      const leftArrowUp = document.getElementById("leftArrowUp");
      const leftArrowDown = document.getElementById("leftArrowDown");
      const rightArrowUp = document.getElementById("rightArrowUp");
      const rightArrowDown = document.getElementById("rightArrowDown");

      function searchTerm(side, direction) {
        const input = side === "left" ? leftSearchTerm : rightSearchTerm;
        const term = input.value.trim();
        if (term) {
          doc.search(side === "left" ? "lhs" : "rhs", term, direction);
        }
      }

      function setupSearch(button, input, side, arrowUp, arrowDown) {
        button.addEventListener("click", () => {
          if (input.style.display === "none") {
            input.style.display = "inline-block";
            arrowUp.style.display = "inline-block";
            arrowDown.style.display = "inline-block";
            input.focus();
          } else {
            searchTerm(side, "next");
          }
        });

        input.addEventListener("keydown", (event) => {
          if (event.key === "Enter") {
            searchTerm(side, "next");
            event.preventDefault();
          }
        });

        arrowUp.addEventListener("click", () => {
          searchTerm(side, "prev");
        });

        arrowDown.addEventListener("click", () => {
          searchTerm(side, "next");
        });
      }

      setupSearch(
        searchLeftSide,
        leftSearchTerm,
        "left",
        leftArrowUp,
        leftArrowDown
      );
      setupSearch(
        searchRightSide,
        rightSearchTerm,
        "right",
        rightArrowUp,
        rightArrowDown
      );
      //

      function handleFileSelect(side) {
        return function (event) {
          const file = event.target.files[0];
          if (!file) {
            return;
          }

          const reader = new FileReader();
          reader.onload = function (e) {
            const content = e.target.result;
            if (side === "left") {
              // Assuming you have a function to set the left content
              setLeftContent(content);
            } else {
              // Assuming you have a function to set the right content
              setRightContent(content);
            }
          };
          reader.readAsText(file);
        };
      }

      document
        .getElementById("uploadLeftContent")
        .addEventListener("click", () => {
          document.getElementById("fileInputLeft").click();
        });

      document
        .getElementById("uploadRightContent")
        .addEventListener("click", () => {
          document.getElementById("fileInputRight").click();
        });

      document
        .getElementById("fileInputLeft")
        .addEventListener("change", handleFileSelect("left"));
      document
        .getElementById("fileInputRight")
        .addEventListener("change", handleFileSelect("right"));

      // Placeholder functions - replace these with your actual implementation

      // Implement your logic to set the left content here
      function setLeftContent(content) {
        //console.log("Setting left content:", content);
        doc.lhs(content);
      }

      // Implement your logic to set the right content here
      function setRightContent(content) {
        //console.log("Setting right content:", content);
        doc.rhs(content);
      }
      //

      /*
      so this is my code:
      ...
      the above code generates via js the following elements:
      ...
      what i want is
if a file were to be drag and dropped onto #compare > .mergely-editor > .CodeMirror.cm-s-default:nth-child(3), i want the contents to be shown in the left hand side

and if a file were to be drag and dropped onto #compare > .mergely-editor > .CodeMirror.cm-s-default:nth-child(6), i want the content to be shown in the right hand side
      */

      function saveContent(side) {
        const content = doc.get(side);
        const blob = new Blob([content], { type: "text/plain" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = side === "lhs" ? "left_content.txt" : "right_content.txt";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      }

      document
        .getElementById("saveLeftContent")
        .addEventListener("click", () => {
          saveContent("lhs");
        });

      document
        .getElementById("saveRightContent")
        .addEventListener("click", () => {
          saveContent("rhs");
        });
      //

      const leftEditor = document.querySelector(
        "#compare > .mergely-editor > .CodeMirror.cm-s-default:nth-child(3)"
      );
      const rightEditor = document.querySelector(
        "#compare > .mergely-editor > .CodeMirror.cm-s-default:nth-child(6)"
      );

      setupDragAndDrop(leftEditor, setLeftContent);
      setupDragAndDrop(rightEditor, setRightContent);

      function setupDragAndDrop(element, setContentFunction) {
        ["dragenter", "dragover", "dragleave", "drop"].forEach((eventName) => {
          element.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
          e.preventDefault();
          e.stopPropagation();
        }

        element.addEventListener("drop", handleDrop, false);

        function handleDrop(e) {
          const dt = e.dataTransfer;
          const file = dt.files[0];

          const reader = new FileReader();
          reader.onload = function (event) {
            setContentFunction(event.target.result);
          };
          reader.readAsText(file);
        }
      }

      function setLeftContent(content) {
        doc.lhs(content);
      }

      function setRightContent(content) {
        doc.rhs(content);
      }
      //
    </script>

    <!-- -->

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-HL24Q9NN24"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-HL24Q9NN24");
    </script>
    <!-- End Google Analytics -->
  </body>
</html>

<!-- 

for minification scripting:


in this directory, is a folder called "diffCompare"
in that sub directory, are the following:
cdn-custom.html
mergely.js

now what i want is for you to 

make a copy of the content of "cdn-custom.html", without changing the actual file itself
change the following link tag urls from that content:
../../
to
../

also change this tag
<script src="mergely.js"></script>
to
<script src="diffCompare.min.js"></script>

then that content should be saved into a file called "diffCompare.html", which should be then placed in "../page/diffCompare.html"

then minify that content with just html-minifier

also minify the content of
"mergely.js"
with Google Closure Compiler and Terser
and save it as
"../page/diffCompare.min.js"

every time this script is run, the contents of diffCompare.html and mergely.min.js should be overwritten

-->
