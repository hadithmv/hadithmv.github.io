document.addEventListener("DOMContentLoaded",(()=>{function e(){const e=this.value;g.value=e,v.value=e,p.style.fontSize=`${e}px`}function t(){var e=p.value;const t=e.trim()?e.trim().split(/\s+/).length:0,a=e?e.split("\n").length:0;y.textContent=`Char: ${e.length}`,b.textContent=`Wrd: ${t}`,h.textContent=`Ln: ${a}`,e=new Blob([e]).size,E.textContent=1024>e?`B: ${e}`:1048576>e?`KB: ${(e/1024).toFixed(2)}`:1073741824>e?`MB: ${(e/1048576).toFixed(2)}`:`GB: ${(e/1073741824).toFixed(2)}`}function a(e){I[$-1].content=p.value,$=e,p.value=I.find((t=>t.id===e)).content,document.querySelectorAll(".numbered-tab").forEach((t=>{t.classList.toggle("active",parseInt(t.dataset.tab)===e)})),t()}function n(){p.style.direction="ltr",p.style.textAlign="left"}function r(){window.scrollTo({top:0,behavior:"smooth"})}function l(){document.querySelectorAll(".dropdown-content").forEach((e=>{e.classList.remove("show")}))}function o(){const e=new Date,t="true"===localStorage.getItem("militaryTime"),a=e.getHours()%12||12,n=String(e.getHours()).padStart(2,"0");var r=t?n:a;const l=12<=e.getHours()?"PM":"AM";String(e.getMinutes()).padStart(2,"0");var o=e.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"});o=o.replace(/^(\w+)\s+(\d+)/,((e,t,a)=>`${t}, ${a}${["th","st","nd","rd"][3<a%10?0:a%10]}`)),document.getElementById("gregorianLongEn").textContent=`${o}, at ${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":" "+l}`,o="ﬁáﬁßﬁãﬁ©ﬁáﬁ∞ﬁåﬁ¶ ﬁÄﬁØﬁâﬁ¶ ﬁáﬁ¶ﬁÇﬁ∞ﬁéﬁßﬁÉﬁ¶ ﬁÑﬁ™ﬁãﬁ¶ ﬁÑﬁ™ﬁÉﬁßﬁêﬁ∞ﬁäﬁ¶ﬁåﬁ® ﬁÄﬁ™ﬁÜﬁ™ﬁÉﬁ™ ﬁÄﬁÆﬁÇﬁ®ﬁÄﬁ®ﬁÉﬁ™".split(" ");const c=t?"":12<=e.getHours()?"ﬁâﬁ¨ﬁÇﬁãﬁ™ﬁÉﬁ™ﬁäﬁ¶ﬁêﬁ∞":"ﬁâﬁ¨ﬁÇﬁãﬁ™ﬁÉﬁ™ﬁÜﬁ™ﬁÉﬁ®";r=`${o[e.getDay()]}ÿå ${e.getDate()} ${"ﬁñﬁ¶ﬁÇﬁ¶ﬁàﬁ¶ﬁÉﬁ© ﬁäﬁ¨ﬁÑﬁ™ﬁÉﬁ™ﬁàﬁ¶ﬁÉﬁ© ﬁâﬁßﬁÉﬁ®ﬁóﬁ™ ﬁáﬁ¨ﬁïﬁ∞ﬁÉﬁ©ﬁçﬁ∞ ﬁâﬁ≠ ﬁñﬁ´ﬁÇﬁ∞ ﬁñﬁ™ﬁçﬁ¶ﬁáﬁ® ﬁáﬁÆﬁéﬁ¶ﬁêﬁ∞ﬁìﬁ™ ﬁêﬁ¨ﬁïﬁ∞ﬁìﬁ¨ﬁÇﬁ∞ﬁÑﬁ¶ﬁÉﬁ™ ﬁáﬁÆﬁÜﬁ∞ﬁìﬁ´ﬁÑﬁ¶ﬁÉﬁ™ ﬁÇﬁÆﬁàﬁ¨ﬁÇﬁ∞ﬁÑﬁ¶ﬁÉﬁ™ ﬁëﬁ®ﬁêﬁ¨ﬁÇﬁ∞ﬁÑﬁ¶ﬁÉﬁ™".split(" ")[e.getMonth()]} ${e.getFullYear()}ÿå ${r}:${String(e.getMinutes()).padStart(2,"0")}${t?"":" "+c}`,document.getElementById("gregorianLongDv").textContent=r,r=(r=e.toLocaleDateString("ar",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0,hour12:!t})).replace(/(\d{4})\s*ÿå?\s*ŸÅŸä/,"$1ÿå ŸÅŸä").replace(/\s+ÿå/g,"ÿå").replace(/\d{1,2}:\d{2}\s*[ÿµŸÖ]/,`${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":12<=e.getHours()?" ŸÖ":" ÿµ"}`),document.getElementById("gregorianLongAr").textContent=r;try{const r={"ŸÖÿ≠ÿ±ŸÖ":["Muharram","ﬁâﬁ™ﬁôﬁ¶ﬁáﬁ∞ﬁÉﬁ¶ﬁâﬁ∞"],"ÿµŸÅÿ±":["Safar","ﬁûﬁ¶ﬁäﬁ¶ﬁÉﬁ™"],"ÿ±ÿ®Ÿäÿπ ÿßŸÑÿ£ŸàŸÑ":["Rabi' al-Awwal","ﬁÉﬁ¶ﬁÑﬁ©ﬁ¢ﬁ™ﬁçﬁ∞ﬁáﬁ¶ﬁáﬁ∞ﬁàﬁ¶ﬁçﬁ∞"],"ÿ±ÿ®Ÿäÿπ ÿßŸÑÿ¢ÿÆÿ±":["Rabi' ath-Thani","ﬁÉﬁ¶ﬁÑﬁ©ﬁ¢ﬁ™ﬁçﬁ∞ﬁáﬁßﬁöﬁ®ﬁÉﬁ™"],"ÿ¨ŸÖÿßÿØŸâ ÿßŸÑÿ£ŸàŸÑŸâ":["Jumada al-Awwal","ﬁñﬁ™ﬁâﬁßﬁãﬁ¶ﬁçﬁ∞ﬁáﬁ´ﬁçﬁß"],"ÿ¨ŸÖÿßÿØŸâ ÿßŸÑÿ¢ÿÆÿ±ÿ©":["Jumada ath-Thani","ﬁñﬁ™ﬁâﬁßﬁãﬁ¶ﬁçﬁ∞ﬁáﬁßﬁöﬁ®ﬁÉﬁß"],"ÿ±ÿ¨ÿ®":["Rajab","ﬁÉﬁ¶ﬁñﬁ¶ﬁÑﬁ™"],"ÿ¥ÿπÿ®ÿßŸÜ":["Sha'ban","ﬁùﬁ¶ﬁ¢ﬁ™ﬁÑﬁßﬁÇﬁ∞"],"ÿ±ŸÖÿ∂ÿßŸÜ":["Ramadan","ﬁÉﬁ¶ﬁâﬁ¶ﬁüﬁßﬁÇﬁ∞"],"ÿ¥ŸàÿßŸÑ":["Shawwal","ﬁùﬁ¶ﬁáﬁ∞ﬁàﬁßﬁçﬁ∞"],"ÿ∞Ÿà ÿßŸÑŸÇÿπÿØÿ©":["Dhul-Qa'dah","ﬁõﬁ™ﬁçﬁ∞ﬁéﬁ¶ﬁ¢ﬁ®ﬁãﬁß"],"ÿ∞Ÿà ÿßŸÑÿ≠ÿ¨ÿ©":["Dhul-Hijjah","ﬁõﬁ™ﬁçﬁ∞ﬁôﬁ®ﬁáﬁ∞ﬁñﬁß"]},s=new Intl.DateTimeFormat("ar-TN-u-ca-islamic",{weekday:"long",day:"numeric",month:"long",year:"numeric",calendar:"islamic"}).format(e),u=`ÿå ŸÅŸä ${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":12<=e.getHours()?" ŸÖ":" ÿµ"}`;document.getElementById("hijriLongAr").textContent=s.replace(/ŸáŸÄ/,"").replace(/\s+ÿå/g,"ÿå").replace(/\s+$/,"")+u;const i=new Intl.DateTimeFormat("ar-u-ca-islamic-umalqura",{weekday:"long",day:"numeric",month:"long",year:"numeric",calendar:"islamic"}).formatToParts(e),d={"ÿßŸÑÿ£ÿ≠ÿØ":"Sunday","ÿßŸÑÿßÿ´ŸÜŸäŸÜ":"Monday","ÿßŸÑÿ´ŸÑÿßÿ´ÿßÿ°":"Tuesday","ÿßŸÑÿ£ÿ±ÿ®ÿπÿßÿ°":"Wednesday","ÿßŸÑÿÆŸÖŸäÿ≥":"Thursday","ÿßŸÑÿ¨ŸÖÿπÿ©":"Friday","ÿßŸÑÿ≥ÿ®ÿ™":"Saturday"};let m,p,g,v,y,b,h;i.forEach((e=>{if("weekday"===e.type&&(m=d[e.value]||e.value),"day"===e.type&&(p=e.value),"month"===e.type){var t=e.value;g=r[t]?.[0]||t}"year"===e.type&&(v=e.value)})),document.getElementById("hijriLongEn").textContent=`${m}, ${parseInt(p)} ${g} ${v} AH, at ${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":" "+l}`,i.forEach((e=>{if("day"===e.type&&(y=e.value),"month"===e.type){var t=e.value;b=r[t]?.[1]||t}"year"===e.type&&(h=e.value)})),document.getElementById("hijriLongDv").textContent=`${o[e.getDay()]}ÿå ${parseInt(y)} ${b} ${h}ÿå ${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":" "+c}`;const E=new Intl.DateTimeFormat("en-u-ca-islamic",{day:"numeric",month:"numeric",year:"numeric",calendar:"islamic"}).format(e).replace(/[^0-9/]/g,"");document.getElementById("hijriShort").textContent=`${E} ${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":" "+l}`}catch(e){console.error("Error formatting Hijri dates:",e),["hijriLongAr","hijriLongEn","hijriLongDv","hijriShort"].forEach((e=>{document.getElementById(e).textContent="Hijri date unavailable"}))}document.getElementById("gregorianShort").textContent=`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()} ${t?n:a}:${String(e.getMinutes()).padStart(2,"0")}${t?"":" "+l}`}function c(e,t){const a=document.createElement("span");a.textContent=t,a.className="copy-feedback",e.appendChild(a),e.classList.add("copy-success"),setTimeout((()=>{a.remove(),e.classList.remove("copy-success")}),1e3)}function s(){var e=document.getElementById("maghribTime"),t=document.getElementById("fajrTime");if(e.value&&t.value){e=u(e.value),(t=u(t.value))<e&&(t+=1440);var a=t-e;t=e+a/2;var n=e+a/3;e+=2*a/3,document.getElementById("midnightTime").textContent=i(t),document.getElementById("secondThirdTime").textContent=i(n),document.getElementById("lastThirdTime").textContent=i(e)}}function u(e){const[t,a]=e.split(":").map(Number);return 60*t+a}function i(e){e=Math.round(e),e%=1440;const t=Math.floor(e/60);if(e%=60,le)return`${String(t).padStart(2,"0")}:${String(e).padStart(2,"0")}`;const a=12<=t?"PM":"AM";return`${t%12||12}:${String(e).padStart(2,"0")} ${a}`}const d=document.querySelectorAll(".top-tab"),m=document.querySelectorAll(".tab-content"),p=document.getElementById("textArea"),g=document.getElementById("fontSizeSlider"),v=document.getElementById("fontSize"),y=document.getElementById("charCount"),b=document.getElementById("wordCount"),h=document.getElementById("lineCount"),E=document.getElementById("fileSize"),f=document.getElementById("addTab"),k=document.querySelector(".numbered-tabs");let $=1,I=[{id:1,content:""}];d.forEach((e=>{e.addEventListener("click",(()=>{d.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),m.forEach((t=>{t.classList.remove("active"),t.id===`${e.dataset.tab}Tab`&&t.classList.add("active")}))}))})),g.addEventListener("input",e),v.addEventListener("change",e),v.addEventListener("click",(function(){})),p.addEventListener("input",function(e){let t;return function(...a){clearTimeout(t),t=setTimeout((()=>{clearTimeout(t),e(...a)}),300)}}(t)),f.addEventListener("click",(()=>{const e=I.length+1;I.push({id:e,content:""});const t=document.createElement("button");t.classList.add("numbered-tab"),t.dataset.tab=e,t.textContent=e,k.insertBefore(t,f),a(e)})),k.addEventListener("click",(e=>{e.target.classList.contains("numbered-tab")&&a(parseInt(e.target.dataset.tab))})),document.querySelectorAll(".dropdown-button").forEach((e=>{const a=e.querySelector(".function-button"),o=e.querySelector(".dropdown-content");a.addEventListener("click",(e=>{e.stopPropagation(),l(),o.classList.toggle("show")})),o.addEventListener("click",(e=>{e.stopPropagation(),"BUTTON"===e.target.tagName&&e.target.dataset.action&&(function(e){switch(e){case"arabicToRegular":p.value=p.value.replace(/[Ÿ†Ÿ°Ÿ¢Ÿ£Ÿ§Ÿ•Ÿ¶ŸßŸ®Ÿ©]/g,(e=>"Ÿ†Ÿ°Ÿ¢Ÿ£Ÿ§Ÿ•Ÿ¶ŸßŸ®Ÿ©".indexOf(e)));break;case"regularToArabic":p.value=p.value.replace(/[0-9]/g,(e=>"Ÿ†Ÿ°Ÿ¢Ÿ£Ÿ§Ÿ•Ÿ¶ŸßŸ®Ÿ©"[e]));case"convertNumerals":var a={regular:"0123456789",arabic:"Ÿ†Ÿ°Ÿ¢Ÿ£Ÿ§Ÿ•Ÿ¶ŸßŸ®Ÿ©",superscript:"‚Å∞¬π¬≤¬≥‚Å¥‚Åµ‚Å∂‚Å∑‚Å∏‚Åπ",mathSansSerif:"ùü¢ùü£ùü§ùü•ùü¶ùüßùü®ùü©ùü™ùü´",mathSansSerifBold:"ùü¨ùü≠ùüÆùüØùü∞ùü±ùü≤ùü≥ùü¥ùüµ",fullWidth:"ÔºêÔºëÔºíÔºìÔºîÔºïÔºñÔºóÔºòÔºô",circled:"‚ì™‚ë†‚ë°‚ë¢‚ë£‚ë§‚ë•‚ë¶‚ëß‚ë®",negativeCircled:"‚ìø‚ù∂‚ù∑‚ù∏‚ùπ‚ù∫‚ùª‚ùº‚ùΩ‚ùæ"};const c=a[document.getElementById("numeralFrom").value],s=a[document.getElementById("numeralTo").value];p.value=p.value.replace(/[0-9]/g,(e=>{const t=c.indexOf(e);return-1!==t?s[t]:e}));break;case"removePrecedingZeros":p.value=p.value.replace(/\b0+(\d)/g,"$1");break;case"removeAllNumbers":p.value=p.value.replace(/[Ÿ†-Ÿ©0-9]/g,"");break;case"keepOnlyNumbers":p.value=p.value.replace(/[^Ÿ†-Ÿ©0-9]/g,"");break;case"rtlStraightToCurly":case"ltrStraightToCurly":a="rtlStraightToCurly"===e,p.value=p.value.replace(/(\W|^)"(\S)/g,`$1${a?"‚Äù":"‚Äú"}$2`).replace(new RegExp(`(${a?"‚Äù":"‚Äú"}[^"]*)"([^"]*$|[^${a?"‚Äù":"‚Äú"}"]*${a?"‚Äù":"‚Äú"})`,"g"),`$1${a?"‚Äú":"‚Äù"}$2`).replace(/([^0-9])"/g,"$1"+(a?"‚Äú":"‚Äù")).replace(/(\W|^)'(\S)/g,`$1${a?"‚Äô":"‚Äò"}$2`).replace(/([a-z])'([a-z])/gi,"$1‚Äò$2").replace(/((\u2019[^']*)|[a-z])'([^0-9]|$)/gi,`$1${a?"‚Äò":"‚Äô"}$3`).replace(/(\u2019)([0-9]{2}[^\u2018]*)(\u2019([^0-9]|$)|$|\u2018[a-z])/gi,"‚Äò$2$3").replace(/(\B|^)\u2019(?=([^\u2018]*\u2018\b)*([^\u2018\u2019]*\W[\u2018\u2019]\b|[^\u2018\u2019]*$))/gi,"$1‚Äò").replace(/'''/g,"‚Ä¥").replace(/''/g,"‚Ä≥").replace(/'/g,"‚Ä≤");break;case"curlyToStraight":p.value=p.value.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"');break;case"reverseCurlyQuotes":p.value=p.value.replace(/‚Äú|‚Äù/g,(e=>"‚Äú"===e?"‚Äù":"‚Äú")).replace(/‚Äò|‚Äô/g,(e=>"‚Äò"===e?"‚Äô":"‚Äò")).replace(/‚ùù|‚ùû/g,(e=>"‚ùù"===e?"‚ùû":"‚ùù")).replace(/\ud83d\ude76|\ud83d\ude77/g,(e=>"üô∑"));break;case"convertQuotes":var l={straightSingle:["'","'"],straightDouble:['"','"'],ltrCurlyDouble:["‚Äú","‚Äù"],rtlCurlyDouble:["‚Äù","‚Äú"],ltrCurlySingle:["‚Äò","‚Äô"],rtlCurlySingle:["‚Äô","‚Äò"],angleQuotes:["¬´","¬ª"],doubleBrackets:["((","))"],heavyCommaQuotes:["‚ùù","‚ùû"],sansSerifHeavyCommaQuotes:["üô∂","üô∑"]};a=l[document.getElementById("quoteFrom").value],l=l[document.getElementById("quoteTo").value];var o=a[0].replace(/[.*+?^${}()|[\]\\]/g,"\\$&");a=a[1].replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),p.value=p.value.replace(new RegExp(`${o}([^${a}]*)${a}`,"g"),`${l[0]}$1${l[1]}`);break;case"removeJsComments":p.value=p.value.replace(/\/\*[\s\S]*?\*\/|\/\/.*/g,""),n();break;case"removeHtmlComments":p.value=p.value.replace(/\x3c!--[\s\S]*?--\x3e/g,""),n();break;case"removeCssComments":p.value=p.value.replace(/\/\*[\s\S]*?\*\//g,""),n();break;case"removePowershellComments":p.value=p.value.replace(/#.*$/gm,"").replace(/<#[\s\S]*?#>/g,""),n();break;case"removePythonComments":p.value=p.value.replace(/#.*$/gm,"").replace(/'''[\s\S]*?'''|"""[\s\S]*?"""/g,""),n();break;case"removePhpComments":p.value=p.value.replace(/\/\*[\s\S]*?\*\/|\/\/.*|#.*$/gm,""),n();break;case"removeCComments":p.value=p.value.replace(/\/\*[\s\S]*?\*\/|\/\/.*/g,""),n();break;case"removeCSharpComments":p.value=p.value.replace(/\/\*[\s\S]*?\*\/|\/\/\/.*|\/\/.*/g,""),n();break;case"removeJavaComments":p.value=p.value.replace(/\/\*[\s\S]*?\*\/|\/\*\*[\s\S]*?\*\/|\/\/.*/g,""),n();break;case"removeRubyComments":p.value=p.value.replace(/#.*$/gm,"").replace(/^=begin[\s\S]*?^=end/gm,""),n();break;case"removeBashComments":p.value=p.value.replace(/#.*$/gm,""),n();break;case"removeGoComments":p.value=p.value.replace(/\/\*[\s\S]*?\*\/|\/\/.*/g,""),n();break;case"removeRustComments":p.value=p.value.replace(/\/\*[\s\S]*?\*\/|\/\/!.*|\/\/.*/g,""),n();break;case"removeSwiftComments":p.value=p.value.replace(/\/\*[\s\S]*?\*\/|\/\/\/.*|\/\/.*/g,""),n();break;case"removeKotlinComments":p.value=p.value.replace(/\/\*[\s\S]*?\*\/|\/\*\*[\s\S]*?\*\/|\/\/.*/g,""),n();break;case"removeDartComments":p.value=p.value.replace(/\/\*[\s\S]*?\*\/|\/\/\/.*|\/\/.*/g,""),n();break;case"removeSqlComments":p.value=p.value.replace(/\/\*[\s\S]*?\*\/|--.*$/gm,""),n();break;case"textToParagraphs":p.value=p.value.split("\n").filter((e=>e.trim())).map((e=>`<p>${e}</p>`)).join("\n"),n();break;case"textToBrTags":p.value=p.value.split("\n").join("<br>\n"),n();break;case"textToOrderedList":p.value="<ol>\n"+p.value.split("\n").filter((e=>e.trim())).map((e=>`  <li>${e}</li>`)).join("\n")+"\n</ol>",n();break;case"textToUnorderedList":p.value="<ul>\n"+p.value.split("\n").filter((e=>e.trim())).map((e=>`  <li>${e}</li>`)).join("\n")+"\n</ul>",n();break;case"removeHtmlTags":p.value=p.value.replace(/<[^>]*>/g,"");break;case"removeArabicDiacritics":p.value=p.value.replace(/[\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/g,"");break;case"removeDhivehiFili":p.value=p.value.replace(/[\u07A6-\u07B0]/g,"");break;case"removeThikijehiThaana":const u={"ﬁò":"ﬁê","ﬁô":"ﬁÄ","ﬁõ":"ﬁí","ﬁú":"ﬁí","ﬁû":"ﬁê","ﬁ†":"ﬁå","ﬁ°":"ﬁí","ﬁ¢":"ﬁá","ﬁ§":"ﬁé","ﬁ•":"ﬁà"};p.value=p.value.replace(/[ﬁòﬁôﬁõﬁúﬁûﬁ†ﬁ°ﬁ¢ﬁ§ﬁ•]/g,(e=>u[e]||e));break;case"saveFile":a=new Blob([p.value],{type:"text/plain;charset=utf-8"}),(l=document.createElement("a")).href=URL.createObjectURL(a),l.download="saved_text.txt",l.click();break;case"loadFile":(a=document.createElement("input")).type="file",a.accept="text/plain",a.onchange=e=>{e=e.target.files[0];const a=new FileReader;a.onload=e=>{p.value=e.target.result,t()},a.readAsText(e)},a.click();break;case"titleCase":p.value=p.value.replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()));break;case"sentenceCase":p.value=p.value.toLowerCase().replace(/(^\w|\.\s+\w)/g,(e=>e.toUpperCase()));break;case"lowercase":p.value=p.value.toLowerCase();break;case"UPPERCASE":p.value=p.value.toUpperCase();break;case"alternatingCase":p.value=p.value.split("").map(((e,t)=>0==t%2?e.toLowerCase():e.toUpperCase())).join("");break;case"inverseCase":p.value=p.value.split("").map((e=>e===e.toUpperCase()?e.toLowerCase():e.toUpperCase())).join("");break;case"randomCase":p.value=p.value.split("").map((e=>.5<Math.random()?e.toUpperCase():e.toLowerCase())).join("");break;case"camelCase":p.value=p.value.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,((e,t)=>t.toUpperCase()));break;case"pascalCase":p.value=p.value.toLowerCase().replace(/(^|[^a-zA-Z0-9]+)(.)/g,((e,t,a)=>a.toUpperCase()));break;case"snakeCase":p.value=p.value.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"_").replace(/^_+|_+$/g,"");break;case"constantCase":p.value=p.value.toUpperCase().replace(/[^A-Z0-9]+/g,"_").replace(/^_+|_+$/g,"");break;case"kebabCase":p.value=p.value.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-").replace(/^-+|-+$/g,"");break;case"dotCase":p.value=p.value.toLowerCase().replace(/[^a-zA-Z0-9]+/g,".").replace(/^\.+|\.+$/g,"");break;case"flatcase":p.value=p.value.toLowerCase().replace(/[^a-zA-Z0-9]+/g,"");break;case"splitIntoWords":p.value=p.value.split(/\s+/).filter((e=>0<e.length)).join("\n");break;case"sortWordsByFrequency":r();const i={};(p.value.toLowerCase().match(/\b[\w']+\b/g)||[]).forEach((e=>{i[e]=(i[e]||0)+1})),a=Object.entries(i).sort(((e,t)=>t[1]-e[1])).map((([e,t])=>`${t}: ${e}`)),p.value=a.join("\n");break;case"sortLinesByFrequency":r();const d={};p.value.split("\n").filter((e=>""!==e.trim())).forEach((e=>{d[e]=(d[e]||0)+1})),a=Object.entries(d).sort(((e,t)=>t[1]-e[1])).map((([e,t])=>`${t}: ${e}`)),p.value=a.join("\n");break;case"sortLinesAscending":p.value=p.value.split("\n").sort(((e,t)=>e.localeCompare(t))).join("\n");break;case"sortLinesDescending":p.value=p.value.split("\n").sort(((e,t)=>t.localeCompare(e))).join("\n");break;case"randomizeLines":p.value=p.value.split("\n").sort((()=>Math.random()-.5)).join("\n");break;case"removeDuplicateLines":p.value=[...new Set(p.value.split("\n"))].join("\n");break;case"reverseTextHorizontal":p.value=p.value.split("").reverse().join("");break;case"reverseTextVertical":p.value=p.value.split("\n").reverse().join("\n");break;case"addLineNumbers":const m=document.getElementById("addNumbersWith").value;a=p.value.split("\n").map(((e,t)=>`${t+1}${m} ${e}`)),p.value=a.join("\n");break;case"removeLineNumbers":l=document.getElementById("removeNumbersWith").value,a=p.value.split("\n"),l=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");const g=new RegExp(`^\\d+${l}\\s+`);a=a.map((e=>e.replace(g,""))),p.value=a.join("\n");break;case"decodeUnicode":p.value=p.value.replace(/\\u([0-9a-fA-F]{4})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})),n();break;case"encodeUnicode":p.value=p.value.replace(/[\s\S]/g,(function(e){for(e=e.charCodeAt(0).toString(16);4>e.length;)e="0"+e;return"\\u"+e})),n();break;case"decodeURL":try{p.value=decodeURI(p.value)}catch(e){alert("Invalid URL encoding")}n();break;case"encodeURL":p.value=encodeURI(p.value),n();break;case"whichUnicodeCharacter":for(a=p.value,l="",o=0;o<a.length;o++){const e=a.codePointAt(o),t=`https://codepoints.net/U+${e.toString(16).toUpperCase().padStart(4,"0")}`;l+=`U+${e.toString(16).toUpperCase().padStart(4,"0")} : ${a[o]} : ${t}\n`,65535<e&&o++}p.value=l,n();break;case"convertBrackets":const v=(a={round:["(",")"],square:["[","]"],superscript:["‚ÅΩ","‚Åæ"],corner:["‚åú","‚åù"]})[document.getElementById("bracketFrom").value],y=a[document.getElementById("bracketTo").value],b=document.getElementById("bracketDirection").value,h=document.getElementById("bracketTo").value;document.getElementById("bracketFrom"),p.value=p.value.replace(new RegExp(`\\${v[0]}|\\${v[1]}`,"g"),(e=>"rtl"===b&&"corner"===h?e===v[0]?y[1]:y[0]:e===v[0]?y[0]:y[1]));break;case"reverseBracketDirection":const E={"(":")",")":"(","[":"]","]":"[","‚ÅΩ":"‚Åæ","‚Åæ":"‚ÅΩ","‚åú":"‚åù","‚åù":"‚åú"};p.value=p.value.replace(/[()[\]‚ÅΩ‚Åæ‚åú‚åù]/g,(e=>E[e]));break;case"convertNumberBrackets":const f={0:"‚Å∞",1:"¬π",2:"¬≤",3:"¬≥",4:"‚Å¥",5:"‚Åµ",6:"‚Å∂",7:"‚Å∑",8:"‚Å∏",9:"‚Åπ"},k=(a={none:["",""],round:["(",")"],square:["[","]"],superscript:["‚ÅΩ","‚Åæ"]})[document.getElementById("numberBracketFrom").value],$=a[document.getElementById("numberBracketTo").value],I=document.getElementById("numberBracketTo").value;a=p.value,k[0]&&(a=a.replace(new RegExp(`\\${k[0]}\\d+\\${k[1]}`,"g"),(e=>e.slice(k[0].length,-k[1].length)))),$[0]&&(a=a.replace(/\d+/g,(e=>(e="superscript"===I?e.split("").map((e=>f[e])).join(""):e,`${$[0]}${e}${$[1]}`)))),p.value=a;break;case"removeNumberBrackets":a={round:["(",")"],square:["[","]"],superscript:["‚ÅΩ","‚Åæ"],none:["",""]}[document.getElementById("numberBracketRemove").value],p.value=p.value.replace(new RegExp(`\\${a[0]}\\d+\\${a[1]}`,"g"),""),t();break;case"keepOnlyDhivehi":p.value=p.value.replace(/[^\u0780-\u07BF\s]/g,"");break;case"removeAllDhivehi":p.value=p.value.replace(/[\u0780-\u07BF]/g,"");break;case"keepOnlyArabic":p.value=p.value.replace(/[^\u0600-\u06ff\u0750-\u077f\ufb50-\ufbc1\ufbd3-\ufd3f\ufd50-\ufd8f\ufd92-\ufdc7\ufe70-\ufefc\uFDF0-\uFDFD\s]/g,"");break;case"removeAllArabic":p.value=p.value.replace(/[\u0600-\u06ff\u0750-\u077f\ufb50-\ufbc1\ufbd3-\ufd3f\ufd50-\ufd8f\ufd92-\ufdc7\ufe70-\ufefc\uFDF0-\uFDFD]/g,"");break;case"keepOnlyEnglish":p.value=p.value.replace(/[^A-Za-z\s]/g,"");break;case"removeAllEnglish":p.value=p.value.replace(/[A-Za-z]/g,"");break;case"removeSpacesAndSingleLines":p.value=p.value.replace(/^ +| +$/gm,"").replace(/ +/g," ").trim().replace(/\n{2,}/g,"\n");break;case"removeSpacesAndDoubleLines":p.value=p.value.replace(/^ +| +$/gm,"").replace(/ +/g," ").trim().replace(/\n{3,}/g,"\n\n");break;case"wordWrap":p.value=p.value.replace(/\s+/g," ").trim();break;case"removeExtraSpacesOnly":p.value=p.value.replace(/^ +| +$/gm,"").replace(/ +/g," ").trim();break;case"removeSingleLinesOnly":p.value=p.value.trim().replace(/\n{2,}/g,"\n");break;case"removeDoubleLinesOnly":p.value=p.value.trim().replace(/\n{3,}/g,"\n\n");break;case"dotsToEllipsis":p.value=p.value.replace(/\.{3}/g,"‚Ä¶");break;case"ellipsisToDots":p.value=p.value.replace(/‚Ä¶/g,"...");break;case"convertDashes":a=(l={hyphen:"-",en:"‚Äì",em:"‚Äî"})[document.getElementById("dashFrom").value],l=l[document.getElementById("dashTo").value],p.value=p.value.replace(new RegExp(a,"g"),l);break;case"convertSalawat":a=(l={plain:"ÿµŸÑŸâ ÿßŸÑŸÑŸá ÿπŸÑŸäŸá Ÿàÿ≥ŸÑŸÖ",symbol:"Ô∑∫",tashkeel:"ÿµŸéŸÑŸéŸëŸâ ÿßŸÑŸÑŸáŸè ÿπŸéŸÑŸéŸäŸíŸáŸê ŸàŸéÿ≥ŸéŸÑŸéŸëŸÖŸé"})[document.getElementById("salawatFrom").value],l=l[document.getElementById("salawatTo").value],a=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),p.value=p.value.replace(new RegExp(a,"g"),l);break;case"removeKashidas":p.value=p.value.replace(/ŸÄ/g,"");break;case"shaddaB4Haraka":p.value=p.value.replace(RegExp("([ŸãŸåŸçŸéŸèŸêŸëŸí])(Ÿë)","g"),((e,t,a)=>"Ÿí"===t?e:a+t));break;case"textToArabicDiacritics":case"arabicDiacriticsToText":p.value=Object.entries({"ÿ±ÿ∂Ÿä ÿßŸÑŸÑŸá ÿπŸÜŸáŸÖÿß":"ÿ±Ÿéÿ∂ŸêŸäŸé ÿßŸÑŸÑŸéŸëŸáŸè ÿπŸéŸÜŸíŸáŸèŸÖŸéÿß","ÿ±ÿ∂Ÿä ÿßŸÑŸÑŸá ÿπŸÜŸáŸÖ":"ÿ±Ÿéÿ∂ŸêŸäŸé ÿßŸÑŸÑŸéŸëŸáŸè ÿπŸéŸÜŸíŸáŸèŸÖŸí","ÿ±ÿ∂Ÿä ÿßŸÑŸÑŸá ÿπŸÜŸáÿß":"ÿ±Ÿéÿ∂ŸêŸäŸé ÿßŸÑŸÑŸéŸëŸáŸè ÿπŸéŸÜŸíŸáŸéÿß","ÿ±ÿ∂Ÿä ÿßŸÑŸÑŸá ÿπŸÜŸá":"ÿ±Ÿéÿ∂ŸêŸäŸé ÿßŸÑŸÑŸéŸëŸáŸè ÿπŸéŸÜŸíŸáŸè","ÿπŸÑŸäŸáŸÖÿß ÿßŸÑÿ≥ŸÑÿßŸÖ":"ÿπŸéŸÑŸéŸäŸáŸêŸÖŸéÿß ÿßŸÑÿ≥ŸéŸëŸÑŸéÿßŸÖŸè","ÿπŸÑŸäŸáŸÖ ÿßŸÑÿ≥ŸÑÿßŸÖ":"ÿπŸéŸÑŸéŸäŸáŸêŸÖŸè ÿßŸÑÿ≥ŸéŸëŸÑŸéÿßŸÖŸè","ÿπŸÑŸäŸáÿß ÿßŸÑÿ≥ŸÑÿßŸÖ":"ÿπŸéŸÑŸéŸäŸáŸéÿß ÿßŸÑÿ≥ŸéŸëŸÑŸéÿßŸÖŸè","ÿπŸÑŸäŸá ÿßŸÑÿ≥ŸÑÿßŸÖ":"ÿπŸéŸÑŸéŸäŸáŸê ÿßŸÑÿ≥ŸéŸëŸÑŸéÿßŸÖŸè","ÿ±ÿ≠ŸÖŸáŸÖÿß ÿßŸÑŸÑŸá":"ÿ±Ÿéÿ≠ŸêŸÖŸéŸáŸèŸÖŸéÿß ÿßŸÑŸÑŸéŸëŸáŸè","ÿ±ÿ≠ŸÖŸáŸÖ ÿßŸÑŸÑŸá":"ÿ±Ÿéÿ≠ŸêŸÖŸéŸáŸèŸÖŸè ÿßŸÑŸÑŸéŸëŸáŸè","ÿ±ÿ≠ŸÖŸáÿß ÿßŸÑŸÑŸá":"ÿ±Ÿéÿ≠ŸêŸÖŸéŸáŸéÿß ÿßŸÑŸÑŸéŸëŸáŸè","ÿ±ÿ≠ŸÖŸá ÿßŸÑŸÑŸá":"ÿ±Ÿéÿ≠ŸêŸÖŸéŸáŸè ÿßŸÑŸÑŸéŸëŸáŸè","ÿπÿ≤ Ÿàÿ¨ŸÑ":"ÿπŸéÿ≤ŸéŸë ŸàŸéÿ¨ŸéŸÑŸéŸë","ÿ¨ŸÑ ÿ¨ŸÑÿßŸÑŸá":"ÿ¨ŸéŸÑŸéŸë ÿ¨ŸéŸÑŸéÿßÔªüŸéÔª™Ÿè","ÿ™ÿ®ÿßÿ±ŸÉ Ÿàÿ™ÿπÿßŸÑŸâ":"ÿ™Ÿéÿ®Ÿéÿßÿ±ŸéŸÉŸé ŸàŸéÿ™ŸéÿπŸéÿßŸÑŸéŸâ","ÿ™ÿπÿßŸÑŸâ":"ÿ™ŸéÿπŸéÿßŸÑŸéŸâ"}).reduce(((t,[a,n])=>t.replace(new RegExp(("textToArabicDiacritics"===e?a:n).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),"textToArabicDiacritics"===e?n:a)),p.value);break;case"removeQuranicMarks":p.value=p.value.replace(/[€ñ€ó€ò€ô€ö€õ€ú€ù€û€£€ü€†€°€¢€§€•€¶€ß€®€©€™€≠€´€¨Ô¥æÔ¥ø]/g,"").replace(/\s+/g," ").trim();break;case"replaceDoubleBracketsToSingle":p.value=p.value.replace(/\(\(([^)]*)\)\)/g,"($1)");break;case"textToQuranicBrackets":p.value=p.value.replace(/\{/g,"Ô¥æ").replace(/\}/g,"Ô¥ø").replace(/\*/g,"€ù");break;case"quranicToTextBrackets":p.value=p.value.replace(/Ô¥æ/g,"{").replace(/Ô¥ø/g,"}").replace(/€ù/g,"*");break;case"convertPunctuation":a=(l={colon:":",fullstop:".",comma:","})[document.getElementById("punctuationFrom").value],l=l[document.getElementById("punctuationTo").value],a=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),p.value=p.value.replace(new RegExp(a,"g"),l);break;case"ltrToRtlPunc":p.value=p.value.replace(/[,;?]/g,(e=>({",":"ÿå",";":"ÿõ","?":"ÿü"}[e]||e)));break;case"rtlToLtrPunc":p.value=p.value.replace(/[ÿåÿõÿü]/g,(e=>({"ÿå":",","ÿõ":";","ÿü":"?"}[e]||e)))}t()}(e.target.dataset.action),o.classList.remove("show"))}))})),document.addEventListener("click",l),document.getElementById("copyToClipboard").addEventListener("click",(()=>{navigator.clipboard.writeText(p.value)})),document.getElementById("clearAll").addEventListener("click",(()=>{p.value="",I=[{id:1,content:""}],k.innerHTML='<button class="numbered-tab active" data-tab="1">1</button><button id="addTab">+</button>',$=1,t()}));let S=!0;document.getElementById("toggleDirection").addEventListener("click",(()=>{S=!S,p.style.direction=S?"rtl":"ltr",p.style.textAlign=S?"right":"left"}));let B=!1;document.getElementById("convertQuotes").addEventListener("click",(()=>{p.value=B?p.value.replace(/[\u2018\u2019]/g,"'").replace(/[\u201C\u201D]/g,'"'):p.value.replace(/(\W|^)"(\S)/g,"$1‚Äù$2").replace(/(\u201D[^"]*)"([^"]*$|[^\u201D"]*\u201D)/g,"$1‚Äú$2").replace(/([^0-9])"/g,"$1‚Äú").replace(/(\W|^)'(\S)/g,"$1‚Äô$2").replace(/([a-z])'([a-z])/gi,"$1‚Äò$2").replace(/((\u2019[^']*)|[a-z])'([^0-9]|$)/gi,"$1‚Äò$3").replace(/(\u2019)([0-9]{2}[^\u2018]*)(\u2019([^0-9]|$)|$|\u2018[a-z])/gi,"‚Äò$2$3").replace(/(\B|^)\u2019(?=([^\u2018]*\u2018\b)*([^\u2018\u2019]*\W[\u2018\u2019]\b|[^\u2018\u2019]*$))/gi,"$1‚Äò").replace(/'''/g,"‚Ä¥").replace(/''/g,"‚Ä≥").replace(/'/g,"‚Ä≤"),B=!B,t()})),document.getElementById("genRandPass").addEventListener("click",(()=>{const e=Math.floor(9*Math.random())+8;let a="";for(let t=0;t<e;t++)a+=String.fromCharCode(Math.floor(94*Math.random()+33));p.value=(e=>([{regex:/[a-z]/,range:[97,122]},{regex:/[A-Z]/,range:[65,90]},{regex:/[0-9]/,range:[48,57]},{regex:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>/?]/,range:[33,47]}].forEach((t=>{if(!t.regex.test(e)){const a=Math.floor(Math.random()*e.length);t=String.fromCharCode(Math.floor(Math.random()*(t.range[1]-t.range[0]+1))+t.range[0]),e=e.substring(0,a)+t+e.substring(a+1)}})),e))(a),t()}));const C=[["ﬁáﬁ¶","a"],["ﬁáﬁß","aa"],["ﬁáﬁ®","i"],["ﬁáﬁ©","ee"],["ﬁáﬁ™","u"],["ﬁáﬁ´","oo"],["ﬁáﬁ¨","e"],["ﬁáﬁ≠","ey"],["ﬁáﬁÆ","o"],["ﬁáﬁØ","oa"],["ﬁ™ﬁáﬁ∞","uh"],["ﬁ®ﬁáﬁ∞","ih"],["ﬁ¨ﬁáﬁ∞","eh"],["ﬁ¶ﬁÅﬁ∞","ah"],["ﬁ¶ﬁáﬁ∞","ah"],["ﬁÅﬁ∞","h"],["ﬁåﬁ∞","i"],["ﬁßﬁáﬁ∞","aah"],["ﬁáﬁ∞","h"],["ﬁ¶","a"],["ﬁß","aa"],["ﬁ®","i"],["ﬁ©","ee"],["ﬁ™","u"],["ﬁ´","oo"],["ﬁ¨","e"],["ﬁ≠","ey"],["ﬁÆ","o"],["ﬁØ","oa"],["ﬁ∞",""],["ﬁÄ","h"],["ﬁÅ","sh"],["ﬁÇ","n"],["ﬁÉ","r"],["ﬁÑ","b"],["ﬁÖ","lh"],["ﬁÜ","k"],["ﬁá","a"],["ﬁà","v"],["ﬁâ","m"],["ﬁä","f"],["ﬁã","dh"],["ﬁå","th"],["ﬁç","l"],["ﬁé","g"],["ﬁè","y"],["ﬁê","s"],["ﬁë","d"],["ﬁí","z"],["ﬁì","t"],["ﬁî","y"],["ﬁï","p"],["ﬁñ","j"],["ﬁó","ch"],["ﬁô","h"],["ﬁö","kh"],["ﬁõ‚Äé","z"],["ﬁú‚Äé","z"],["ﬁù‚Äé","sh"],["ﬁù","sh"],["ﬁ§","q"],["ﬁ¢","a"],["ﬁû","s"],["ﬁü","dh"],["ﬁ°","z"],["ﬁ†","t"],["ﬁßﬁßﬁ£","gh"],["ﬁò","th"],["ﬁõ","dh"],["ﬁßﬁßﬁú","z"]];document.getElementById("transliterateDvToEn").addEventListener("click",(()=>{r(),p.value=function(e){e=e.replace(/[\u200B-\u200D\uFEFF]/g,"");for(const[t,a]of C)e=e.replace(new RegExp(t,"g"),a);return e.replace(/(^\s*\w|[.!?]\s*\w)/g,(e=>e.toUpperCase()))}(p.value),n(),t()}));const L=[["ŸÄ",""],["ÿ¢","ﬁáﬁß"],["ÿ®","ﬁÑ"],["ÿ™","ﬁå"],["ÿ´","ﬁò"],["ÿ¨","ﬁñ"],["ÿ≠","ﬁô"],["ÿÆ","ﬁö"],["ÿØ","ﬁã"],["ÿ∞","ﬁõ"],["ÿ±","ﬁÉ"],["ÿ≤","ﬁí"],["ÿ≥","ﬁê"],["ÿ¥","ﬁù"],["ÿµ","ﬁû"],["ÿ∂","ﬁü"],["ÿ∑","ﬁ†"],["ÿ∏","ﬁ°"],["ÿπ","ﬁ¢"],["ÿ∫","ﬁ£"],["ŸÅ","ﬁä"],["ŸÇ","ﬁ§"],["ŸÉ","ﬁÜ"],["ŸÑ","ﬁç"],["ŸÖ","ﬁâ"],["ŸÜ","ﬁÇ"],["Ÿá","ﬁÄ"],["Ÿà","ﬁà"],["Ÿä","ﬁî"],["ÿ©","ﬁå"],["ÿ°","ﬁá"],["ÿ£","ﬁá"],["ÿ§","ﬁá"],["ÿ•","ﬁá"],["ÿ¶","ﬁá"],["Ÿâ","ﬁá"],["Ÿé","ﬁ¶"],["Ÿê","ﬁ®"],["Ÿè","ﬁ™"],["Ÿí","ﬁ∞"],["Ÿã","ﬁ¶ﬁÇﬁ∞"],["Ÿç","ﬁ®ﬁÇﬁ∞"],["Ÿå","ﬁ™ﬁÇﬁ∞"],["ﬁ¶ÿß","ﬁß"],["ÿßﬁç","ﬁç"],["ﬁçﬁáﬁ∞ﬁçﬁ¶ﬁÄ","Ô∑≤"],["ﬁçﬁçﬁÄ","Ô∑≤"],["ﬁçﬁáﬁ∞","ﬁáﬁ∞"],["ﬁß ﬁáﬁ∞ﬁçﬁ¶","ﬁ¶ ﬁáﬁ∞ﬁçﬁ¶"],["ÿß",""],["ﬁ™ﬁà","ﬁ´"],["ﬁá ﬁáﬁ∞"," ﬁáﬁ∞"],["ﬁ´ ﬁç","ﬁ™ ﬁç"],["ﬁáﬁ∞ﬁçﬁ¶ﬁç","ﬁáﬁ∞ﬁçﬁ¶"],["¬´",'"'],["¬ª",'"']];document.getElementById("transliterateArToDv").addEventListener("click",(()=>{r(),p.value=function(e){e=e.replace(/(.)Ÿë/g,((e,t)=>`ﬁáﬁ∞${L.find((([e])=>e===t))?.[1]||t}`)),e=(e=e.replace(/ÿ©([ŸéŸê Ÿè Ÿã Ÿç Ÿå])/g,"ﬁå$1")).replace(/ÿ©(?![ŸéŸê Ÿè Ÿã Ÿç Ÿå])/g,"ﬁÄ");for(const[t,a]of L)e=e.replace(new RegExp(t,"g"),a);return e}(p.value),t()}));const w=new class{constructor(){this.ehbari="ﬁêﬁ™ﬁâﬁ¨ﬁáﬁ∞ ﬁáﬁ¨ﬁáﬁ∞ ﬁãﬁ¨ ﬁåﬁ®ﬁÇﬁ∞ ﬁÄﬁ¶ﬁåﬁ¶ﬁÉﬁ™ ﬁäﬁ¶ﬁêﬁ∞ ﬁÄﬁ¶ ﬁÄﬁ¶ﬁåﬁ∞ ﬁáﬁ¶ﬁÅﬁ∞ ﬁÇﬁ™ﬁàﬁ¶ ﬁãﬁ®ﬁÄﬁ¶ ﬁáﬁ¨ﬁéﬁßﬁÉﬁ¶ ﬁÑﬁßﬁÉﬁ¶ ﬁåﬁ≠ﬁÉﬁ¶ ﬁêﬁßﬁãﬁ¶ ﬁäﬁ¶ﬁÇﬁ¶ﬁÉﬁ¶ ﬁêﬁØﬁÖﬁ¶ ﬁêﬁ¶ﬁåﬁßﬁÉﬁ¶ ﬁáﬁ¶ﬁÅﬁßﬁÉﬁ¶ ﬁÇﬁ¶ﬁàﬁßﬁÉﬁ¶ ﬁàﬁ®ﬁÄﬁ® ﬁáﬁ¨ﬁÜﬁßﬁàﬁ©ﬁêﬁ∞ ﬁÑﬁßﬁàﬁ©ﬁêﬁ∞ ﬁåﬁ≠ﬁàﬁ©ﬁêﬁ∞ ﬁêﬁ¶ﬁáﬁ™ﬁàﬁ©ﬁêﬁ∞ ﬁäﬁ¶ﬁÇﬁ∞ﬁêﬁ¶ﬁàﬁ©ﬁêﬁ∞ ﬁêﬁ¶ﬁáﬁ∞ﬁÑﬁ©ﬁêﬁ∞ ﬁÄﬁ¶ﬁåﬁßﬁàﬁ©ﬁêﬁ∞ ﬁáﬁ¶ﬁÅﬁßﬁàﬁ©ﬁêﬁ∞ ﬁÇﬁ¶ﬁàﬁßﬁàﬁ©ﬁêﬁ∞".split(" "),this.dhihabari="ﬁêﬁ™ﬁÇﬁ∞ ﬁãﬁ®ﬁÄﬁ¶ ﬁàﬁ®ﬁÄﬁ® ﬁåﬁ®ﬁÉﬁ©ﬁêﬁ∞ ﬁêﬁßﬁÖﬁ©ﬁêﬁ∞ ﬁäﬁ¶ﬁÇﬁ∞ﬁêﬁßﬁêﬁ∞ ﬁäﬁ¶ﬁêﬁ∞ﬁãﬁÆﬁÖﬁ¶ﬁêﬁ∞ ﬁÄﬁ¶ﬁáﬁ∞ﬁãﬁ®ﬁÄﬁ¶ ﬁáﬁ¶ﬁáﬁ∞ﬁëﬁ®ﬁÄﬁ¶ ﬁÇﬁ™ﬁàﬁ¶ﬁãﬁ®ﬁÄﬁ¶".split(" "),this.sunbari=["","ﬁÄﬁßﬁêﬁ∞","ﬁâﬁ®ﬁçﬁ®ﬁîﬁ¶ﬁÇﬁ∞","ﬁÑﬁ®ﬁçﬁ®ﬁîﬁ¶ﬁÇﬁ∞","ﬁìﬁ∞ﬁÉﬁ®ﬁçﬁ®ﬁîﬁ¶ﬁÇﬁ∞"]}convert(e){return e?1e3>(e=parseInt(e))?this.thousandSub(e):this.thousandUp(e):null}thousandSub(e){var t="ﬁêﬁ¶ﬁåﬁ≠ﬁÜﬁ¶ ";if(0>=e||29>=e)return this.ehbari[e];if(99>=e)return t=Math.floor(e/10),0===(e%=10)?this.dhihabari[t]:`${this.dhihabari[t]} ${this.ehbari[e]}`;if(999>=e){const a=e%100;return 2===(e=Math.floor(e/100))&&(this.ehbari[2]="ﬁãﬁ™ﬁàﬁ®",t="ﬁêﬁ¶ﬁáﬁ∞ﬁåﬁ¶ "),0===a?`${this.ehbari[e]} ${t}`:`${this.ehbari[e]} ${t}${this.thousandSub(a)}`}return""}thousandHalf(e){const t=[];for(;0!==e;)t.push(e%1e3),e=Math.floor(e/1e3);return t}thousandUp(e){var t=this.thousandHalf(e);e=t.length-1;const a=[];for(var n of t.reverse()){t=`${this.thousandSub(n)} `;let r=`${this.sunbari[e]} `;if(" "===t)break;"ﬁêﬁ™ﬁÇﬁ∞ "!==t&&"ﬁêﬁ™ﬁâﬁ¨ﬁáﬁ∞ "!==t||(r=t=""),a.push(t+r),--e}return(n=a.join("")).endsWith(",")&&(n=n.slice(0,-1)),n.trim()}};document.getElementById("Nos2DvTxt").addEventListener("click",(()=>{r();const e=p.value.split("\n").map((e=>{const t=e.match(/\d+/g);return t?t.map((e=>w.convert(e).replace(/\s+/g," ").trim())).join("ÿå "):e.trim()}));p.value=e.filter((e=>0<e.length)).join("\n"),t()}));const x=document.getElementById("filiIssuesResults");document.getElementById("findFiliIssues").addEventListener("click",(()=>{const e=/[\u07a6-\u07b0]/,t=/[\u064b-\u0650\u0652-\u0656]/,a=/[\u0780-\u07a5]/,n=/[\u064e\u064f\u0650]/,r=p.value.split(/\s+/),l=[];for(let o=0;o<r.length;o++){const c=r[o];let s=[];for(let r=0;r<c.length;r++){const l=c[r],o=c[r+1]||"",u=c[r-1]||"";e.test(l)&&e.test(o)||t.test(l)&&t.test(o)||"Ÿë"===l&&"Ÿë"===o?(0<s.length&&"standalone"===s[s.length-1].type&&s[s.length-1].index===r-1&&s.pop(),s.push({type:"multiple",index:r}),r++):(a.test(l)&&"ﬁÇ"!==l&&!e.test(o)&&s.push({type:"noDvFili",index:r}),!e.test(l)&&!t.test(l)&&"Ÿë"!==l||a.test(u)||/[\u0600-\u06FF]/.test(u)||"Ÿë"===l&&n.test(o)||s.push({type:"standalone",index:r}))}0<s.length&&l.push({word:c,index:o,issues:s})}!function(e){if(0===e.length)x.innerHTML="No issues found.";else{var t=e.reduce(((e,t)=>e+t.issues.length),0),a=p.value.split(/\s+/),n=`Found ${t} issue${1<t?"s":""}<br>`;e.forEach(((e,t)=>{const r=a[e.index-1]||"",l=a[e.index+1]||"";let o=e.issues.map((t=>{let a,n;switch(a="multiple"===t.type?`${e.word[t.index-1]||""}${e.word[t.index]} ${e.word[t.index+1]}`:`${e.word[t.index-1]||""} ${e.word[t.index]}`,t.type){case"multiple":n=`Multiple Fili :&nbsp; ${a}`;break;case"noDvFili":n=`Thaana w/o Fili :&nbsp; ${a}`;break;case"standalone":n=`Standalone Fili :&nbsp; ${a}`}return n})).join(", ");n+=`${t+1}. ${r} <span style="color: blue;">${e.word}</span> ${l} : <span style="color: red;">${o}</span><br>`})),x.innerHTML=n}x.style.display="block"}(l)})),document.getElementById("removePunctuation").addEventListener("click",(()=>{r(),p.value=p.value.replace(/[^\w\s]/g,""),t()}));let T=!1;const A={a:"4",e:"3",i:"!",o:"0",t:"7",l:"1",s:"5"},D=Object.fromEntries(Object.entries(A).map((([e,t])=>[t,e])));document.getElementById("toggleLeetSpeak").addEventListener("click",(()=>{p.value=T?p.value.replace(/[43!0715]/g,(e=>D[e])):p.value.toLowerCase().replace(/[aeiotls]/g,(e=>A[e])),T=!T,t(),n()}));const F=document.getElementById("seqMinInput"),M=document.getElementById("seqMaxInput");let j=1,N=10;document.getElementById("generateNumSequence").addEventListener("click",(()=>{"none"===F.style.display?(F.style.display="inline-block",M.style.display="inline-block",F.value=j):(j=parseInt(F.value),N=parseInt(M.value),isNaN(j)&&(j=0),isNaN(N)&&(N=10),j>N&&([j,N]=[N,j],F.value=j,M.value=N));var e="";for(let t=j;t<=N;t++)e+=t+"\n";e=e.trim(),p.value=e})),F.addEventListener("change",(()=>{j=parseInt(F.value),isNaN(j)&&(j=0)})),M.addEventListener("change",(()=>{N=parseInt(M.value),isNaN(N)&&(N=10)}));const R=document.getElementById("RandNoMinInput"),q=document.getElementById("RandNoMaxInput");let U=1,P=10;document.getElementById("randomNum").addEventListener("click",(()=>{"none"===R.style.display?(R.style.display="inline-block",q.style.display="inline-block",R.value=U):(U=parseInt(R.value)||1,P=parseInt(q.value)||10,U>P&&([U,P]=[P,U],R.value=U,q.value=P)),p.value=(Math.floor(Math.random()*(P-U+1))+U).toString(),t()})),R.addEventListener("change",(()=>{U=parseInt(R.value)||1})),q.addEventListener("change",(()=>{P=parseInt(q.value)||10})),document.getElementById("numerateWords").addEventListener("click",(()=>{const e=document.getElementById("textArea");document.getElementById("numerateWords").textContent.includes("No ‚Üí Wrd")?(e.value=e.value.replace(/\b\d+\b/g,(e=>function(e){const t=" one two three four five six seven eight nine".split(" "),a="  twenty thirty forty fifty sixty seventy eighty ninety".split(" ");var n="ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" ");return 10>e?t[e]:20>e?n[e-10]:100>e?(n=e%10,a[Math.floor(e/10)]+(n?`-${t[n]}`:"")):e}(parseInt(e)))).replace(/%/g,"percent"),document.getElementById("numerateWords").textContent="Wrd ‚Üí No"):(e.value=e.value.replace(/\b(?:\w+(?:-\w+)*)\b/g,(e=>{var t=e.toLowerCase();return e={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,thirty:30,forty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90,hundred:100},t.includes("-")?e=(e[(t=t.split("-"))[0]]||0)+(e[t[1]]||0):e=e[t]||t,e})).replace(/\bpercent\b/g,"%"),document.getElementById("numerateWords").textContent="No ‚Üí Wrd"),t()}));const z=document.getElementById("repeatInput");document.getElementById("repeatLines").addEventListener("click",(()=>{if("none"===z.style.display)z.style.display="inline-block";else{const e=parseInt(z.value)||1;p.value=Array(e).fill(p.value).join("\n"),t()}}));const H=document.getElementById("prefixInput"),O=document.getElementById("suffixInput");document.getElementById("prefixSuffixToLine").addEventListener("click",(()=>{if("none"===H.style.display)H.style.display="inline-block",O.style.display="inline-block";else{const e=H.value,a=O.value,n=p.value.split("\n").map((t=>e+t+a));p.value=n.join("\n"),t()}}));const W=document.getElementById("removeFromStart"),Z=document.getElementById("removeFromEnd");document.getElementById("rmvNoOfCharsPerLine").addEventListener("click",(()=>{if("none"===W.style.display)W.style.display="inline-block",Z.style.display="inline-block";else{const e=parseInt(W.value)||0,a=parseInt(Z.value)||0,n=p.value.split("\n").map((t=>t.length<=e+a?"":t.slice(e,t.length-a)));p.value=n.join("\n"),t()}}));const _=document.getElementById("findInput"),J=document.getElementById("replaceInput");document.getElementById("findAndReplaceText").addEventListener("click",(()=>{var e=_.value;const a=J.value;e&&(e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),p.value=p.value.replace(e,a),t())})),document.getElementById("diffCompare").addEventListener("click",(()=>{window.open("diffCompare.html","_blank")})),document.getElementById("keyboardPage").addEventListener("click",(()=>{window.open("keyboardPage.html","_blank")})),document.getElementById("qrGenerator").addEventListener("click",(()=>{window.open("qrGenerator.html","_blank")})),document.getElementById("fullscreen").addEventListener("click",(()=>{document.fullscreenElement?(document.exitFullscreen(),p.style.height="300px"):(document.documentElement.requestFullscreen(),p.style.height="100vh")})),document.addEventListener("fullscreenchange",(()=>{document.fullscreenElement||(p.style.height="300px")})),o(),setInterval(o,6e4),document.getElementById("toggleMilitaryTime").addEventListener("click",(()=>{const e="true"===localStorage.getItem("militaryTime");localStorage.setItem("militaryTime",!e),o()})),p.addEventListener("input",(e=>{const t=e.target.selectionStart;var a=e.target.value.substring(0,t);"ss-"===a.split(/\s/).pop()&&(a=a.replace(/ss-$/,"Ô∑∫")+e.target.value.substring(t),e.target.value=a,e.target.setSelectionRange(t,t))})),document.querySelectorAll(".copy-button, .copy-button-lit, .copy-button-other").forEach((e=>{e.addEventListener("click",(async()=>{const t=e.dataset.text||e.textContent.trim();try{await navigator.clipboard.writeText(t),c(e,"Copied")}catch(e){console.error("Failed to copy:",e)}}))})),document.querySelectorAll("button").forEach((e=>{e.addEventListener("click",(t=>{e.closest(".dropdown-button")||c(e,"Clicked")}))}));var Q=JSON.parse(localStorage.getItem("editorTabs"));Q&&(I=Q,I.forEach((e=>{if(1<e.id){const t=document.createElement("button");t.classList.add("numbered-tab"),t.dataset.tab=e.id,t.textContent=e.id,k.insertBefore(t,f)}})),a(parseInt(localStorage.getItem("currentTab"))||1)),setInterval((()=>{I[$-1].content=p.value,localStorage.setItem("editorTabs",JSON.stringify(I)),localStorage.setItem("currentTab",$)}),5e3),t();const G=document.getElementById("calcArea"),K=document.getElementById("addCalcTab"),V=document.querySelector(".calc-numbered-tabs");if(G&&K&&V){let ye=1,be=[{id:1,content:""}];const he=document.getElementById("sumTotal"),Ee=document.getElementById("zakatAmount"),fe=document.getElementById("lineResults"),ke=document.getElementById("copyTotal"),$e=document.getElementById("clearCalc");function Y(){let e=0,t="";G.value.split("\n").forEach((a=>{a=function(e){let t=e.match(/[+-]?\d*\.?\d+(?:,\d{3})*(?:\d*\.?\d+)?/g)||[];e=e.match(/[\+\-\*x\/√∑]/g)||[],t=t.map((e=>parseFloat(e.replace(/,/g,""))));for(let a=0;a<e.length;a++)"*"!==e[a]&&"x"!==e[a]&&"/"!==e[a]&&"√∑"!==e[a]||(t.splice(a,2,"*"===e[a]||"x"===e[a]?t[a]*t[a+1]:t[a]/t[a+1]),e.splice(a,1),a--);return t.reduce(((e,t)=>e+t),0)}(a),e+=a,t+=`${e.toFixed(2)}\n`})),he.textContent=e.toFixed(2),Ee.textContent=(.025*e).toFixed(2),fe.textContent=t}function X(e){be[ye-1].content=G.value,ye=e,G.value=be[ye-1].content,document.querySelectorAll(".calc-numbered-tab").forEach((t=>{t.classList.toggle("active",parseInt(t.dataset.tab)===e)})),Y()}K.addEventListener("click",(()=>{const e=be.length+1;be.push({id:e,content:""});const t=document.createElement("button");t.classList.add("calc-numbered-tab"),t.dataset.tab=e,t.textContent=e,V.insertBefore(t,K),X(e)})),V.addEventListener("click",(e=>{e.target.classList.contains("calc-numbered-tab")&&X(e=parseInt(e.target.dataset.tab))})),G.addEventListener("input",Y),ke.addEventListener("click",(()=>{navigator.clipboard.writeText(he.textContent),c(ke,"Copied")})),$e.addEventListener("click",(()=>{G.value="",fe.textContent="",he.textContent="0.00",Ee.textContent="0.00",be=[{id:1,content:""}],ye=1;const e=V.querySelectorAll(".calc-numbered-tab");e.forEach((e=>{"1"!==e.dataset.tab&&e.remove()})),e[0].classList.add("active"),c($e,"Cleared")})),(Q=JSON.parse(localStorage.getItem("calculatorTabs")))&&(be=Q,be.forEach((e=>{if(1<e.id){const t=document.createElement("button");t.classList.add("calc-numbered-tab"),t.dataset.tab=e.id,t.textContent=e.id,V.insertBefore(t,K)}})),X(parseInt(localStorage.getItem("currentCalcTab"))||1)),setInterval((()=>{be[ye-1].content=G.value,localStorage.setItem("calculatorTabs",JSON.stringify(be)),localStorage.setItem("currentCalcTab",ye)}),5e3)}const ee=document.querySelector(".proportion-container"),te=document.getElementById("addPropTab"),ae=document.querySelector(".prop-numbered-tabs");if(ee&&te&&ae){let Ie=1,Se=[{id:1,content:ee.innerHTML}];function ne(){document.querySelectorAll(".proportion-set").forEach((e=>{e.querySelectorAll(".prop-input").forEach((t=>{t.addEventListener("input",(()=>function(e){if(e=e.querySelectorAll(".prop-input"),3<=Array.from(e).filter((e=>""!==e.value)).length){const t=e[0].value,a=e[1].value,n=e[2].value;t&&a&&n&&(e[3].value=(a/t*n).toFixed(2))}else e[3].value=""}(e)))}))}))}function re(e){Se[Ie-1].content=ee.innerHTML,Ie=e,ee.innerHTML=Se[Ie-1].content,document.querySelectorAll(".prop-numbered-tab").forEach((t=>{t.classList.toggle("active",parseInt(t.dataset.tab)===e)})),ne()}te.addEventListener("click",(()=>{const e=Se.length+1;Se.push({id:e,content:ee.innerHTML});const t=document.createElement("button");t.classList.add("prop-numbered-tab"),t.dataset.tab=e,t.textContent=e,ae.insertBefore(t,te),re(e)})),ae.addEventListener("click",(e=>{e.target.classList.contains("prop-numbered-tab")&&re(e=parseInt(e.target.dataset.tab))})),ne(),(Q=JSON.parse(localStorage.getItem("proportionTabs")))&&(Se=Q,Se.forEach((e=>{if(1<e.id){const t=document.createElement("button");t.classList.add("prop-numbered-tab"),t.dataset.tab=e.id,t.textContent=e.id,ae.insertBefore(t,te)}})),re(parseInt(localStorage.getItem("currentPropTab"))||1)),setInterval((()=>{Se[Ie-1].content=ee.innerHTML,localStorage.setItem("proportionTabs",JSON.stringify(Se)),localStorage.setItem("currentPropTab",Ie)}),5e3);const Be=document.getElementById("clearProp");Be.addEventListener("click",(()=>{document.querySelectorAll(".proportion-set").forEach((e=>{e.querySelectorAll(".prop-input").forEach(((e,t)=>{e.value=2===t?"1":""}))})),Se=[{id:1,content:ee.innerHTML}],Ie=1;const e=ae.querySelectorAll(".prop-numbered-tab");e.forEach((e=>{"1"!==e.dataset.tab&&e.remove()})),e[0].classList.add("active"),c(Be,"Cleared")}))}let le="true"===localStorage.getItem("nightCalcMilitaryTime");document.getElementById("maghribTime").addEventListener("change",s),document.getElementById("fajrTime").addEventListener("change",s),document.getElementById("toggleNightCalcFormat").addEventListener("click",(()=>{le=!le,localStorage.setItem("nightCalcMilitaryTime",le),s()}));const oe=e=>btoa(new Uint8Array(e).reduce(((e,t)=>e+String.fromCharCode(t)),"")),ce=e=>Uint8Array.from(atob(e),(e=>e.charCodeAt(null))),se=new TextEncoder,ue=new TextDecoder,ie=e=>window.crypto.subtle.importKey("raw",se.encode(e||"empty"),"PBKDF2",!1,["deriveKey"]),de=(e,t,a)=>window.crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:25e4,hash:"SHA-256"},e,{name:"AES-GCM",length:256},!1,a),me=document.getElementById("encryptButton"),pe=document.getElementById("decryptButton"),ge=document.getElementById("copyEncrypted"),ve=document.getElementById("copyDecrypted");me&&me.addEventListener("click",(async()=>{const e=document.getElementById("textToEncrypt").value,t=document.getElementById("encryptPassword").value;if(e)try{const a=await async function(e,t){if(!e)throw Error("No data to encrypt");try{const a=window.crypto.getRandomValues(new Uint8Array(16)),n=window.crypto.getRandomValues(new Uint8Array(12)),r=await ie(t),l=await de(r,a,["encrypt"]),o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},l,se.encode(e)),c=new Uint8Array(o);let s=new Uint8Array(a.byteLength+n.byteLength+c.byteLength);return s.set(a,0),s.set(n,a.byteLength),s.set(c,a.byteLength+n.byteLength),oe(s)}catch(e){throw console.error(`Encryption error: ${e}`),e}}(e,t);document.getElementById("encryptedText").value=a,c(me,"Encrypted")}catch(e){console.error("Encryption failed:",e),c(me,"Encryption failed")}else c(me,"Please enter text to encrypt")})),pe&&pe.addEventListener("click",(async()=>{const e=document.getElementById("textToDecrypt").value,t=document.getElementById("decryptPassword").value;if(e)try{const a=await async function(e,t){if(!e)throw Error("No data to decrypt");try{const a=ce(e),n=a.slice(0,16),r=a.slice(16,28),l=a.slice(28),o=await ie(t),c=await de(o,n,["decrypt"]),s=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},c,l);return ue.decode(s)}catch(e){throw console.error(`Decryption error: ${e}`),e}}(e,t);document.getElementById("decryptedText").value=a||"Decryption failed",c(pe,a?"Decrypted":"Failed")}catch(e){console.error("Decryption failed:",e),c(pe,"Decryption failed"),document.getElementById("decryptedText").value="Decryption failed"}else c(pe,"Please enter text to decrypt")})),ge&&ge.addEventListener("click",(()=>{const e=document.getElementById("encryptedText").value;e&&(navigator.clipboard.writeText(e),c(ge,"Copied"))})),ve&&ve.addEventListener("click",(()=>{const e=document.getElementById("decryptedText").value;e&&(navigator.clipboard.writeText(e),c(ve,"Copied"))}))}));