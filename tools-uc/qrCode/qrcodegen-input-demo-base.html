<!--
  - QR Code generator input demo (HTML+JavaScript)
  - 
  - Copyright (c) Project Nayuki. (MIT License)
  - https://www.nayuki.io/page/qr-code-generator-library
  - 
  - Permission is hereby granted, free of charge, to any person obtaining a copy of
  - this software and associated documentation files (the "Software"), to deal in
  - the Software without restriction, including without limitation the rights to
  - use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
  - the Software, and to permit persons to whom the Software is furnished to do so,
  - subject to the following conditions:
  - * The above copyright notice and this permission notice shall be included in
  -   all copies or substantial portions of the Software.
  - * The Software is provided "as is", without warranty of any kind, express or
  -   implied, including but not limited to the warranties of merchantability,
  -   fitness for a particular purpose and noninfringement. In no event shall the
  -   authors or copyright holders be liable for any claim, damages or other
  -   liability, whether in an action of contract, tort or otherwise, arising from,
  -   out of or in connection with the Software or the use or other dealings in the
  -   Software.
  -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>QR Code generator input demo (JavaScript)</title>
    <style type="text/css">
      html {
        font-family: sans-serif;
      }
      h1 {
        text-align: center;
      }
      table {
        border-collapse: collapse;
      }
      td {
        vertical-align: top;
        padding-top: 0.2em;
        padding-bottom: 0.2em;
      }
      td:first-child {
        white-space: pre;
        padding-right: 0.5em;
      }
      input,
      textarea {
        font-size: inherit;
        font-family: inherit;
      }
      input[type="radio"],
      input[type="checkbox"] {
        margin: 0em 0.2em 0em 0em;
        padding: 0em;
      }
      label + label {
        margin-left: 0.8em;
      }
      hr {
        margin: 2em 0em;
        border: none;
        border-top: 0.1em solid #a0a0a0;
      }
    </style>
  </head>

  <body>
    <h1>QR Code generator input demo (JavaScript)</h1>
    <div id="loading">
      <p>Loading application...</p>
      <p>(Are the JavaScript files missing?)</p>
      <p>
        (The JavaScript code needs to be compiled from the TypeScript code.)
      </p>
    </div>
    <form id="loaded" style="display: none" onsubmit="event.preventDefault();">
      <table>
        <tbody>
          <tr>
            <td><strong>Text string:</strong></td>
            <td>
              <textarea
                placeholder="Enter your text to be put into the QR Code"
                id="text-input"
                style="width: 30em; height: 5em"
              ></textarea>
            </td>
          </tr>
          <tr>
            <td>
              <strong>QR Code:</strong><br /><a id="download">(download)</a>
            </td>
            <td>
              <canvas
                id="qrcode-canvas"
                style="padding: 1em; background-color: #e8e8e8"
              ></canvas>
              <svg
                id="qrcode-svg"
                style="
                  width: 30em;
                  height: 30em;
                  padding: 1em;
                  background-color: #e8e8e8;
                "
              >
                <rect
                  width="100%"
                  height="100%"
                  fill="#FFFFFF"
                  stroke-width="0"
                ></rect>
                <path d="" fill="#000000" stroke-width="0"></path>
              </svg>
            </td>
          </tr>
          <tr>
            <td><strong>Error correction:</strong></td>
            <td>
              <label
                ><input
                  type="radio"
                  name="errcorlvl"
                  id="errcorlvl-low"
                  checked="checked"
                />Low</label
              >
              <label
                ><input
                  type="radio"
                  name="errcorlvl"
                  id="errcorlvl-medium"
                />Medium</label
              >
              <label
                ><input
                  type="radio"
                  name="errcorlvl"
                  id="errcorlvl-quartile"
                />Quartile</label
              >
              <label
                ><input
                  type="radio"
                  name="errcorlvl"
                  id="errcorlvl-high"
                />High</label
              >
            </td>
          </tr>
          <tr>
            <td>Output format:</td>
            <td>
              <label
                ><input
                  type="radio"
                  name="output-format"
                  id="output-format-bitmap"
                  checked="checked"
                />Bitmap</label
              >
              <label
                ><input
                  type="radio"
                  name="output-format"
                  id="output-format-vector"
                />Vector</label
              >
            </td>
          </tr>
          <tr>
            <td>Border:</td>
            <td>
              <input
                type="number"
                value="4"
                min="0"
                max="100"
                step="1"
                id="border-input"
                style="width: 4em"
              />
              modules
            </td>
          </tr>
          <tr id="scale-row">
            <td>Scale:</td>
            <td>
              <input
                type="number"
                value="8"
                min="1"
                max="30"
                step="1"
                id="scale-input"
                style="width: 4em"
              />
              pixels per module
            </td>
          </tr>
          <tr>
            <td>Colors:</td>
            <td>
              Light =
              <input
                type="text"
                value="#FFFFFF"
                id="light-color-input"
                style="width: 6em"
              />, dark =
              <input
                type="text"
                value="#000000"
                id="dark-color-input"
                style="width: 6em"
              />
            </td>
          </tr>
          <tr>
            <td>Version range:</td>
            <td>
              Minimum =
              <input
                type="number"
                value="1"
                min="1"
                max="40"
                step="1"
                id="version-min-input"
                style="width: 4em"
                oninput="app.handleVersionMinMax('min');"
              />, maximum =
              <input
                type="number"
                value="40"
                min="1"
                max="40"
                step="1"
                id="version-max-input"
                style="width: 4em"
                oninput="app.handleVersionMinMax('max');"
              />
            </td>
          </tr>
          <tr>
            <td>Mask pattern:</td>
            <td>
              <input
                type="number"
                value="-1"
                min="-1"
                max="7"
                step="1"
                id="mask-input"
                style="width: 4em"
              />
              (âˆ’1 for automatic, 0 to 7 for manual)
            </td>
          </tr>
          <tr>
            <td>Boost ECC:</td>
            <td>
              <label
                ><input
                  type="checkbox"
                  checked="checked"
                  id="boost-ecc-input"
                />Increase <abbr title="error-correcting code">ECC</abbr> level
                within same version</label
              >
            </td>
          </tr>
          <tr>
            <td>Statistics:</td>
            <td id="statistics-output" style="white-space: pre"></td>
          </tr>
        </tbody>
      </table>
    </form>

    <!-- <script type="application/javascript" src="qrcodegen.js"></script> -->
    <!-- js code of above is inlined below -->
    <!-- prettier-ignore -->
    <script>
		var qrcodegen;!function(t){function e(t,e,r){if(0>e||31<e||0!=t>>>e)throw new RangeError("Value out of range");for(--e;0<=e;e--)r.push(t>>>e&1)}function r(t){if(!t)throw Error("Assertion error")}class n{static encodeText(e,r){return e=t.QrSegment.makeSegments(e),n.encodeSegments(e,r)}static encodeBinary(e,r){return e=t.QrSegment.makeBytes(e),n.encodeSegments([e],r)}static encodeSegments(t,s,i=1,a=40,h=-1,l=!0){if(!(n.MIN_VERSION<=i&&i<=a&&a<=n.MAX_VERSION)||-1>h||7<h)throw new RangeError("Invalid value");for(;;i++){const e=8*n.getNumDataCodewords(i,s),r=o.getTotalBits(t,i);if(r<=e){a=r;break}if(i>=a)throw new RangeError("Data too long")}for(const t of[n.Ecc.MEDIUM,n.Ecc.QUARTILE,n.Ecc.HIGH])l&&a<=8*n.getNumDataCodewords(i,t)&&(s=t);for(var u of(l=[],t)){e(u.mode.modeBits,4,l),e(u.numChars,u.mode.numCharCountBits(i),l);for(const t of u.getData())l.push(t)}for(r(l.length==a),t=8*n.getNumDataCodewords(i,s),r(l.length<=t),e(0,Math.min(4,t-l.length),l),e(0,(8-l.length%8)%8,l),r(0==l.length%8),u=236;l.length<t;u^=253)e(u,8,l);let c=[];for(;8*c.length<l.length;)c.push(0);return l.forEach(((t,e)=>c[e>>>3]|=t<<7-(7&e))),new n(i,s,c,h)}constructor(t,e,o,s){if(this.version=t,this.errorCorrectionLevel=e,this.modules=[],this.isFunction=[],t<n.MIN_VERSION||t>n.MAX_VERSION)throw new RangeError("Version value out of range");if(-1>s||7<s)throw new RangeError("Mask value out of range");for(this.size=4*t+17,t=[],e=0;e<this.size;e++)t.push(!1);for(e=0;e<this.size;e++)this.modules.push(t.slice()),this.isFunction.push(t.slice());if(this.drawFunctionPatterns(),o=this.addEccAndInterleave(o),this.drawCodewords(o),-1==s)for(o=1e9,t=0;8>t;t++)this.applyMask(t),this.drawFormatBits(t),(e=this.getPenaltyScore())<o&&(s=t,o=e),this.applyMask(t);r(0<=s&&7>=s),this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}getModule(t,e){return 0<=t&&t<this.size&&0<=e&&e<this.size&&this.modules[e][t]}drawFunctionPatterns(){for(var t=0;t<this.size;t++)this.setFunctionModule(6,t,0==t%2),this.setFunctionModule(t,6,0==t%2);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=(t=this.getAlignmentPatternPositions()).length;for(let r=0;r<e;r++)for(let n=0;n<e;n++)0==r&&0==n||0==r&&n==e-1||r==e-1&&0==n||this.drawAlignmentPattern(t[r],t[n]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(t){var e=t|=this.errorCorrectionLevel.formatBits<<3;for(let t=0;10>t;t++)e=e<<1^1335*(e>>>9);for(r(0==(t=21522^(t<<10|e))>>>15),e=0;5>=e;e++)this.setFunctionModule(8,e,!!(t>>>e&1));for(this.setFunctionModule(8,7,!!(t>>>6&1)),this.setFunctionModule(8,8,!!(t>>>7&1)),this.setFunctionModule(7,8,!!(t>>>8&1)),e=9;15>e;e++)this.setFunctionModule(14-e,8,!!(t>>>e&1));for(e=0;8>e;e++)this.setFunctionModule(this.size-1-e,8,!!(t>>>e&1));for(e=8;15>e;e++)this.setFunctionModule(8,this.size-15+e,!!(t>>>e&1));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(!(7>this.version)){for(var t=this.version,e=0;12>e;e++)t=t<<1^7973*(t>>>11);for(r(0==(t|=this.version<<12)>>>18),e=0;18>e;e++){const r=!!(t>>>e&1),n=this.size-11+e%3,o=Math.floor(e/3);this.setFunctionModule(n,o,r),this.setFunctionModule(o,n,r)}}}drawFinderPattern(t,e){for(let r=-4;4>=r;r++)for(let n=-4;4>=n;n++){const o=Math.max(Math.abs(n),Math.abs(r)),s=t+n,i=e+r;0<=s&&s<this.size&&0<=i&&i<this.size&&this.setFunctionModule(s,i,2!=o&&4!=o)}}drawAlignmentPattern(t,e){for(let r=-2;2>=r;r++)for(let n=-2;2>=n;n++)this.setFunctionModule(t+n,e+r,1!=Math.max(Math.abs(n),Math.abs(r)))}setFunctionModule(t,e,r){this.modules[e][t]=r,this.isFunction[e][t]=!0}addEccAndInterleave(t){var e=this.version,o=this.errorCorrectionLevel;if(t.length!=n.getNumDataCodewords(e,o))throw new RangeError("Invalid argument");const s=n.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][e],i=n.ECC_CODEWORDS_PER_BLOCK[o.ordinal][e],a=s-(e=Math.floor(n.getNumRawDataModules(e)/8))%s,h=Math.floor(e/s);o=[];const l=n.reedSolomonComputeDivisor(i);for(let e=0,r=0;e<s;e++){let s=t.slice(r,r+h-i+(e<a?0:1));r+=s.length;const u=n.reedSolomonComputeRemainder(s,l);e<a&&s.push(0),o.push(s.concat(u))}let u=[];for(let t=0;t<o[0].length;t++)o.forEach(((e,r)=>{(t!=h-i||r>=a)&&u.push(e[t])}));return r(u.length==e),u}drawCodewords(t){if(t.length!=Math.floor(n.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let e=0;for(let r=this.size-1;1<=r;r-=2){6==r&&(r=5);for(let n=0;n<this.size;n++)for(let o=0;2>o;o++){const s=r-o,i=r+1&2?n:this.size-1-n;!this.isFunction[i][s]&&e<8*t.length&&(this.modules[i][s]=!!(t[e>>>3]>>>7-(7&e)&1),e++)}}r(e==8*t.length)}applyMask(t){if(0>t||7<t)throw new RangeError("Mask value out of range");for(let e=0;e<this.size;e++)for(let r=0;r<this.size;r++){let n;switch(t){case 0:n=0==(r+e)%2;break;case 1:n=0==e%2;break;case 2:n=0==r%3;break;case 3:n=0==(r+e)%3;break;case 4:n=0==(Math.floor(r/3)+Math.floor(e/2))%2;break;case 5:n=0==r*e%2+r*e%3;break;case 6:n=0==(r*e%2+r*e%3)%2;break;case 7:n=0==((r+e)%2+r*e%3)%2;break;default:throw Error("Unreachable")}!this.isFunction[e][r]&&n&&(this.modules[e][r]=!this.modules[e][r])}}getPenaltyScore(){let t=0;for(var e=0;e<this.size;e++){for(var o=!1,s=0,i=[0,0,0,0,0,0,0],a=0;a<this.size;a++)this.modules[e][a]==o?5==++s?t+=n.PENALTY_N1:5<s&&t++:(this.finderPenaltyAddHistory(s,i),o||(t+=this.finderPenaltyCountPatterns(i)*n.PENALTY_N3),o=this.modules[e][a],s=1);t+=this.finderPenaltyTerminateAndCount(o,s,i)*n.PENALTY_N3}for(e=0;e<this.size;e++){for(o=!1,s=0,i=[0,0,0,0,0,0,0],a=0;a<this.size;a++)this.modules[a][e]==o?5==++s?t+=n.PENALTY_N1:5<s&&t++:(this.finderPenaltyAddHistory(s,i),o||(t+=this.finderPenaltyCountPatterns(i)*n.PENALTY_N3),o=this.modules[a][e],s=1);t+=this.finderPenaltyTerminateAndCount(o,s,i)*n.PENALTY_N3}for(e=0;e<this.size-1;e++)for(o=0;o<this.size-1;o++)(s=this.modules[e][o])==this.modules[e][o+1]&&s==this.modules[e+1][o]&&s==this.modules[e+1][o+1]&&(t+=n.PENALTY_N2);for(var h of(e=0,this.modules))e=h.reduce(((t,e)=>t+(e?1:0)),e);return h=this.size*this.size,r(0<=(h=Math.ceil(Math.abs(20*e-10*h)/h)-1)&&9>=h),t+=h*n.PENALTY_N4,r(0<=t&&2568888>=t),t}getAlignmentPatternPositions(){if(1==this.version)return[];const t=Math.floor(this.version/7)+2,e=2*Math.floor((8*this.version+3*t+5)/(4*t-4));let r=[6];for(let n=this.size-7;r.length<t;n-=e)r.splice(1,0,n);return r}static getNumRawDataModules(t){if(t<n.MIN_VERSION||t>n.MAX_VERSION)throw new RangeError("Version number out of range");let e=(16*t+128)*t+64;if(2<=t){const r=Math.floor(t/7)+2;e-=(25*r-10)*r-55,7<=t&&(e-=36)}return r(208<=e&&29648>=e),e}static getNumDataCodewords(t,e){return Math.floor(n.getNumRawDataModules(t)/8)-n.ECC_CODEWORDS_PER_BLOCK[e.ordinal][t]*n.NUM_ERROR_CORRECTION_BLOCKS[e.ordinal][t]}static reedSolomonComputeDivisor(t){if(1>t||255<t)throw new RangeError("Degree out of range");let e=[];for(var r=0;r<t-1;r++)e.push(0);e.push(1),r=1;for(let o=0;o<t;o++){for(let t=0;t<e.length;t++)e[t]=n.reedSolomonMultiply(e[t],r),t+1<e.length&&(e[t]^=e[t+1]);r=n.reedSolomonMultiply(r,2)}return e}static reedSolomonComputeRemainder(t,e){let r=e.map((t=>0));for(const o of t){const t=o^r.shift();r.push(0),e.forEach(((e,o)=>r[o]^=n.reedSolomonMultiply(e,t)))}return r}static reedSolomonMultiply(t,e){if(0!=t>>>8||0!=e>>>8)throw new RangeError("Byte out of range");let n=0;for(let r=7;0<=r;r--)n=n<<1^285*(n>>>7),n^=(e>>>r&1)*t;return r(0==n>>>8),n}finderPenaltyCountPatterns(t){const e=t[1];r(e<=3*this.size);const n=0<e&&t[2]==e&&t[3]==3*e&&t[4]==e&&t[5]==e;return(n&&t[0]>=4*e&&t[6]>=e?1:0)+(n&&t[6]>=4*e&&t[0]>=e?1:0)}finderPenaltyTerminateAndCount(t,e,r){return t&&(this.finderPenaltyAddHistory(e,r),e=0),e+=this.size,this.finderPenaltyAddHistory(e,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(t,e){0==e[0]&&(t+=this.size),e.pop(),e.unshift(t)}}n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;class o{static makeBytes(t){let r=[];for(const n of t)e(n,8,r);return new o(o.Mode.BYTE,t.length,r)}static makeNumeric(t){if(!o.isNumeric(t))throw new RangeError("String contains non-numeric characters");let r=[];for(let n=0;n<t.length;){const o=Math.min(t.length-n,3);e(parseInt(t.substring(n,n+o),10),3*o+1,r),n+=o}return new o(o.Mode.NUMERIC,t.length,r)}static makeAlphanumeric(t){if(!o.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r,n=[];for(r=0;r+2<=t.length;r+=2){let s=45*o.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r));s+=o.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r+1)),e(s,11,n)}return r<t.length&&e(o.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r)),6,n),new o(o.Mode.ALPHANUMERIC,t.length,n)}static makeSegments(t){return""==t?[]:o.isNumeric(t)?[o.makeNumeric(t)]:o.isAlphanumeric(t)?[o.makeAlphanumeric(t)]:[o.makeBytes(o.toUtf8ByteArray(t))]}static makeEci(t){let r=[];if(0>t)throw new RangeError("ECI assignment value out of range");if(128>t)e(t,8,r);else if(16384>t)e(2,2,r),e(t,14,r);else{if(!(1e6>t))throw new RangeError("ECI assignment value out of range");e(6,3,r),e(t,21,r)}return new o(o.Mode.ECI,0,r)}static isNumeric(t){return o.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return o.ALPHANUMERIC_REGEX.test(t)}constructor(t,e,r){if(this.mode=t,this.numChars=e,this.bitData=r,0>e)throw new RangeError("Invalid argument");this.bitData=r.slice()}getData(){return this.bitData.slice()}static getTotalBits(t,e){let r=0;for(const n of t){if(t=n.mode.numCharCountBits(e),n.numChars>=1<<t)return 1/0;r+=4+t+n.bitData.length}return r}static toUtf8ByteArray(t){t=encodeURI(t);let e=[];for(let r=0;r<t.length;r++)"%"!=t.charAt(r)?e.push(t.charCodeAt(r)):(e.push(parseInt(t.substring(r+1,r+3),16)),r+=2);return e}}o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=o}(qrcodegen||={}),function(t){!function(t){class e{constructor(t,e){this.ordinal=t,this.formatBits=e}}e.LOW=new e(0,1),e.MEDIUM=new e(1,0),e.QUARTILE=new e(2,3),e.HIGH=new e(3,2),t.Ecc=e}(t.QrCode||(t.QrCode={}))}(qrcodegen||={}),function(t){!function(t){class e{constructor(t,e){this.modeBits=t,this.numBitsCharCount=e}numCharCountBits(t){return this.numBitsCharCount[Math.floor((t+7)/17)]}}e.NUMERIC=new e(1,[10,12,14]),e.ALPHANUMERIC=new e(2,[9,11,13]),e.BYTE=new e(4,[8,16,16]),e.KANJI=new e(8,[8,10,12]),e.ECI=new e(7,[0,0,0]),t.Mode=e}(t.QrSegment||(t.QrSegment={}))}(qrcodegen||={});
	  </script>
    <!--  -->
    <!-- <script
			type="application/javascript"
			src="qrcodegen-input-demo.js"
		  ></script> -->
    <!-- js code of above is inlined below -->
    <!-- prettier-ignore -->
    <script>
				  var app;!function(){function e(){var e=r("output-format-bitmap").checked,n=t("scale-row");let o=t("download");e?(n.style.removeProperty("display"),o.download="qr-code.png"):(n.style.display="none",o.download="qr-code.svg"),o.removeAttribute("href");var i=t("qrcode-canvas"),l=document.getElementById("qrcode-svg");i.style.display="none",l.style.display="none";var a=r("errcorlvl-medium").checked?qrcodegen.QrCode.Ecc.MEDIUM:r("errcorlvl-quartile").checked?qrcodegen.QrCode.Ecc.QUARTILE:r("errcorlvl-high").checked?qrcodegen.QrCode.Ecc.HIGH:qrcodegen.QrCode.Ecc.LOW;n=t("text-input").value;const c=qrcodegen.QrSegment.makeSegments(n);var s=parseInt(r("version-min-input").value,10),d=parseInt(r("version-max-input").value,10),u=parseInt(r("mask-input").value,10);const p=r("boost-ecc-input").checked;if(a=qrcodegen.QrCode.encodeSegments(c,a,s,d,u,p),u=parseInt(r("border-input").value,10),s=r("light-color-input").value,d=r("dark-color-input").value,!(0>u||100<u)){if(e){if(0>=(l=parseInt(r("scale-input").value,10))||30<l)return;!function(e,t,r,n,o,i){if(0>=t||0>r)throw new RangeError("Value out of range");var l=(e.size+2*r)*t;for(i.width=l,i.height=l,i=i.getContext("2d"),l=-r;l<e.size+r;l++)for(let a=-r;a<e.size+r;a++)i.fillStyle=e.getModule(a,l)?o:n,i.fillRect((a+r)*t,(l+r)*t,t,t)}(a,l,u,s,d,i),i.style.removeProperty("display"),o.href=i.toDataURL("image/png")}else e=function(e,t,r,n){if(0>t)throw new RangeError("Border must be non-negative");let o=[];for(let r=0;r<e.size;r++)for(let n=0;n<e.size;n++)e.getModule(n,r)&&o.push(`M${n+t},${r+t}h1v1h-1z`);return`<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 ${e.size+2*t} ${e.size+2*t}" stroke="none">\n    <rect width="100%" height="100%" fill="${r}"/>\n    <path d="${o.join(" ")}" fill="${n}"/>\n</svg>\n`}(a,u,s,d),i=/ viewBox="([^"]*)"/.exec(e)[1],u=/ d="([^"]*)"/.exec(e)[1],l.setAttribute("viewBox",i),l.querySelector("path").setAttribute("d",u),l.querySelector("rect").setAttribute("fill",s),l.querySelector("path").setAttribute("fill",d),l.style.removeProperty("display"),o.href="data:application/svg+xml,"+encodeURIComponent(e);t("statistics-output").textContent=`QR Code version = ${a.version}, mask pattern = ${a.mask}, character count = ${function(e){let t=0;for(const r of e){if(55296<=(e=r.codePointAt(0))&&57344>e)throw new RangeError("Invalid UTF-16 string");t++}return t}(n)},\nencoding mode = ${function(e){if(0==e.length)return"none";if(1==e.length){e=e[0].mode;const t=qrcodegen.QrSegment.Mode;return e==t.NUMERIC?"numeric":e==t.ALPHANUMERIC?"alphanumeric":e==t.BYTE?"byte":e==t.KANJI?"kanji":"unknown"}return"multiple"}(c)}, error correction = level ${"LMQH".charAt(a.errorCorrectionLevel.ordinal)}, data bits = ${qrcodegen.QrSegment.getTotalBits(c,a.version)}.`}}function t(e){if((e=document.getElementById(e))instanceof HTMLElement)return e;throw Error("Assertion error")}function r(e){if((e=t(e))instanceof HTMLInputElement)return e;throw Error("Assertion error")}(app||={}).handleVersionMinMax=function(t){const n=r("version-min-input"),o=r("version-max-input");let i=parseInt(n.value,10),l=parseInt(o.value,10);i=Math.max(Math.min(i,qrcodegen.QrCode.MAX_VERSION),qrcodegen.QrCode.MIN_VERSION),l=Math.max(Math.min(l,qrcodegen.QrCode.MAX_VERSION),qrcodegen.QrCode.MIN_VERSION),"min"==t&&i>l?l=i:"max"==t&&l<i&&(i=l),n.value=i.toString(),o.value=l.toString(),e()},function(){t("loading").style.display="none",t("loaded").style.removeProperty("display");let r=document.querySelectorAll("input[type=number], input[type=text], textarea");for(let t of r)0!=t.id.indexOf("version-")&&(t.oninput=e);r=document.querySelectorAll("input[type=radio], input[type=checkbox]");for(let t of r)t.onchange=e;e()}()}();
				 </script>

    <hr />
    <p>
      Copyright Â© Project Nayuki â€“
      <a href="https://www.nayuki.io/page/qr-code-generator-library"
        >https://www.nayuki.io/page/qr-code-generator-library</a
      >
    </p>
  </body>
</html>
