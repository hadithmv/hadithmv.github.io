/*
 Select for DataTables 3.0.0
 Â© SpryMedia Ltd - datatables.net/license/mit
*/
(function(h){if("function"===typeof define&&define.amd)define(["jquery","datatables.net"],function(u){return h(u,window,document)});else if("object"===typeof exports){var y=require("jquery"),z=function(u,r){r.fn.dataTable||require("datatables.net")(u,r)};"undefined"===typeof window?module.exports=function(u,r){u||=window;r||=y(u);z(u,r);return h(r,u,u.document)}:(z(window,y),module.exports=h(y,window,window.document))}else h(jQuery,window,document)})(function(h,y,z){function u(a,b,c){var d=function(f,
g){if(f>g){var k=g;g=f;f=k}var m=!1;return a.columns(":visible").indexes().filter(function(n){n===f&&(m=!0);return n===g?(m=!1,!0):m})};var e=function(f,g){var k=a.rows({search:"applied"}).indexes();if(k.indexOf(f)>k.indexOf(g)){var m=g;g=f;f=m}var n=!1;return k.filter(function(t){t===f&&(n=!0);return t===g?(n=!1,!0):n})};a.cells({selected:!0}).any()||c?(d=d(c.column,b.column),c=e(c.row,b.row)):(d=d(0,b.column),c=e(0,b.row));c=a.cells(c,d).flatten();a.cells(b,{selected:!0}).any()?a.cells(c).deselect():
a.cells(c).select()}function r(a){var b=l.select.classes.checkbox;return a?b.replace(/ /g,"."):b}function B(a){var b=a.settings()[0]._select.selector;h(a.table().container()).off("mousedown.dtSelect",b).off("mouseup.dtSelect",b).off("click.dtSelect",b);h("body").off("click.dtSelect"+I(a.table().node()))}function M(a){var b=h(a.table().container()),c=a.settings()[0],d=c._select.selector,e;b.on("mousedown.dtSelect",d,function(f){if(f.shiftKey||f.metaKey||f.ctrlKey)b.css("-moz-user-select","none").one("selectstart.dtSelect",
d,function(){return!1});y.getSelection&&(e=y.getSelection())}).on("mouseup.dtSelect",d,function(){b.css("-moz-user-select","")}).on("click.dtSelect",d,function(f){var g=a.select.items();if(e){var k=y.getSelection();if((!k.anchorNode||h(k.anchorNode).closest("table")[0]===a.table().node())&&k!==e)return}k=a.settings()[0];var m=a.table().container();if(h(f.target).closest("div.dt-container")[0]==m&&(m=a.cell(h(f.target).closest("td, th")),m.any())){var n=h.Event("user-select.dt");v(a,n,[g,m,f]);n.isDefaultPrevented()||
(n=m.index(),"row"===g?(g=n.row,J(f,a,k,"row",g)):"column"===g?(g=m.index().column,J(f,a,k,"column",g)):"cell"===g&&(g=m.index(),J(f,a,k,"cell",g)),k._select_lastCell=n)}});h("body").on("click.dtSelect"+I(a.table().node()),function(f){if(c._select.blurable&&!h(f.target).parents().filter(a.table().container()).length&&0!==h(f.target).parents("html").length&&!h(f.target).parents("div.DTE").length){var g=h.Event("select-blur.dt");v(a,g,[f.target,f]);g.isDefaultPrevented()||F(c,!0)}})}function v(a,b,
c,d){if(!d||a.flatten().length)"string"===typeof b&&(b+=".dt"),c.unshift(a),h(a.table().node()).trigger(b,c)}function G(a){return a.mRender&&"selectCheckbox"===a.mRender._name}function N(a,b){if("api"!==a.select.style()&&!1!==a.select.info()){var c=a.settings()[0],d=c._select_set.length,e=d?d:a.rows({selected:!0}).count(),f=a.columns({selected:!0}).count(),g=a.cells({selected:!0}).count();"subtractive"===c._select_mode&&(e=a.page.info().recordsDisplay-d);c=function(k,m,n){k.append(h('<span class="select-item"/>').append(a.i18n("select."+
m+"s",{_:"%d "+m+"s selected",0:"",1:"1 "+m+" selected"},n)))};b=h(b);d=h('<span class="select-info"/>');c(d,"row",e);c(d,"column",f);c(d,"cell",g);e=b.children("span.select-info");e.length&&e.remove();""!==d.text()&&b.append(d)}}function V(a,b){var c=a.settings()[0].aoColumns;a.columns().iterator("column",function(d,e){if(G(c[e])&&(d=a.column(e).header(),!h("input",d).length)){var f=h("<input>").attr({class:r(!0),type:"checkbox","aria-label":a.i18n("select.aria.headerCheckbox")||"Select all rows"}).appendTo(d).on("change",
function(){this.checked?"select-page"==b?a.rows({page:"current"}).select():a.rows({search:"applied"}).select():"select-page"==b?a.rows({page:"current",selected:!0}).deselect():a.rows({selected:!0}).deselect()}).on("click",function(g){g.stopPropagation()});a.on("draw select deselect",function(g,k,m){if("row"===m||!m){g=a.settings()[0];k=g._select.selectable;m=0;var n="select-page"==b?a.rows({page:"current",selected:!0}).count():a.rows({selected:!0}).count(),t="select-page"==b?a.rows({page:"current",
selected:!0}).count():a.rows({search:"applied",selected:!0}).count();if(k)for(var w="select-page"==b?a.rows({page:"current"}).indexes():a.rows({search:"applied"}).indexes(),A=0;A<w.length;A++){var x=g.aoData[w[A]];k(x._aData,x.nTr,w[A])&&m++}else m="select-page"==b?a.rows({page:"current"}).count():a.rows({search:"applied"}).count();t&&t<=n&&t===m?f.prop("checked",!0).prop("indeterminate",!1):0===t&&0===n?f.prop("checked",!1).prop("indeterminate",!1):f.prop("checked",!1).prop("indeterminate",!0)}})}})}
function W(a){var b=a.settings()[0],c="dts-keys-"+b.sTableId;b._select.keys?(h(a.rows({page:"current"}).nodes()).attr("tabindex",0),a.on("draw."+c,function(){h(a.rows({page:"current"}).nodes()).attr("tabindex",0)}),h(z).on("keydown."+c,function(d){var e=d.keyCode,f=z.activeElement;if([9,13,32,38,40].includes(e)){var g=a.rows({page:"current"}).nodes().toArray(),k=g.indexOf(f),m=!0;-1!==k&&(9===e?!1===d.shift&&k===g.length-1?O(a):!0===d.shift&&0===k?P(a):m=!1:13===e||32===e?(e=a.row(f),e.selected()?
e.deselect():e.select()):38===e?0<k?g[k-1].focus():P(a):k<g.length-1?g[k+1].focus():O(a),m&&(d.stopPropagation(),d.preventDefault()))}})):(h(a.rows().nodes()).removeAttr("tabindex"),a.off("draw."+c),h(z).off("keydown."+c))}function O(a){var b=a.page.info();b.page<b.pages-1&&a.one("draw",function(){a.row(":first-child").node().focus()}).page("next").draw(!1)}function P(a){0<a.page.info().page&&a.one("draw",function(){a.row(":last-child").node().focus()}).page("previous").draw(!1)}function X(a){var b=
new l.Api(a);a._select_init=!0;a._select_mode="additive";a._select_set=[];a.aoRowCreatedCallback.push(function(c,d,e){d=a.aoData[e];e=b.row(e).id();if(d._select_selected||"additive"===a._select_mode&&a._select_set.includes(e)||"subtractive"===a._select_mode&&!a._select_set.includes(e))d._select_selected=!0,h(c).addClass(a._select.className).find("input."+r(!0)).prop("checked",!0);c=0;for(e=a.aoColumns.length;c<e;c++)(a.aoColumns[c]._select_selected||d._selected_cells&&d._selected_cells[c])&&h(d.anCells[c]).addClass(a._select.className)});
Y(b);b.on("info.dt",function(c,d,e){d._select.infoEls.includes(e)||d._select.infoEls.push(e);N(b,e)});b.on("select.dtSelect.dt deselect.dtSelect.dt",function(){a._select.infoEls.forEach(function(c){N(b,c)});b.state.save()});b.on("destroy.dtSelect",function(){h(b.rows({selected:!0}).nodes()).removeClass(b.settings()[0]._select.className);h("input."+r(!0),b.table().header()).remove();B(b);b.off(".dtSelect");h("body").off(".dtSelect"+I(b.table().node()))})}function Q(a,b,c,d){var e=a[b+"s"]({search:"applied"}).indexes();
d=e.indexOf(d);var f=e.indexOf(c);if(a[b+"s"]({selected:!0}).any()||-1!==d){if(d>f){var g=f;f=d;d=g}e.splice(f+1,e.length);e.splice(0,d)}else e.splice(e.indexOf(c)+1,e.length);a[b](c,{selected:!0}).any()?(e.splice(e.indexOf(c),1),a[b+"s"](e).deselect()):a[b+"s"](e).select()}function F(a,b){if(b||"single"===a._select.style)a=new l.Api(a),a.rows({selected:!0}).deselect(),a.columns({selected:!0}).deselect(),a.cells({selected:!0}).deselect()}function J(a,b,c,d,e){var f=b.select.style(),g=b.select.toggleable(),
k=b[d](e,{selected:!0}).any();if(!k||g)"os"===f?a.ctrlKey||a.metaKey?b[d](e).select(!k):a.shiftKey?"cell"===d?u(b,e,c._select_lastCell||null):Q(b,d,e,c._select_lastCell?c._select_lastCell[d]:null):(a=b[d+"s"]({selected:!0}),k&&1===a.flatten().length?b[d](e).deselect():(a.deselect(),b[d](e).select())):"multi+shift"==f?a.shiftKey?"cell"===d?u(b,e,c._select_lastCell||null):Q(b,d,e,c._select_lastCell?c._select_lastCell[d]:null):b[d](e).select(!k):b[d](e).select(!k)}function I(a){return a.id.replace(/[^a-zA-Z0-9\-_]/g,
"-")}function Y(a){a.on("select",function(b,c,d,e){"row"===d&&(b=a.settings()[0],"additive"===b._select_mode?R(a,b._select_set,e):S(a,b._select_set,e))});a.on("deselect",function(b,c,d,e){"row"===d&&(b=a.settings()[0],"additive"===b._select_mode?S(a,b._select_set,e):R(a,b._select_set,e))})}function R(a,b,c){for(var d=0;d<c.length;d++){var e=a.row(c[d]).id();e&&"undefined"!==e&&!b.includes(e)&&b.push(e)}}function S(a,b,c){for(var d=0;d<c.length;d++){var e=a.row(c[d]).id();e=b.indexOf(e);-1!==e&&b.splice(e,
1)}}function C(a,b){return function(c){return c.i18n("buttons."+a,b)}}function K(a){a=a._eventNamespace;return"draw.dt.DT"+a+" select.dt.DT"+a+" deselect.dt.DT"+a}var l=h.fn.dataTable;l.select={};l.select.classes={checkbox:"dt-select-checkbox"};l.select.version="3.0.0";l.select.init=function(a){var b=a.settings()[0];if(!l.versionCheck("2"))throw"Warning: Select requires DataTables 2 or newer";if(!b._select){var c=a.state.loaded(),d=function(D,Z,q){if(null!==q&&void 0!==q.select){a.rows({selected:!0}).any()&&
a.rows().deselect();void 0!==q.select.rows&&a.rows(q.select.rows).select();a.columns({selected:!0}).any()&&a.columns().deselect();void 0!==q.select.columns&&a.columns(q.select.columns).select();a.cells({selected:!0}).any()&&a.cells().deselect();if(void 0!==q.select.cells)for(D=0;D<q.select.cells.length;D++)a.cell(q.select.cells[D].row,q.select.cells[D].column).select();a.state.save()}};a.on("stateSaveParams",function(D,Z,q){q.select={};q.select.rows=a.rows({selected:!0}).ids(!0).toArray();q.select.columns=
a.columns({selected:!0})[0];q.select.cells=a.cells({selected:!0})[0].map(function(T){return{row:a.row(T.row).id(!0),column:T.column}})}).on("stateLoadParams",d).one("init",function(){d(void 0,void 0,c)});var e=b.oInit.select,f=l.defaults.select;e=void 0===e?f:e;f="row";var g="api",k=!1,m=!0,n=null,t=!0,w="td, th",A="selected",x=!0,H=!1,U=!1;b._select={infoEls:[]};!0===e?(g="os",H=!0):"string"===typeof e?(g=e,H=!0):h.isPlainObject(e)&&(void 0!==e.blurable&&(k=e.blurable),void 0!==e.toggleable&&(m=
e.toggleable),void 0!==e.info&&(t=e.info),void 0!==e.items&&(f=e.items),g=void 0!==e.style?e.style:"os",H=!0,void 0!==e.selector&&(w=e.selector),void 0!==e.className&&(A=e.className),void 0!==e.headerCheckbox&&(x=e.headerCheckbox),void 0!==e.selectable&&(n=e.selectable),void 0!==e.keys&&(U=e.keys));a.select.selector(w);a.select.items(f);a.select.style(g);a.select.blurable(k);a.select.toggleable(m);a.select.info(t);a.select.keys(U);a.select.selectable(n);b._select.className=A;!H&&h(a.table().node()).hasClass("selectable")&&
a.select.style("os");(x||"select-page"===x||"select-all"===x)&&a.ready(function(){V(a,x)})}};h.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(a,b){l.ext.selector[b.type].push(function(c,d,e){d=d.selected;var f,g=[];if(!0!==d&&!1!==d)return e;for(var k=0,m=e.length;k<m;k++)(f=c[b.prop][e[k]])&&(!0===d&&!0===f._select_selected||!1===d&&!f._select_selected)&&g.push(e[k]);return g})});l.ext.selector.cell.push(function(a,b,c){b=b.selected;var d,e=[];if(void 0===b)return c;
for(var f=0,g=c.length;f<g;f++)(d=a.aoData[c[f].row])&&(!0===b&&d._selected_cells&&!0===d._selected_cells[c[f].column]||!(!1!==b||d._selected_cells&&d._selected_cells[c[f].column]))&&e.push(c[f]);return e});var p=l.Api.register,E=l.Api.registerPlural;p("select()",function(){return this.iterator("table",function(a){l.select.init(new l.Api(a))})});p("select.blurable()",function(a){return void 0===a?this.context[0]._select.blurable:this.iterator("table",function(b){b._select.blurable=a})});p("select.toggleable()",
function(a){return void 0===a?this.context[0]._select.toggleable:this.iterator("table",function(b){b._select.toggleable=a})});p("select.info()",function(a){return void 0===a?this.context[0]._select.info:this.iterator("table",function(b){b._select.info=a})});p("select.items()",function(a){return void 0===a?this.context[0]._select.items:this.iterator("table",function(b){b._select.items=a;v(new l.Api(b),"selectItems",[a])})});p("select.keys()",function(a){return void 0===a?this.context[0]._select.keys:
this.iterator("table",function(b){b._select||l.select.init(new l.Api(b));b._select.keys=a;W(new l.Api(b))})});p("select.style()",function(a){return void 0===a?this.context[0]._select.style:this.iterator("table",function(b){b._select||l.select.init(new l.Api(b));b._select_init||X(b);b._select.style=a;var c=new l.Api(b);"api"!==a?c.ready(function(){B(c);M(c)}):B(c);v(new l.Api(b),"selectStyle",[a])})});p("select.selector()",function(a){return void 0===a?this.context[0]._select.selector:this.iterator("table",
function(b){var c=new l.Api(b),d=b._select.style;B(c);b._select.selector=a;d&&"api"!==d?c.ready(function(){B(c);M(c)}):B(c)})});p("select.selectable()",function(a){let b=this.context[0];return a?(b._select.selectable=a,this):b._select.selectable});p("select.last()",function(a){let b=this.context[0];return a?(b._select_lastCell=a,this):b._select_lastCell});p("select.cumulative()",function(a){if(a)return this.iterator("table",function(c){if(c._select_mode!==a){var d=new l.Api(c);"subtractive"===a?(d=
d.rows({selected:!1}).ids().toArray(),c._select_mode=a,c._select_set.length=0,c._select_set.push.apply(c._select_set,d)):(d=d.rows({selected:!0}).ids().toArray(),c._select_mode=a,c._select_set.length=0,c._select_set.push.apply(c._select_set,d))}}).draw(!1);let b=this.context[0];return b&&b._select_set?{mode:b._select_mode,rows:b._select_set}:null});E("rows().select()","row().select()",function(a){var b=this,c=[];if(!1===a)return this.deselect();this.iterator("row",function(d,e){F(d);var f=d.aoData[e],
g=d.aoColumns;if(!d._select.selectable||!1!==d._select.selectable(f._aData,f.nTr,e))for(h(f.nTr).addClass(d._select.className),f._select_selected=!0,c.push(e),d=0;d<g.length;d++)e=g[d],null===e.sType&&b.columns().types(),G(e)&&((e=f.anCells)&&e[d]&&h("input."+r(!0),e[d]).prop("checked",!0),null!==f._aSortData&&(f._aSortData[d]=null))});this.iterator("table",function(d){v(b,"select",["row",c],!0)});return this});p("row().selected()",function(){var a=this.context[0];return a&&this.length&&a.aoData[this[0]]&&
a.aoData[this[0]]._select_selected?!0:!1});p("row().focus()",function(){var a=this.context[0];a&&this.length&&a.aoData[this[0]]&&a.aoData[this[0]].nTr&&a.aoData[this[0]].nTr.focus()});p("row().blur()",function(){var a=this.context[0];a&&this.length&&a.aoData[this[0]]&&a.aoData[this[0]].nTr&&a.aoData[this[0]].nTr.blur()});E("columns().select()","column().select()",function(a){var b=this;if(!1===a)return this.deselect();this.iterator("column",function(c,d){F(c);c.aoColumns[d]._select_selected=!0;d=
(new l.Api(c)).column(d);h(d.header()).addClass(c._select.className);h(d.footer()).addClass(c._select.className);d.nodes().to$().addClass(c._select.className)});this.iterator("table",function(c,d){v(b,"select",["column",b[d]],!0)});return this});p("column().selected()",function(){var a=this.context[0];return a&&this.length&&a.aoColumns[this[0]]&&a.aoColumns[this[0]]._select_selected?!0:!1});E("cells().select()","cell().select()",function(a){var b=this;if(!1===a)return this.deselect();this.iterator("cell",
function(c,d,e){F(c);d=c.aoData[d];void 0===d._selected_cells&&(d._selected_cells=[]);d._selected_cells[e]=!0;d.anCells&&h(d.anCells[e]).addClass(c._select.className)});this.iterator("table",function(c,d){v(b,"select",["cell",b.cells(b[d]).indexes().toArray()],!0)});return this});p("cell().selected()",function(){var a=this.context[0];return a&&this.length&&(a=a.aoData[this[0][0].row])&&a._selected_cells&&a._selected_cells[this[0][0].column]?!0:!1});E("rows().deselect()","row().deselect()",function(){var a=
this;this.iterator("row",function(b,c){c=b.aoData[c];var d=b.aoColumns;h(c.nTr).removeClass(b._select.className);c._select_selected=!1;b._select_lastCell=null;for(b=0;b<d.length;b++){var e=d[b];null===e.sType&&a.columns().types();G(e)&&((e=c.anCells)&&e[b]&&h("input."+r(!0),c.anCells[b]).prop("checked",!1),null!==c._aSortData&&(c._aSortData[b]=null))}});this.iterator("table",function(b,c){v(a,"deselect",["row",a[c]],!0)});return this});E("columns().deselect()","column().deselect()",function(){var a=
this;this.iterator("column",function(b,c){b.aoColumns[c]._select_selected=!1;var d=new l.Api(b),e=d.column(c);h(e.header()).removeClass(b._select.className);h(e.footer()).removeClass(b._select.className);d.cells(null,c).indexes().each(function(f){var g=b.aoData[f.row],k=g._selected_cells;!g.anCells||k&&k[f.column]||h(g.anCells[f.column]).removeClass(b._select.className)})});this.iterator("table",function(b,c){v(a,"deselect",["column",a[c]],!0)});return this});E("cells().deselect()","cell().deselect()",
function(){var a=this;this.iterator("cell",function(b,c,d){c=b.aoData[c];void 0!==c._selected_cells&&(c._selected_cells[d]=!1);c.anCells&&!b.aoColumns[d]._select_selected&&h(c.anCells[d]).removeClass(b._select.className)});this.iterator("table",function(b,c){v(a,"deselect",["cell",a[c]],!0)});return this});var L=0;h.extend(l.ext.buttons,{selected:{text:C("selected","Selected"),className:"buttons-selected",limitTo:["rows","columns","cells"],init:function(a,b,c){var d=this;c._eventNamespace=".select"+
L++;a.on(K(c),function(){var e=d.enable;var f=-1!==c.limitTo.indexOf("rows")&&a.rows({selected:!0}).any()||-1!==c.limitTo.indexOf("columns")&&a.columns({selected:!0}).any()||-1!==c.limitTo.indexOf("cells")&&a.cells({selected:!0}).any()?!0:!1;e.call(d,f)});this.disable()},destroy:function(a,b,c){a.off(c._eventNamespace)}},selectedSingle:{text:C("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(a,b,c){var d=this;c._eventNamespace=".select"+L++;a.on(K(c),function(){var e=
a.rows({selected:!0}).flatten().length+a.columns({selected:!0}).flatten().length+a.cells({selected:!0}).flatten().length;d.enable(1===e)});this.disable()},destroy:function(a,b,c){a.off(c._eventNamespace)}},selectAll:{text:C("selectAll","Select all"),className:"buttons-select-all",action:function(a,b,c,d){var e=this.select.items(),f=d.selectorModifier;f?("function"===typeof f&&(f=f.call(b,a,b,c,d)),this[e+"s"](f).select()):this[e+"s"]().select()}},selectNone:{text:C("selectNone","Deselect all"),className:"buttons-select-none",
action:function(){F(this.settings()[0],!0)},init:function(a,b,c){var d=this;c._eventNamespace=".select"+L++;a.on(K(c),function(){var e=a.rows({selected:!0}).flatten().length+a.columns({selected:!0}).flatten().length+a.cells({selected:!0}).flatten().length;d.enable(0<e)});this.disable()},destroy:function(a,b,c){a.off(c._eventNamespace)}},showSelected:{text:C("showSelected","Show only selected"),className:"buttons-show-selected",action:function(a,b){if(b.search.fixed("dt-select"))b.search.fixed("dt-select",
null),this.active(!1);else{var c=b.settings()[0].aoData;b.search.fixed("dt-select",function(d,e,f){return c[f]._select_selected});this.active(!0)}b.draw()}}});h.each(["Row","Column","Cell"],function(a,b){var c=b.toLowerCase();l.ext.buttons["select"+b+"s"]={text:C("select"+b+"s","Select "+c+"s"),className:"buttons-select-"+c+"s",action:function(){this.select.items(c)},init:function(d){var e=this;this.active(d.select.items()===c);d.on("selectItems.dt.DT",function(f,g,k){e.active(k===c)})}}});l.type("select-checkbox",
{className:"dt-select",detect:l.versionCheck("2.1")?{oneOf:function(){return!1},allOf:function(){return!1},init:function(a,b,c){return G(b)}}:function(a){return"select-checkbox"===a?a:!1},order:{pre:function(a){return"X"===a?-1:0}}});h.extend(!0,l.defaults.oLanguage,{select:{aria:{rowCheckbox:"Select row"}}});l.render.select=function(a,b){var c=a?l.util.get(a):null,d=b?l.util.get(b):null;a=function(e,f,g,k){e=k.settings.aoData[k.row];var m=e._select_selected,n=k.settings.oLanguage.select.aria.rowCheckbox,
t=k.settings._select.selectable;return"display"===f?t&&!1===t(g,e.nTr,k.row)?"":h("<input>").attr({"aria-label":n,class:r(),name:d?d(g):null,type:"checkbox",value:c?c(g):null,checked:m}).on("input",function(w){w.preventDefault();this.checked=h(this).closest("tr").hasClass("selected")})[0]:"type"===f?"select-checkbox":"filter"===f?"":m?"X":""};a._name="selectCheckbox";return a};l.ext.order["select-checkbox"]=function(a,b){return this.api().column(b,{order:"index"}).nodes().map(function(c){return"row"===
a._select.items?h(c).parent().hasClass(a._select.className).toString():"cell"===a._select.items?h(c).hasClass(a._select.className).toString():!1})};h.fn.DataTable.select=l.select;h(z).on("i18n.dt.dtSelect preInit.dt.dtSelect",function(a,b){"dt"===a.namespace&&l.select.init(new l.Api(b))});return l});
