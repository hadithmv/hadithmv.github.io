(s=>{var l,c;"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return s(e,window,document)}):"object"==typeof exports?(l=require("jquery"),c=function(e,t){t.fn.dataTable||require("datatables.net")(e,t)},"undefined"==typeof window?module.exports=function(e,t){return e||=window,t||=l(e),c(e,t),s(t,e,e.document)}:(c(window,l),module.exports=s(l,window,window.document))):s(jQuery,window,document)})(function(m,a,i){function r(n,e,t){function s(t,s){var e,l=n.rows({search:"applied"}).indexes(),c=(l.indexOf(t)>l.indexOf(s)&&(e=s,s=t,t=e),!1);return l.filter(function(e){return e===t&&(c=!0),e===s?!(c=!1):c})}var l=function(t,s){s<t&&(e=s,s=t,t=e);var e,l=!1;return n.columns(":visible").indexes().filter(function(e){return e===t&&(l=!0),e===s?!(l=!1):l})};t=n.cells({selected:!0}).any()||t?(l=l(t.column,e.column),s(t.row,e.row)):(l=l(0,e.column),s(0,e.row)),t=n.cells(t,l).flatten(),n.cells(e,{selected:!0}).any()?n.cells(t).deselect():n.cells(t).select()}function v(e){var t=C.select.classes.checkbox;return e?t.replace(/ /g,"."):t}function o(e){var t=e.settings()[0]._select.selector;m(e.table().container()).off("mousedown.dtSelect",t).off("mouseup.dtSelect",t).off("click.dtSelect",t),m("body").off("click.dtSelect"+b(e.table().node()))}function c(n){var o,t=m(n.table().container()),s=n.settings()[0],l=s._select.selector;t.on("mousedown.dtSelect",l,function(e){(e.shiftKey||e.metaKey||e.ctrlKey)&&t.css("-moz-user-select","none").one("selectstart.dtSelect",l,function(){return!1}),a.getSelection&&(o=a.getSelection())}).on("mouseup.dtSelect",l,function(){t.css("-moz-user-select","")}).on("click.dtSelect",l,function(e){var t=n.select.items();if(o){var s=a.getSelection();if((!s.anchorNode||m(s.anchorNode).closest("table")[0]===n.table().node())&&s!==o)return}var l,s=n.settings()[0],c=n.table().container();m(e.target).closest("div.dt-container")[0]==c&&(c=n.cell(m(e.target).closest("td, th"))).any()&&(l=m.Event("user-select.dt"),d(n,l,[t,c,e]),l.isDefaultPrevented()||(l=c.index(),"row"===t?(t=l.row,g(e,n,s,"row",t)):"column"===t?(t=c.index().column,g(e,n,s,"column",t)):"cell"===t&&(t=c.index(),g(e,n,s,"cell",t)),s._select_lastCell=l))}),m("body").on("click.dtSelect"+b(n.table().node()),function(e){var t;!s._select.blurable||m(e.target).parents().filter(n.table().container()).length||0===m(e.target).parents("html").length||m(e.target).parents("div.DTE").length||(t=m.Event("select-blur.dt"),d(n,t,[e.target,e]),t.isDefaultPrevented())||p(s,!0)})}function d(e,t,s,l){l&&!e.flatten().length||("string"==typeof t&&(t+=".dt"),s.unshift(e),m(e.table().node()).trigger(t,s))}function w(e){return e.mRender&&"selectCheckbox"===e.mRender._name}function u(l,e){var t,s,c,n,o;"api"!==l.select.style()&&!1!==l.select.info()&&(c=(s=(t=l.settings()[0])._select_set.length)||l.rows({selected:!0}).count(),n=l.columns({selected:!0}).count(),o=l.cells({selected:!0}).count(),"subtractive"===t._select_mode&&(c=l.page.info().recordsDisplay-s),t=function(e,t,s){e.append(m('<span class="select-item"/>').append(l.i18n("select."+t+"s",{_:"%d "+t+"s selected",0:"",1:"1 "+t+" selected"},s)))},e=m(e),t(s=m('<span class="select-info"/>'),"row",c),t(s,"column",n),t(s,"cell",o),(c=e.children("span.select-info")).length&&c.remove(),""!==s.text())&&e.append(s)}function f(e){var t=e.page.info();t.page<t.pages-1&&e.one("draw",function(){e.row(":first-child").node().focus()}).page("next").draw(!1)}function h(e){0<e.page.info().page&&e.one("draw",function(){e.row(":last-child").node().focus()}).page("previous").draw(!1)}function l(l){var c,n=new C.Api(l);l._select_init=!0,l._select_mode="additive",l._select_set=[],l.aoRowCreatedCallback.push(function(e,t,s){for(t=l.aoData[s],s=n.row(s).id(),(t._select_selected||"additive"===l._select_mode&&l._select_set.includes(s)||"subtractive"===l._select_mode&&!l._select_set.includes(s))&&(t._select_selected=!0,m(e).addClass(l._select.className).find("input."+v(!0)).prop("checked",!0)),e=0,s=l.aoColumns.length;e<s;e++)(l.aoColumns[e]._select_selected||t._selected_cells&&t._selected_cells[e])&&m(t.anCells[e]).addClass(l._select.className)}),(c=n).on("select",function(e,t,s,l){"row"===s&&("additive"===(e=c.settings()[0])._select_mode?y:x)(c,e._select_set,l)}),c.on("deselect",function(e,t,s,l){"row"===s&&("additive"===(e=c.settings()[0])._select_mode?x:y)(c,e._select_set,l)}),n.on("info.dt",function(e,t,s){t._select.infoEls.includes(s)||t._select.infoEls.push(s),u(n,s)}),n.on("select.dtSelect.dt deselect.dtSelect.dt",function(){l._select.infoEls.forEach(function(e){u(n,e)}),n.state.save()}),n.on("destroy.dtSelect",function(){m(n.rows({selected:!0}).nodes()).removeClass(n.settings()[0]._select.className),m("input."+v(!0),n.table().header()).remove(),o(n),n.off(".dtSelect"),m("body").off(".dtSelect"+b(n.table().node()))})}function _(e,t,s,l){var c,n=e[t+"s"]({search:"applied"}).indexes(),o=(l=n.indexOf(l),n.indexOf(s));e[t+"s"]({selected:!0}).any()||-1!==l?(o<l&&(c=o,o=l,l=c),n.splice(o+1,n.length),n.splice(0,l)):n.splice(n.indexOf(s)+1,n.length),e[t](s,{selected:!0}).any()?(n.splice(n.indexOf(s),1),e[t+"s"](n).deselect()):e[t+"s"](n).select()}function p(e,t){!t&&"single"!==e._select.style||((e=new C.Api(e)).rows({selected:!0}).deselect(),e.columns({selected:!0}).deselect(),e.cells({selected:!0}).deselect())}function g(e,t,s,l,c){var n=t.select.style(),o=t.select.toggleable(),a=t[l](c,{selected:!0}).any();a&&!o||("os"===n?e.ctrlKey||e.metaKey?t[l](c).select(!a):e.shiftKey?"cell"===l?r(t,c,s._select_lastCell||null):_(t,l,c,s._select_lastCell?s._select_lastCell[l]:null):(e=t[l+"s"]({selected:!0}),a&&1===e.flatten().length?t[l](c).deselect():(e.deselect(),t[l](c).select())):"multi+shift"==n&&e.shiftKey?"cell"===l?r(t,c,s._select_lastCell||null):_(t,l,c,s._select_lastCell?s._select_lastCell[l]:null):t[l](c).select(!a))}function b(e){return e.id.replace(/[^a-zA-Z0-9\-_]/g,"-")}function y(e,t,s){for(var l=0;l<s.length;l++){var c=e.row(s[l]).id();c&&"undefined"!==c&&!t.includes(c)&&t.push(c)}}function x(e,t,s){for(var l=0;l<s.length;l++){var c=e.row(s[l]).id();-1!==(c=t.indexOf(c))&&t.splice(c,1)}}function s(t,s){return function(e){return e.i18n("buttons."+t,s)}}function n(e){return"draw.dt.DT"+(e=e._eventNamespace)+" select.dt.DT"+e+" deselect.dt.DT"+e}var C=m.fn.dataTable,e=(C.select={},C.select.classes={checkbox:"dt-select-checkbox"},C.select.version="3.0.0",C.select.init=function(l){var e,t,s,c,n,o,a,i,r,d,u,f,h,_,p=l.settings()[0];if(!C.versionCheck("2"))throw"Warning: Select requires DataTables 2 or newer";!p._select&&(e=l.state.loaded(),t=function(e,t,s){if(null!==s&&void 0!==s.select){if(l.rows({selected:!0}).any()&&l.rows().deselect(),void 0!==s.select.rows&&l.rows(s.select.rows).select(),l.columns({selected:!0}).any()&&l.columns().deselect(),void 0!==s.select.columns&&l.columns(s.select.columns).select(),l.cells({selected:!0}).any()&&l.cells().deselect(),void 0!==s.select.cells)for(e=0;e<s.select.cells.length;e++)l.cell(s.select.cells[e].row,s.select.cells[e].column).select();l.state.save()}},l.on("stateSaveParams",function(e,t,s){s.select={},s.select.rows=l.rows({selected:!0}).ids(!0).toArray(),s.select.columns=l.columns({selected:!0})[0],s.select.cells=l.cells({selected:!0})[0].map(function(e){return{row:l.row(e.row).id(!0),column:e.column}})}).on("stateLoadParams",t).one("init",function(){t(void 0,0,e)}),s=p.oInit.select,c=C.defaults.select,s=void 0===s?c:s,c="row",a=!(o=!(n="api")),d="td, th",u="selected",_=h=!(f=r=!(i=null)),p._select={infoEls:[]},!0===s?(n="os",h=!0):"string"==typeof s?(n=s,h=!0):m.isPlainObject(s)&&(void 0!==s.blurable&&(o=s.blurable),void 0!==s.toggleable&&(a=s.toggleable),void 0!==s.info&&(r=s.info),void 0!==s.items&&(c=s.items),n=void 0!==s.style?s.style:"os",h=!0,void 0!==s.selector&&(d=s.selector),void 0!==s.className&&(u=s.className),void 0!==s.headerCheckbox&&(f=s.headerCheckbox),void 0!==s.selectable&&(i=s.selectable),void 0!==s.keys)&&(_=s.keys),l.select.selector(d),l.select.items(c),l.select.style(n),l.select.blurable(o),l.select.toggleable(a),l.select.info(r),l.select.keys(_),l.select.selectable(i),p._select.className=u,!h&&m(l.table().node()).hasClass("selectable")&&l.select.style("os"),f||"select-page"===f||"select-all"===f)&&l.ready(function(){var r,d,s;d=f,s=(r=l).settings()[0].aoColumns,r.columns().iterator("column",function(e,t){var i;w(s[t])&&(e=r.column(t).header(),!m("input",e).length)&&(i=m("<input>").attr({class:v(!0),type:"checkbox","aria-label":r.i18n("select.aria.headerCheckbox")||"Select all rows"}).appendTo(e).on("change",function(){this.checked?("select-page"==d?r.rows({page:"current"}):r.rows({search:"applied"})).select():("select-page"==d?r.rows({page:"current",selected:!0}):r.rows({selected:!0})).deselect()}).on("click",function(e){e.stopPropagation()}),r.on("draw select deselect",function(e,t,s){if("row"===s||!s){t=(e=r.settings()[0])._select.selectable,s=0;var l=("select-page"==d?r.rows({page:"current",selected:!0}):r.rows({selected:!0})).count(),c=("select-page"==d?r.rows({page:"current",selected:!0}):r.rows({search:"applied",selected:!0})).count();if(t)for(var n=("select-page"==d?r.rows({page:"current"}):r.rows({search:"applied"})).indexes(),o=0;o<n.length;o++){var a=e.aoData[n[o]];t(a._aData,a.nTr,n[o])&&s++}else s=("select-page"==d?r.rows({page:"current"}):r.rows({search:"applied"})).count();c&&c<=l&&c===s?i.prop("checked",!0).prop("indeterminate",!1):0===c&&0===l?i.prop("checked",!1).prop("indeterminate",!1):i.prop("checked",!1).prop("indeterminate",!0)}}))})})},m.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(e,a){C.ext.selector[a.type].push(function(e,t,s){var l,c=[];if(!0!==(t=t.selected)&&!1!==t)return s;for(var n=0,o=s.length;n<o;n++)(l=e[a.prop][s[n]])&&(!0===t&&!0===l._select_selected||!1===t&&!l._select_selected)&&c.push(s[n]);return c})}),C.ext.selector.cell.push(function(e,t,s){var l,c=[];if(void 0===(t=t.selected))return s;for(var n=0,o=s.length;n<o;n++)(l=e.aoData[s[n].row])&&(!0===t&&l._selected_cells&&!0===l._selected_cells[s[n].column]||!(!1!==t||l._selected_cells&&l._selected_cells[s[n].column]))&&c.push(s[n]);return c}),C.Api.register),t=C.Api.registerPlural,k=(e("select()",function(){return this.iterator("table",function(e){C.select.init(new C.Api(e))})}),e("select.blurable()",function(t){return void 0===t?this.context[0]._select.blurable:this.iterator("table",function(e){e._select.blurable=t})}),e("select.toggleable()",function(t){return void 0===t?this.context[0]._select.toggleable:this.iterator("table",function(e){e._select.toggleable=t})}),e("select.info()",function(t){return void 0===t?this.context[0]._select.info:this.iterator("table",function(e){e._select.info=t})}),e("select.items()",function(t){return void 0===t?this.context[0]._select.items:this.iterator("table",function(e){e._select.items=t,d(new C.Api(e),"selectItems",[t])})}),e("select.keys()",function(s){return void 0===s?this.context[0]._select.keys:this.iterator("table",function(e){var o,t;e._select||C.select.init(new C.Api(e)),e._select.keys=s,o=new C.Api(e),e=o.settings()[0],t="dts-keys-"+e.sTableId,e._select.keys?(m(o.rows({page:"current"}).nodes()).attr("tabindex",0),o.on("draw."+t,function(){m(o.rows({page:"current"}).nodes()).attr("tabindex",0)}),m(i).on("keydown."+t,function(e){var t,s,l,c=e.keyCode,n=i.activeElement;[9,13,32,38,40].includes(c)&&(l=!0,-1!==(s=(t=o.rows({page:"current"}).nodes().toArray()).indexOf(n)))&&(9===c?!1===e.shift&&s===t.length-1?f(o):!0===e.shift&&0===s?h(o):l=!1:13===c||32===c?(c=o.row(n)).selected()?c.deselect():c.select():38===c?0<s?t[s-1].focus():h(o):s<t.length-1?t[s+1].focus():f(o),l)&&(e.stopPropagation(),e.preventDefault())})):(m(o.rows().nodes()).removeAttr("tabindex"),o.off("draw."+t),m(i).off("keydown."+t))})}),e("select.style()",function(s){return void 0===s?this.context[0]._select.style:this.iterator("table",function(e){e._select||C.select.init(new C.Api(e)),e._select_init||l(e),e._select.style=s;var t=new C.Api(e);"api"!==s?t.ready(function(){o(t),c(t)}):o(t),d(new C.Api(e),"selectStyle",[s])})}),e("select.selector()",function(l){return void 0===l?this.context[0]._select.selector:this.iterator("table",function(e){var t=new C.Api(e),s=e._select.style;o(t),e._select.selector=l,s&&"api"!==s?t.ready(function(){o(t),c(t)}):o(t)})}),e("select.selectable()",function(e){var t=this.context[0];return e?(t._select.selectable=e,this):t._select.selectable}),e("select.last()",function(e){var t=this.context[0];return e?(t._select_lastCell=e,this):t._select_lastCell}),e("select.cumulative()",function(s){var e;return s?this.iterator("table",function(e){var t;e._select_mode!==s&&(t=new C.Api(e),t=("subtractive"===s?t.rows({selected:!1}):t.rows({selected:!0})).ids().toArray(),e._select_mode=s,e._select_set.length=0,e._select_set.push.apply(e._select_set,t))}).draw(!1):(e=this.context[0])&&e._select_set?{mode:e._select_mode,rows:e._select_set}:null}),t("rows().select()","row().select()",function(e){var c=this,n=[];return!1===e?this.deselect():(this.iterator("row",function(e,t){p(e);var s=e.aoData[t],l=e.aoColumns;if(!e._select.selectable||!1!==e._select.selectable(s._aData,s.nTr,t))for(m(s.nTr).addClass(e._select.className),s._select_selected=!0,n.push(t),e=0;e<l.length;e++)null===(t=l[e]).sType&&c.columns().types(),w(t)&&((t=s.anCells)&&t[e]&&m("input."+v(!0),t[e]).prop("checked",!0),null!==s._aSortData)&&(s._aSortData[e]=null)}),this.iterator("table",function(e){d(c,"select",["row",n],!0)}),this)}),e("row().selected()",function(){var e=this.context[0];return!!(e&&this.length&&e.aoData[this[0]]&&e.aoData[this[0]]._select_selected)}),e("row().focus()",function(){var e=this.context[0];e&&this.length&&e.aoData[this[0]]&&e.aoData[this[0]].nTr&&e.aoData[this[0]].nTr.focus()}),e("row().blur()",function(){var e=this.context[0];e&&this.length&&e.aoData[this[0]]&&e.aoData[this[0]].nTr&&e.aoData[this[0]].nTr.blur()}),t("columns().select()","column().select()",function(e){var s=this;return!1===e?this.deselect():(this.iterator("column",function(e,t){p(e),e.aoColumns[t]._select_selected=!0,t=new C.Api(e).column(t),m(t.header()).addClass(e._select.className),m(t.footer()).addClass(e._select.className),t.nodes().to$().addClass(e._select.className)}),this.iterator("table",function(e,t){d(s,"select",["column",s[t]],!0)}),this)}),e("column().selected()",function(){var e=this.context[0];return!!(e&&this.length&&e.aoColumns[this[0]]&&e.aoColumns[this[0]]._select_selected)}),t("cells().select()","cell().select()",function(e){var s=this;return!1===e?this.deselect():(this.iterator("cell",function(e,t,s){p(e),void 0===(t=e.aoData[t])._selected_cells&&(t._selected_cells=[]),t._selected_cells[s]=!0,t.anCells&&m(t.anCells[s]).addClass(e._select.className)}),this.iterator("table",function(e,t){d(s,"select",["cell",s.cells(s[t]).indexes().toArray()],!0)}),this)}),e("cell().selected()",function(){var e=this.context[0];return!!(e&&this.length&&(e=e.aoData[this[0][0].row])&&e._selected_cells&&e._selected_cells[this[0][0].column])}),t("rows().deselect()","row().deselect()",function(){var c=this;return this.iterator("row",function(e,t){t=e.aoData[t];var s=e.aoColumns;for(m(t.nTr).removeClass(e._select.className),t._select_selected=!1,e._select_lastCell=null,e=0;e<s.length;e++){var l=s[e];null===l.sType&&c.columns().types(),w(l)&&((l=t.anCells)&&l[e]&&m("input."+v(!0),t.anCells[e]).prop("checked",!1),null!==t._aSortData)&&(t._aSortData[e]=null)}}),this.iterator("table",function(e,t){d(c,"deselect",["row",c[t]],!0)}),this}),t("columns().deselect()","column().deselect()",function(){var s=this;return this.iterator("column",function(l,e){l.aoColumns[e]._select_selected=!1;var t=new C.Api(l),s=t.column(e);m(s.header()).removeClass(l._select.className),m(s.footer()).removeClass(l._select.className),t.cells(null,e).indexes().each(function(e){var t=l.aoData[e.row],s=t._selected_cells;!t.anCells||s&&s[e.column]||m(t.anCells[e.column]).removeClass(l._select.className)})}),this.iterator("table",function(e,t){d(s,"deselect",["column",s[t]],!0)}),this}),t("cells().deselect()","cell().deselect()",function(){var s=this;return this.iterator("cell",function(e,t,s){void 0!==(t=e.aoData[t])._selected_cells&&(t._selected_cells[s]=!1),t.anCells&&!e.aoColumns[s]._select_selected&&m(t.anCells[s]).removeClass(e._select.className)}),this.iterator("table",function(e,t){d(s,"deselect",["cell",s[t]],!0)}),this}),0);return m.extend(C.ext.buttons,{selected:{text:s("selected","Selected"),className:"buttons-selected",limitTo:["rows","columns","cells"],init:function(s,e,l){var c=this;l._eventNamespace=".select"+k++,s.on(n(l),function(){var e=c.enable,t=!!(-1!==l.limitTo.indexOf("rows")&&s.rows({selected:!0}).any()||-1!==l.limitTo.indexOf("columns")&&s.columns({selected:!0}).any()||-1!==l.limitTo.indexOf("cells")&&s.cells({selected:!0}).any());e.call(c,t)}),this.disable()},destroy:function(e,t,s){e.off(s._eventNamespace)}},selectedSingle:{text:s("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(t,e,s){var l=this;s._eventNamespace=".select"+k++,t.on(n(s),function(){var e=t.rows({selected:!0}).flatten().length+t.columns({selected:!0}).flatten().length+t.cells({selected:!0}).flatten().length;l.enable(1===e)}),this.disable()},destroy:function(e,t,s){e.off(s._eventNamespace)}},selectAll:{text:s("selectAll","Select all"),className:"buttons-select-all",action:function(e,t,s,l){var c=this.select.items(),n=l.selectorModifier;(n?("function"==typeof n&&(n=n.call(t,e,t,s,l)),this[c+"s"](n)):this[c+"s"]()).select()}},selectNone:{text:s("selectNone","Deselect all"),className:"buttons-select-none",action:function(){p(this.settings()[0],!0)},init:function(t,e,s){var l=this;s._eventNamespace=".select"+k++,t.on(n(s),function(){var e=t.rows({selected:!0}).flatten().length+t.columns({selected:!0}).flatten().length+t.cells({selected:!0}).flatten().length;l.enable(0<e)}),this.disable()},destroy:function(e,t,s){e.off(s._eventNamespace)}},showSelected:{text:s("showSelected","Show only selected"),className:"buttons-show-selected",action:function(e,t){var l;t.search.fixed("dt-select")?(t.search.fixed("dt-select",null),this.active(!1)):(l=t.settings()[0].aoData,t.search.fixed("dt-select",function(e,t,s){return l[s]._select_selected}),this.active(!0)),t.draw()}}}),m.each(["Row","Column","Cell"],function(e,t){var c=t.toLowerCase();C.ext.buttons["select"+t+"s"]={text:s("select"+t+"s","Select "+c+"s"),className:"buttons-select-"+c+"s",action:function(){this.select.items(c)},init:function(e){var l=this;this.active(e.select.items()===c),e.on("selectItems.dt.DT",function(e,t,s){l.active(s===c)})}}}),C.type("select-checkbox",{className:"dt-select",detect:C.versionCheck("2.1")?{oneOf:function(){return!1},allOf:function(){return!1},init:function(e,t,s){return w(t)}}:function(e){return"select-checkbox"===e&&e},order:{pre:function(e){return"X"===e?-1:0}}}),m.extend(!0,C.defaults.oLanguage,{select:{aria:{rowCheckbox:"Select row"}}}),C.render.select=function(e,t){var a=e?C.util.get(e):null,i=t?C.util.get(t):null;return(e=function(e,t,s,l){var c=(e=l.settings.aoData[l.row])._select_selected,n=l.settings.oLanguage.select.aria.rowCheckbox,o=l.settings._select.selectable;return"display"===t?o&&!1===o(s,e.nTr,l.row)?"":m("<input>").attr({"aria-label":n,class:v(),name:i?i(s):null,type:"checkbox",value:a?a(s):null,checked:c}).on("input",function(e){e.preventDefault(),this.checked=m(this).closest("tr").hasClass("selected")})[0]:"type"===t?"select-checkbox":"filter"!==t&&c?"X":""})._name="selectCheckbox",e},C.ext.order["select-checkbox"]=function(t,e){return this.api().column(e,{order:"index"}).nodes().map(function(e){return"row"===t._select.items?m(e).parent().hasClass(t._select.className).toString():"cell"===t._select.items&&m(e).hasClass(t._select.className).toString()})},m.fn.DataTable.select=C.select,m(i).on("i18n.dt.dtSelect preInit.dt.dtSelect",function(e,t){"dt"===e.namespace&&C.select.init(new C.Api(t))}),C});