let isMobile=window.innerWidth<=800;function removeThashkeel(e){return e.replace(/[\u064e|\u064b|\u064f|\u064c|\u0650|\u064d|\u0652|\u0651|~|\u207d|\u207e|\u00b9\u00b2\u00b3\u2074\u2075\u2076\u2077\u2078\u2079\u2070]/g,"")}let tashkeelRemoved=!1,originalData=[];function toggleTashkeel(){tashkeelRemoved=!tashkeelRemoved;const e=table.page();if(tashkeelRemoved){const e=originalData.map(e=>e.map(e=>"string"==typeof e?removeThashkeel(e):e));table.clear().rows.add(e).draw(!1),document.getElementById("toggleFiliButton").textContent=" ފިލިތައް ދައްކާ "}else table.clear().rows.add(originalData).draw(!1),document.getElementById("toggleFiliButton").textContent=" ފިލިތައް ފޮރުވާ ";table.page(e).draw("page")}function removeSmallishFootnotes(e){return e.replace(/[\u207d|\u207e|\u00b9\u00b2\u00b3\u2074\u2075\u2076\u2077\u2078\u2079\u2070]/g,"")}function copyURLToClipButton(){let e=document.createElement("textarea");document.body.appendChild(e),e.value=window.location.href,e.value=e.value.replace(/^.*\/books\//,"https://hadithmv.github.io/books/").replace(/^.*\/uc\//,"https://hadithmv.github.io/books/"),e.select(),document.execCommand("copy"),document.body.removeChild(e);let t=document.getElementById("copyPageLink"),a=t.innerHTML;window.getComputedStyle(t),t.style.width=t.offsetWidth+"px",t.style.textAlign="center",t.innerHTML="📋 ކޮޕީ ވެއްޖެ",setTimeout(function(){t.innerHTML=a,t.style.width=""},1e3)}function scrollUpTop(){window.scrollTo({top:0,behavior:"smooth"})}function changeBook(e){let t,a,n=window.location.toString();if(e.startsWith("quran"))a="quran",t=/quranHadithmv|quranBakurube|quranJaufar|quranSoabuni|quranRasmee|quranUshru/g;else{if(!e.startsWith("radheef"))return void console.error("Invalid book type");a="radheef",t=/radheefAll|radheefRasmee|radheefEegaal|radheefManiku|radheefNanfoiy/g}n.includes(a)||n.includes("quranUshru")?n.includes("quranUshru")&&"quranUshru"!==e?(e=n.replace("quranUshru",e).split("#")[0],window.location=e.endsWith(".html")?e:e+".html"):window.location=n.replace(t,e).replace(/:v.*$/,""):window.location=window.location.origin+window.location.pathname.replace(/[^\/]*$/,e+".html")}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".belowPage-bab-dropdown");if(e){e.addEventListener("click",function(t){if(t.preventDefault(),"A"===(t=t.target).tagName){var a=t.parentElement;t.classList.contains("open-all")?function(e){e.querySelectorAll("li").forEach(e=>{e.querySelector("ul")&&e.classList.add("active")})}(e):t.classList.contains("collapse-all")?function(e){e.querySelectorAll("li > ul > li.active").forEach(e=>{e.classList.remove("active")})}(e):a.querySelector("ul")?a.classList.toggle("active"):t.hasAttribute("data-value")&&(t=t.getAttribute("data-value"),a=window.location.hash.match(/l(\d+)/),window.location.hash=`#tableID=l${a?a[1]:"1"}:p${t}`,window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{location.reload()},150))}})}window.scrollTo({top:0,behavior:"smooth"})});let table,columnDefsconfig=[{targets:"_all",searchPanes:{show:!1},render:e=>e.replace(/(\r\n\r\n|\n\n|\r\r)+/g,'\t<br class="dtBr">\t<br class="dtBr">').replace(/(\r\n|\n|\r)+/g,'\t<br class="dtBr">')}],DTconfig={keys:!isMobile,keepConditions:!0,layout:{top:["search","inputPaging","search",{buttons:[{extend:"copy",copySuccess:!1,key:{key:"c",altKey:!0},titleAttr:"copy",text:"⧉ ކޮޕީ",footer:!1,header:!1,fieldSeparator:"\n\n",exportOptions:{columns:":visible",modifier:{page:"current"}},customize:function(e){if(e=(e=(e=e.replace(/\r\n|\n|\r/g,"\n")).replace(/\t/g,"\n\n")).replace(/\n{3,}/g,"\n\n"),"undefined"!=typeof currentSurah&&currentSurah){e=e.split("\n");var t=currentSurah,a=arabicSurahNames[t],n=["ترجمة حديث إم في – ޙަދީޘްއެމްވީ ގުރްއާން ތަރުޖަމާ","الترجمة الرسمية – ރަސްމީ ގުރްއާން ތަރުޖަމާ","التفسير الواضح الميسر – ޞާބޫނީގެ ތަފްސީރު"];e=(e=e.map(function(e){return n.includes(e.trim())?`${t} ${a}`:e})).join("\n")}let o=e.split("\n\nـــــــــــــــــــــــــــ\n\n");return o.length>1&&(o[1]=o[1].replace(/\n\n/g,"\n"),o[1]=o[1].replace(/\n$/,"\n\n"),e=o[0]+"\n\nـــــــــــــــــــــــــــ\n"+o[1]),e}},{extend:"collection",key:{key:"m",altKey:!0},text:"⌥ އިތުރު",background:!1,buttons:[{extend:"colvis",key:{key:"s",altKey:!0},text:"☰ ދައްކާ/ފޮރުވާ",background:!1,postfixButtons:[{extend:"colvisGroup",text:"ހުރިހާ ދައްކާ &nbsp; +",show:":hidden",titleAttr:"show all"},{extend:"colvisRestore",text:"ރީސެޓްކުރޭ &nbsp; ↺",titleAttr:"reset toggle"}]},{extend:"searchBuilder",key:{key:"b",altKey:!0},titleAttr:"custom search"},{extend:"searchPanes",key:{key:"v",altKey:!0},config:{cascadePanes:!0,viewTotal:!0,collapse:!1,dtOpts:{select:{style:"multi+shift"}}}},{extend:"pageLength",key:{key:"p",altKey:!0},background:!1},"<h3></h3>",{text:"ސަފުހާގެ ލިންކު ކޮޕީކުރޭ",action:function(e,t,a,n){copyURLToClipButton()}},{text:"ފިލިތައް ފޮރުވާ/ދައްކާ",action:function(e,t,a,n){toggleTashkeel()}},"<h3></h3>"]}]}],bottom:["inputPaging","info"]}};DataTable.defaults.layout={topStart:null,topEnd:null,bottomStart:null,bottomEnd:null},Object.assign(DataTable.defaults,{language:{emptyTable:"– ނުފެނުނު 🗨️ –",info:"_TOTAL_ ގެ ތެރެއިން _START_ އިން _END_ އަށް",infoFiltered:"(ޖުމްލަ ބެލުނީ _MAX_)",infoEmpty:"– ނުފެނުނު 🗨️ –",loadingRecords:"ތައްޔާރުވަނީ... ⏳",search:"",searchPlaceholder:'ސީދާ ލަފްޒު "މިހެން ހޯދާ"، !މިލަފްޒު ނުލާ ހޯދާ',zeroRecords:"– ނުފެނުނު 🗨️ –",paginate:{first:"<< ",last:" >>",next:" >",previous:"< "},entries:{_:"",1:""},buttons:{pageLength:{_:"%d ބަރި ދައްކާ","-1":"ހުރިހާ"},copyTitle:"&nbsp; ކޮޕީ 📋"},searchBuilder:{button:"🔍 ކަސްޓަމް ސާޗް",add:"+ އިތުރުކުރޭ",condition:"ޝަރުތު",clearAll:"ރީސެޓް",data:"ބަރި",logicAnd:"އަދި &",logicOr:"ނޫނީ |",title:{0:"ސާޗް ޝަރުތުތައް",_:"ސާޗް ޝަރުތުތައް (%d)"},value:"ލިޔުން",valueJoiner:"އަދި"},searchPanes:{collapse:{0:"⧩ ބަރި ފިލްޓާ",_:"⧩ ބަރި ފިލްޓާ (%d)"},title:{_:"%d ފިލްޓާ ކުރެވިފާ",0:"0 ފިލްޓާ ކުރެވިފާ",1:"1 ފިލްޓާ ކުރެވިފާ"},count:"{total}",countFiltered:"{shown} ({total})",emptyMessage:"— ވަކި އެއްޗެއް ނުޖަހާ —",clearMessage:"ފިލްޓާތައް ދުއްވާލާ"}},stateSave:!0,stateSaveParams:function(e,t){for(e=0;e<t.columns.length;e++)delete t.columns[e].visible},stateDuration:86400,ordering:!1,orderClasses:!1,searchDelay:350,autoWidth:!1,mark:{ignorePunctuation:["ًٌٍَُِّْٕٖٜٟٗ٘ٙٚٛٝٞ"],synonyms:{"أ":"ا","آ":"ا","إ":"ا","ٱ":"ا","ؤ":"و","ة":"ه","ئ":"ى","ޘ":"ސ","ޙ":"ހ","ޛ":"ޒ","ޜ":"ޒ","ޞ":"ސ","ޠ":"ތ","ޡ":"ޒ","ޢ":"އ","ޤ":"ގ","ޥ":"ވ"}},lengthMenu:[1,2,3,4,5,10,20,30,40,50],displayLength:1}),table=new DataTable("#tableID",{...DTconfig}),$(function(){"undefined"!=typeof DataTable&&DataTable.util.diacritics(function(e,t){if("string"!=typeof e)return e;var a=e.normalize("NFD").replace(/[\u0623\u0622\u0625\u0671 \u0670]/g,"ا").replace("ؤ","و").replace(/\u0629/g,"ه").replace(/[\u064B-\u065F]/g,"").replace("ئ","ى").replace(/\u0798/g,"ސ").replace(/\u0799/g,"ހ").replace(/\u079b/g,"ޒ").replace(/\u079c/g,"ޒ").replace(/\u079e/g,"ސ").replace(/\u07a0/g,"ތ").replace(/\u07a1/g,"ޒ").replace(/\u07a2/g,"އ").replace(/\u07a4/g,"ގ").replace(/\u07a5/g,"ވ");return a.length!==e.length?(!0===t?e+" ":"")+a.replace(/[\u0300-\u036f]/g,""):a})}),document.addEventListener("DOMContentLoaded",function(){isMobile?(table.on("page",function(){var e=document.querySelector("tbody");const t=document.querySelector(".navbar").offsetHeight;e=e.getBoundingClientRect().top+window.pageYOffset,window.scrollTo({top:e-t+25,behavior:"smooth"})}),delete Hammer.defaults.cssProps.userSelect,Hammer(document.querySelector(".dataTable")).on("swipeleft",function(){table.page("previous").draw("page")}),Hammer(document.querySelector(".dataTable")).on("swiperight",function(){table.page("next").draw("page")})):($("div.dt-search .dt-input").focus(),table.on("page",function(){window.scrollTo({top:0,behavior:"smooth"})})),$(".dt-paging-input input").prop("type","search").attr("placeholder","ސަފުހާ"),$("tbody").on("dblclick","tr",function(){""!==table.search()&&table.search("").draw();var e=table.row(this).index();if(void 0!==e){var t=table.page.info();table.page(Math.floor(e/t.length)).draw(!1),(t=table.row(e).node())&&(e=document.querySelector(".navbar")?.offsetHeight||0,t=t.getBoundingClientRect().top+window.pageYOffset,window.scrollTo({top:t-e,behavior:"smooth"}))}})});